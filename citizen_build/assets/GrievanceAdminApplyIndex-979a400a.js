import{j as e,z as S,E as B,J as A,K as E,M as G}from"./mui-8e804a04.js";import{r as l,u as L}from"./router-87042356.js";import{V as U}from"./index.esm-9d7434c8.js";import{l as k,c as H,d as m,u as C,A as g}from"./index-0f28b603.js";import{G as I}from"./GrievanceApiList-f1509de8.js";import"./react-09dd1212.js";import"./reactIcons-6a3b6da1.js";import"./axios-97164839.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";var R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y=(i,n)=>{const o=l.forwardRef(({color:N="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:x,children:t,...p},u)=>l.createElement("svg",{ref:u,...R,width:c,height:c,stroke:N,strokeWidth:x?Number(d)*24/Number(c):d,className:`lucide lucide-${_(i)}`,...p},[...n.map(([h,j])=>l.createElement(h,j)),...(Array.isArray(t)?t:[t])||[]]));return o.displayName=`${i}`,o},$=y("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),D=y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]);function ee(i){var f;const[n,o]=l.useState(),[N,c]=l.useState(),[d,x]=l.useState(),[t,p]=l.useState(),{notify:u}=l.useContext(k),{api_distList:h,api_getAllUlbList:j,api_wardListByUlb:b,api_grievanceApplyForm:W}=I();L();const w=H({fileUpload:m().required("Require"),description:m().required("Require"),grievanceHead:m().required("Require"),department:m().required("Require")}),s=C({initialValues:{mobileNo:"",applicantName:"",fileUpload:"",description:"",grievanceHead:"",department:""},enableReinitialize:!0,onSubmit:(r,v)=>{console.log("Value.....",r),u("Grievance Submitted Successfully","success"),i.screen()},validationSchema:w}),F=r=>{let v=r.target.name;r.target.value;const q=r.target.files[0];v==="fileUpload"&&c(q)},a={filed:"flex-1 w-full px-4 py-2 text-base text-gray-800 placeholder-gray-400 bg-white border border-gray-300 focus:outline-none focus:ring-1 focus:ring-indigo-800 focus:border-transparent",required:"text-red-700 font-semibold"};l.useEffect(()=>{g.post(h,{}).then(r=>{r.data.status?(console.log("List of district",r),o(r.data.data)):console.log("Error while fetching district list",r)}).catch(r=>{console.log("Error while fetching district list",r)})},[]),l.useEffect(()=>{g.get(j).then(r=>{r.data.status?(console.log("List of district",r),x(r.data.data)):console.log("Error while fetching district list",r)}).catch(r=>{console.log("Error while fetching district list",r)})},[]);const P=()=>{g.post(b,{ulbId:s.values.ulb}).then(r=>{r.data.status?(console.log("List of Wards against ulb",r),p(r.data.data)):console.log("Error while fetching ward list",r)}).catch(r=>{console.log("Error while fetching ward list",r)})};return l.useEffect(()=>{P()},[s.values.ulb]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-5 py-6 rounded-lg border border-indigo-300 bg-white md:mx-[10rem] xl:mx-[20rem] my-32",children:[e.jsxs("p",{className:"absolute right-8 top-8 cursor-pointer bg-gray-100 hover:bg-gray-300",children:[" ",e.jsx(U,{size:30})," "]}),e.jsx("div",{className:"text-center text-lg underline font-semibold",children:"Grievance Registration Page"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:s.handleSubmit,onChange:F,children:[e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Contact No",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("input",{type:"text",...s.getFieldProps("mobileNo"),name:"mobileNo",className:`${a.filed}`}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.mobileNo&&s.errors.mobileNo?s.errors.mobileNo:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Applicant Name",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("input",{type:"text",...s.getFieldProps("applicantName"),name:"applicantName",className:`${a.filed}`}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.applicantName&&s.errors.applicantName?s.errors.applicantName:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Email",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("input",{type:"text",...s.getFieldProps("email"),name:"email",className:`${a.filed}`}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.email&&s.errors.email?s.errors.email:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsx("label",{children:"Aadhar"}),e.jsx("input",{type:"text",...s.getFieldProps("aadhar"),name:"aadhar",className:`${a.filed}`}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.aadhar&&s.errors.aadhar?s.errors.aadhar:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsxs("label",{children:["Gender",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("input",{type:"radio",...s.getFieldProps("gender"),name:"gender",value:"male",className:"mx-2"}),"Male",e.jsx("input",{type:"radio",...s.getFieldProps("gender"),name:"gender",value:"female",className:"mx-2"}),"Female"]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.gender&&s.errors.gender?s.errors.gender:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsxs("label",{children:["Specially abled ?",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("input",{type:"radio",...s.getFieldProps("disability"),name:"disability",value:"yes",className:"mx-2"}),"Yes",e.jsx("input",{type:"radio",...s.getFieldProps("disability"),name:"disability",value:"no",className:"mx-2"}),"No"]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.disability&&s.errors.disability?s.errors.disability:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsx("div",{className:"flex justify-start",children:e.jsxs("label",{children:["Grievance Register By ? ",e.jsx("span",{className:a.required,children:"*"})]})}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.gender&&s.errors.gender?s.errors.gender:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-between w-full py-1",children:[e.jsx("input",{type:"radio",...s.getFieldProps("registeredBy"),name:"registeredBy",value:"yes",className:"mx-2"}),e.jsx(S,{}),e.jsx("input",{type:"radio",...s.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(B,{}),e.jsx("input",{type:"radio",...s.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(D,{}),e.jsx("input",{type:"radio",...s.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(A,{}),e.jsx("input",{type:"radio",...s.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx($,{}),e.jsx("input",{type:"radio",...s.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(E,{}),e.jsx("input",{type:"radio",...s.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(G,{})]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.registeredBy&&s.errors.registeredBy?s.errors.registeredBy:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Select Department ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsxs("select",{...s.getFieldProps("department"),name:"department",className:a.filed,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"1",children:"Department 1"}),e.jsx("option",{value:"2",children:"Department 2"}),e.jsx("option",{value:"3",children:"Department 3"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.department&&s.errors.department?s.errors.department:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"grievanceHead",children:["Select Grievance Head ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsxs("select",{...s.getFieldProps("grievanceHead"),name:"grievanceHead",className:a.filed,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"1",children:"Grievance Head 1"}),e.jsx("option",{value:"2",children:"Grievance Head 2"}),e.jsx("option",{value:"3",children:"Grievance Head 3"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.grievanceHead&&s.errors.grievanceHead?s.errors.grievanceHead:null})]})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"description",children:["Write Description ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("textarea",{...s.getFieldProps("description"),name:"description",className:a.filed,placeholder:"Enter your grievance",rows:"5",cols:"40"}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.description&&s.errors.description?s.errors.description:null})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Select District ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsxs("select",{...s.getFieldProps("district"),name:"district",className:a.filed,children:[e.jsx("option",{children:"Select"}),n==null?void 0:n.map(r=>e.jsx("option",{value:r.district_code,children:r.district_name}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.district&&s.errors.district?s.errors.district:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"ulb",children:["Select ULB ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsxs("select",{...s.getFieldProps("ulb"),name:"ulb",className:a.filed,children:[e.jsx("option",{value:"",children:"Select"}),(f=d==null?void 0:d.filter(r=>r.district_id==s.values.district))==null?void 0:f.map(r=>e.jsx("option",{value:r.id,children:r.ulb_name}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.ulb&&s.errors.ulb?s.errors.ulb:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"ward",children:["Select Ward ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsxs("select",{...s.getFieldProps("ward"),name:"ward",className:a.filed,children:[e.jsx("option",{children:"Select"}),t==null?void 0:t.map(r=>e.jsx("option",{value:r.id,children:r.ward_name}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.ward&&s.errors.ward?s.errors.ward:null})]})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"address",children:["Your Address ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("textarea",{...s.getFieldProps("address"),name:"address",className:a.filed,placeholder:"Enter your address",rows:"2"}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.address&&s.errors.address?s.errors.address:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"address",children:["Other Information ",e.jsx("span",{className:"text-xs italic",children:"(optional)"})," ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("textarea",{...s.getFieldProps("address"),name:"address",className:a.filed,placeholder:"Other Information",rows:"2"}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.address&&s.errors.address?s.errors.address:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"fileUpload",children:["Upload Image ",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("input",{...s.getFieldProps("fileUpload"),type:"file",accept:"image/*",name:"fileUpload",className:a.filed}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.fileUpload&&s.errors.fileUpload?s.errors.fileUpload:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsxs("label",{children:["Importance Label ?",e.jsx("span",{className:a.required,children:"*"})]}),e.jsx("input",{type:"radio",...s.getFieldProps("importance"),name:"importance",value:"lease",className:"mx-2 "})," ",e.jsx("span",{className:"bg-green-500 rounded text-white px-2 py-1 text-sm font-semibold",children:" Least Important"}),e.jsx("input",{type:"radio",...s.getFieldProps("importance"),name:"importance",value:"medium",className:"mx-2"}),e.jsx("span",{className:"bg-yellow-500 rounded text-white px-2 py-1 text-sm font-semibold",children:"Medium Important"}),e.jsx("input",{type:"radio",...s.getFieldProps("importance"),name:"importance",value:"most",className:"mx-2 "}),e.jsx("span",{className:"bg-red-500 rounded text-white px-2 py-1 text-sm font-semibold",children:"Most Important"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:s.touched.importance&&s.errors.importance?s.errors.importance:null})]}),e.jsx("div",{className:"m-3 w-full flex justify-center",children:e.jsx("button",{type:"submit",className:"px-4 py-2 mt-5 bg-indigo-600 hover:bg-indigo-700 text-gray-50 text-base shadow-md rounded-md",children:"Submit Grievances"})})]})})]})})}export{ee as default};
