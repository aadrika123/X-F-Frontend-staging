import{j as e}from"./mui-8e804a04.js";import{r as a,u as p}from"./router-87042356.js";import{l as u,c as g,d as n,u as j,A as N}from"./index-0f28b603.js";import{G as f}from"./GrievanceApiList-f1509de8.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";const _=()=>{const[s,d]=a.useState();a.useState();const c=p(),{api_grievanceTrack:m}=f(),{notify:l}=a.useContext(u),x=g({trackNo:n().required("Require"),mobile:n().required("Require")}),t=j({initialValues:{trackNo:"",mobile:""},enableReinitialize:!0,onSubmit:(r,o)=>{console.log("Value.....",r),b(r)},validationSchema:x}),h=r=>{r.target.name,r.target.value},b=r=>{var o;(o=N)==null||o.post(m,{applicationNo:r.trackNo,mobileNo:r.mobile}).then(i=>{i.data.status?(d(i.data.data),console.log("Grievance Details..",i.data.data),l("Grievance Details Fetched","success")):(console.log("Failed to get Grievance details",i),l("Failed to get Grievance details","error"))}).catch(i=>{l("Error Failed to get Grievance details","error"),console.log("Error Failed to get Grievance details",i)})};return e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsxs("div",{className:"border shadow-xl bg-gray-100 mt-20 h-screen",children:[e.jsx("div",{className:"flex justify-center my-5",children:e.jsx("p",{className:"font-bold text-3xl text-gray-600 text-center",children:" Track Your Grievance Status "})}),e.jsx("form",{onSubmit:t.handleSubmit,onChange:h,children:e.jsxs("div",{className:"border m-auto space-y-5 bg-white rounded-md p-10 w-full md:w-[30%]",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Acknowledgment Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"trackNo",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.trackNo&&t.errors.trackNo?t.errors.trackNo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Mobile Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"mobile",onChange:t.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.mobile&&t.errors.mobile?t.errors.mobile:null})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-x-3",children:[e.jsx("button",{type:"button",onClick:()=>c(-1),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-5",children:"Back"}),e.jsx("button",{type:"submit",className:"border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-lg rounded-sm text-base font-semibold px-5 py-1",children:"Track Grievance"})]})]})}),s&&e.jsxs("div",{className:"border bg-white items-center m-auto justify-between p-5 w-[50rem] rounded-md space-y-5",children:[e.jsxs("div",{className:"flex justify-evenly border-b pb-2",children:[e.jsxs("p",{children:["Register Date : ",e.jsx("span",{className:"text-indigo-600 font-semibold",children:s==null?void 0:s.apply_date})]}),e.jsxs("p",{children:["Application No : ",e.jsx("span",{className:"text-indigo-600 font-semibold",children:s==null?void 0:s.application_no})]}),e.jsxs("p",{children:["Status : ",e.jsx("span",{className:"text-green-600 font-semibold",children:"Active"})]})]}),e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsxs("div",{className:"my-2",children:[e.jsx("p",{children:"Name"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:s==null?void 0:s.applicant_name})]}),e.jsxs("div",{className:"my-2",children:[e.jsx("p",{children:"Phone"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:s==null?void 0:s.mobile_no})]}),e.jsxs("div",{className:"my-2",children:[e.jsx("p",{children:"Email"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:s==null?void 0:s.email})]}),e.jsxs("div",{className:"my-2",children:[e.jsx("p",{children:"District"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Ranchi"})]}),e.jsxs("div",{className:"my-2",children:[e.jsx("p",{children:"ULB"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Ranchi Municipal Corporation"})]}),e.jsxs("div",{className:"my-2",children:[e.jsx("p",{children:"Ward"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:s==null?void 0:s.ward_id})]})]}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"font-semibold my-2",children:"Your Grievance"}),s==null?void 0:s.description]}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"font-semibold my-2",children:"Other Information"}),(s==null?void 0:s.other_info)||"N/A"]})]})]})})})};export{_ as default};
