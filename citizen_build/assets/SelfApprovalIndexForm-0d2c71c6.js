import{j as e}from"./mui-8e804a04.js";import{a as k,f as A,r as m}from"./router-87042356.js";import{R as _}from"./index-90c6ecf6.js";import{n as d,x as C,A as L,b as B}from"./index-0f28b603.js";import{Q as I}from"./index-8289c3ab.js";import{a as M}from"./ReuploadDocumentModal-4107fde6.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./index-4e794517.js";import"./RazorpayPaymentScreen-07e994d7.js";import"./CitizenApplyApiList-5b22da78.js";import"./logo1-66954bc2.js";import"./WaterApiList-5dfb5a8b.js";import"./UseRazorpay-62e4000a.js";import"./index-48d14c2d.js";import"./CommonModal-340f9ebb.js";import"./ServerErrorCard-3ca8b150.js";import"./materialTailwind-be55ec1d.js";const P=window.location.host,S=()=>{const i=document.getElementById("qr-code"),o=new XMLSerializer().serializeToString(i),r=500,n=r/i.getBoundingClientRect().width,a=document.createElement("canvas"),c=a.getContext("2d"),s=document.createElement("img");a.width=r,a.height=i.getBoundingClientRect().height*n,s.setAttribute("src","data:image/svg+xml;base64,"+btoa(o)),s.onload=()=>{c.drawImage(s,0,0,a.width,a.height);const l=a.toDataURL("image/png"),t=document.createElement("a");t.href=l,t.download="qr-code.png",t.click()}};class T extends k.Component{render(){var o,r,n,a,c,s,l,t,p,x,h,f,g,j,u,b,N,v,y,w,D,R;return console.log("paymentData...1",(o=this.props)==null?void 0:o.paymentData),e.jsx(e.Fragment,{children:e.jsx("div",{id:"printableArea",className:"h-96vh",children:e.jsx("div",{children:e.jsxs("div",{className:"border-dashed text-[14px]  bg-white text-gray-700  border-2 font-Lato  w-[46rem] p-3 ml-9 mt-12 border-gray-700",children:[e.jsxs("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 ",children:[e.jsx("div",{className:"",children:e.jsx("img",{src:(a=(n=(r=this.props)==null?void 0:r.paymentData)==null?void 0:n.ulbDetails)==null?void 0:a.ulb_logo,className:"h-16 mx-auto"})}),e.jsx("div",{className:"",children:e.jsx("img",{src:"https:upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Jharkhand_Rajakiya_Chihna.svg/1200px-Jharkhand_Rajakiya_Chihna.svg.png",alt:"",className:" w-[22rem] h-[22rem]  absolute z-10 bg-transparent opacity-20 mt-[16rem] ml-[13rem]  rounded-full border"})})]}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 ",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"font-bold text-2xl text-center ",children:d(((s=(c=this.props)==null?void 0:c.paymentData)==null?void 0:s.ulb_name)||"Ranchi Municipal Corporation")})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 lg:grid-col-12 p-2 ",children:e.jsx("div",{className:"mx-auto",children:e.jsx("h1",{className:"font-semibold text-xl text-center text-gray-800 border border-gray-700 w-[16rem] uppercase",children:"APPROVAL FORM"})})}),e.jsx("div",{children:e.jsx("table",{className:"w-full p-2 ",children:e.jsxs("tr",{className:"",children:[e.jsx("td",{className:" ",children:e.jsxs("div",{className:"flex p-1 text-md",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Receipt No. :"}),e.jsxs("h1",{className:"flex font-sans font-semibold  pl-2",children:[" ",d((t=(l=this.props)==null?void 0:l.paymentData)==null?void 0:t.reciept_no)]})]})}),e.jsx("td",{className:"float-right ",children:e.jsxs("div",{className:"flex p-1 text-md",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"Date : "}),e.jsx("h1",{className:"flex font-sans font-semibold pl-2 ",children:d((x=(p=this.props)==null?void 0:p.paymentData)==null?void 0:x.approve_date)})]})})]})})}),e.jsx("div",{children:e.jsx("table",{className:"w-full  p-2",children:e.jsx("tr",{className:"",children:e.jsx("td",{className:" ",children:e.jsxs("div",{className:"flex p-1 text-md",children:[e.jsx("h1",{className:"flex text-gray-900 font-sans ",children:"To ,"}),e.jsx("h1",{className:"flex font-sans font-semibold  pl-2",children:d((f=(h=this.props)==null?void 0:h.paymentData)==null?void 0:f.applicant_name)})]})})})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 xl:grid-col-12 p-2 ",children:e.jsx("div",{className:"",children:e.jsxs("h1",{className:" text-md leading-relaxed",children:[" Please refer to your application No.",e.jsx("span",{className:"font-bold",children:d((j=(g=this.props)==null?void 0:g.paymentData)==null?void 0:j.application_no)}),", dated ",e.jsx("span",{className:"font-bold",children:d((b=(u=this.props)==null?void 0:u.paymentData)==null?void 0:b.license_start_date)})," for registration of installation of Outdoor Media Device for Display of outdoor Advertisement."]})})}),e.jsx("div",{className:"grid grid-col-1 md:grid-col-12 xl:grid-col-12 p-2 ",children:e.jsx("div",{className:"",children:e.jsx("h1",{className:"text-md text-left leading-relaxed ",children:"Dear Sir,"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-md leading-relaxed p-2",children:["This is with reference to your application regarding registration with Urban Local Bodies for installation of an Outdoor Media Device for display of outdoor advertisements.",e.jsx("br",{}),"It is to inform that following decision has been taken in consideration of your application:",e.jsx("br",{}),"1.  Your application for registration is approved and unique identification number alloted to you is ",e.jsxs("span",{className:"font-bold",children:[d((v=(N=this.props)==null?void 0:N.paymentData)==null?void 0:v.license_no),"."]})," Please use the same for all future correspondance with the Urban Local Bodies and for activating your account on the website of Urban Local Bodies.",e.jsx("br",{}),"2.  Your application for new Media/renewal can be rejected on account due to the following reasons :",e.jsx("br",{}),"a.   Incomplete application.",e.jsx("br",{}),"b.   Incorrect information provided",e.jsx("br",{}),"c.   Pending dues with Municipal Corporation.",e.jsx("br",{}),"d.   Blacklisted Status not verified",e.jsx("br",{}),"e.   Others .............."]}),e.jsx("br",{}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(I,{id:"qr-code",value:`${P}/citizen/approvalLetter/${(w=(y=this.props)==null?void 0:y.paymentData)==null?void 0:w.id}/${(R=(D=this.props)==null?void 0:D.paymentData)==null?void 0:R.workflow_id}`,size:100,level:"M",includeMargin:!0}),e.jsx("button",{className:"text-blue-600 underline text-sm",onClick:S,children:"Download"})]})}),e.jsxs("h1",{className:"text-md leading-relaxed p-2",children:["Thanking You,",e.jsx("br",{}),"Municipal Commissioner/Executive Officer/Special Officer,",e.jsx("br",{}),"Urban Local Bodies,"]}),e.jsx("br",{}),e.jsxs("h1",{className:"text-md leading-relaxed p-2",children:["Note :   If your application is rejected, you may submit a new application once you have met the conditions outlined above. ",e.jsx("br",{}),"Note :   This is a Typical format only and is subject to modification/amendment by the Urban Local Bodies from time to time ."]}),e.jsx("h1",{className:"mt-10"})]})]})})})})}}function ie(){const{id:i,workflowId:o}=A();console.log("param transcation id ..",i),console.log("param wrkflow id ..",o);const{getApprovalLetterDetails:r}=M(),n=m.useRef(),[a,c]=m.useState();m.useState(!1),C("Payment Receipt"),m.useEffect(()=>{s()},[]);const s=()=>{const l={applicationId:i,workflowId:o};console.log("before fetch payment receipt....",l),L.post(`${r}`,l,B()).then(t=>{console.log("Approval letter details",t),t.data.status&&c(t.data.data)}).catch(t=>{console.log(t)})};return console.log("payment data",a),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px:0 md:px-[10rem] lg:[22rem]",children:[e.jsx(_,{trigger:()=>e.jsx("button",{className:"mt-4 ml-8  px-6 py-1 text-center bg-sky-400 text-white font-medium text-sm ",children:"print"}),content:()=>n.current}),e.jsx(T,{ref:n,paymentData:a})]})})}export{ie as default};
