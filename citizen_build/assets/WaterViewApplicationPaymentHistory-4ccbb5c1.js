import{j as s}from"./mui-8e804a04.js";import{r as x,f as _,u as A}from"./router-87042356.js";import{W as P}from"./WaterApiList-5dfb5a8b.js";import{l as S,A as m}from"./index-0f28b603.js";import{h as u}from"./moment-fbc5633a.js";import{W as T}from"./WaterApplicationTopButtons-4f3b7c8c.js";import{N as C}from"./NoDataFoundStyle1-7c7ae943.js";import{S as l}from"./ShimmerEffectInline-66ba2926.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";const G=()=>{var i;const[e,h]=x.useState(),[r,N]=x.useState(""),[f,o]=x.useState(!1),[a,n]=x.useState(!1),{id:d}=_(),y=A(),{setBreadCrumbData:g}=x.useContext(S);x.useEffect(()=>{g(["Water Dashboard","Payment History"])},[]);const{api_waterApplicationPaymentHistory:j,api_waterViewPendingApplication:p,header:c}=P(),b=()=>{n(!0),m.post(p,{applicationId:d},c).then(function(t){console.log("water Approved Application Details",t.data.data),h(t.data.data.applicationDetails),n(!1)}).catch(function(t){console.log("Error : water Approved Application Details",t),n(!1)})},v=()=>{o(!0),m.post(j,{id:d},c).then(function(t){console.log("water payment history",t.data.data),N(t.data.data),o(!1)}).catch(function(t){console.log("Error : water payment history",t),o(!1)})};return x.useEffect(()=>{b(),v()},[d]),s.jsxs(s.Fragment,{children:[s.jsx(T,{active:"payment",title:"Water Application Payment History",applicationNo:e==null?void 0:e.application_no}),s.jsx("div",{className:" grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:s.jsxs("div",{className:"col-span-12 rounded-lg ",children:[s.jsx("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg",children:a?s.jsx(l,{}):s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"flex flex-wrap gap-5 pl-4 max-sm:flex-col max-sm:gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Application No"}),s.jsx("div",{className:"font-bold text-sm",children:e!=null&&e.application_no?e==null?void 0:e.application_no:"N/A"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Connection Type"}),s.jsxs("div",{className:"font-semibold text-md",children:[e!=null&&e.connection_type?e==null?void 0:e.connection_type:"N/A"," "]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Ward No."}),s.jsx("div",{className:"font-bold text-sm",children:e!=null&&e.ward_name?e==null?void 0:e.ward_name:"N/A"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Ownership Type"}),s.jsx("div",{className:"font-semibold text-md",children:e!=null&&e.owner_char_type?e==null?void 0:e.owner_char_type:"N/A"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Property Type"}),s.jsx("div",{className:"font-bold text-sm",children:e!=null&&e.property_type?e==null?void 0:e.property_type:"N/A"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-10  pl-4 mt-4 max-sm:flex-col max-sm:gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Pipeline Type"}),s.jsx("div",{className:"font-bold text-sm",children:e!=null&&e.pipeline_type?e==null?void 0:e.pipeline_type:"N/A"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Connection Through"}),s.jsx("div",{className:"font-bold text-sm",children:e!=null&&e.connection_through?e==null?void 0:e.connection_through:"N/A"})]}),(e==null?void 0:e.connection_through)=="SAF"?s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"SAF No"}),s.jsx("div",{className:"font-semibold text-md",children:e!=null&&e.saf_no?e==null?void 0:e.saf_no:"N/A"})]}):s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Holding No"}),s.jsx("div",{className:"font-semibold text-md",children:e!=null&&e.holding_no?e==null?void 0:e.holding_no:"N/A"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Area (Sqft.)"}),s.jsx("div",{className:"font-semibold text-md",children:e!=null&&e.area_sqft?e==null?void 0:e.area_sqft:"N/A"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-500 text-xs",children:"Category"}),s.jsx("div",{className:"font-bold text-sm",children:e!=null&&e.category?e==null?void 0:e.category:"N/A"})]})]})]})}),f?s.jsx(l,{}):r!=null&&r.transactionHistory?r&&(r==null?void 0:r.length)!=0?s.jsx("div",{className:"mt-10 bg-white shadow-xl  rounded-lg overflow-auto",children:s.jsxs("table",{className:"min-w-full leading-normal mt-2",children:[s.jsx("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Transaction No"}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Payment Mode"}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Date"}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Type"}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Amount"}),s.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Action"})]})}),s.jsx("tbody",{className:"text-sm",children:(i=r==null?void 0:r.transactionHistory)==null?void 0:i.map((t,w)=>s.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:w+1}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_no}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.payment_mode}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:u(t==null?void 0:t.tran_date).format("DD-MMM-yy")}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.tran_type}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:t==null?void 0:t.amount}),s.jsx("td",{className:"px-2 py-2 text-sm text-left",children:s.jsx("button",{onClick:()=>y(`/waterConnReceipt/${t==null?void 0:t.tran_no}`),type:"button",className:"cypress_owner_add_update px-2 py-2.5 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"View Receipt"})})]}))})]})}):s.jsx("div",{className:"text-center mt-10",children:s.jsx("span",{className:"text-red-600 font-bold text-lg px-4 py-2 border border-red-500  shadow-xl ",children:" No Payments Found Yet"})}):s.jsx(C,{message:"No Transactions Found!"}),s.jsx("div",{className:"w-full h-40"})]})})]})};export{G as default};
