import{j as e}from"./mui-8e804a04.js";import{f as $,r as d}from"./router-87042356.js";import{a as U}from"./axios-97164839.js";import{b as V}from"./building-ba148a11.js";import{f as q}from"./folders-c40af08a.js";import{T as G}from"./TopTabs-e737c8dd.js";import{B as J,n as x,b as K}from"./index-0f28b603.js";import"./CommonModal-340f9ebb.js";import{S as M}from"./ServerErrorCard-3ca8b150.js";import{p as O,a as Q}from"./Styles-a2fa8249.js";function te(l){var u,g,N,b,v,y,w,S,A,D,T,R,B,k,E;const{id:j}=$(),[i,H]=d.useState(),[o,L]=d.useState(!1),[C,h]=d.useState(!0),[F,f]=d.useState(!1),P=()=>{var s,a,t,c,n,m;f(!1),h(!0),U[(t=(a=(s=l==null?void 0:l.detailRules)==null?void 0:s.api)==null?void 0:a.api_getAppicationFullDetail)==null?void 0:t.method]((m=(n=(c=l==null?void 0:l.detailRules)==null?void 0:c.api)==null?void 0:n.api_getAppicationFullDetail)==null?void 0:m.url,{applicationId:j},K()).then(function(r){var _,z;console.log("view full details...",r==null?void 0:r.data),(_=r==null?void 0:r.data)!=null&&_.status?H((z=r==null?void 0:r.data)==null?void 0:z.data):f(!0),h(!1)}).catch(function(r){f(!0),h(!1)})};return d.useEffect(()=>{P()},[]),C?e.jsxs(e.Fragment,{children:[e.jsx(J,{}),e.jsx("div",{className:"min-h-screen"})]}):F?e.jsx(M,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full mx-auto",children:[e.jsxs("div",{className:"",children:[((g=(u=l==null?void 0:l.detailRules)==null?void 0:u.filters)==null?void 0:g.topButtons)&&e.jsx(G,{title:`${(b=(N=l==null?void 0:l.detailRules)==null?void 0:N.detailInfo)==null?void 0:b.title} - ${i==null?void 0:i.application_no}`,type:"application",id:j,safNo:i==null?void 0:i.saf_no,active:"property"}),((y=(v=l==null?void 0:l.detailRules)==null?void 0:v.filters)==null?void 0:y.topButtons)==!1&&e.jsx("div",{children:e.jsx("span",{className:O,children:(S=(w=l==null?void 0:l.detailRules)==null?void 0:w.detailInfo)==null?void 0:S.title})})]}),e.jsx("div",{className:"flex flex-row flex-wrap justify-center",children:e.jsx("div",{class:"rounded-lg pt-4 z-50 w-full",children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"text-gray-700 py-6 ",children:e.jsx("div",{className:"grid md:grid-cols-2 text-sm bg-white shadow-lg rounded-sm py-4",children:(T=(D=(A=i==null?void 0:i.fullDetailsData)==null?void 0:A.cardArray)==null?void 0:D.data)==null?void 0:T.map(s=>e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("div",{className:"px-4 py-2 font-semibold",children:[x(s==null?void 0:s.displayString)," : "]}),e.jsx("div",{className:"px-4 py-2",children:x(s==null?void 0:s.value)})]}))})}),e.jsx("div",{children:e.jsx("button",{type:"button",className:Q,onClick:()=>L(!o),children:o?"Hide Full Details":"Show Full Details"})}),o&&e.jsxs(e.Fragment,{children:[(B=(R=i==null?void 0:i.fullDetailsData)==null?void 0:R.dataArray)==null?void 0:B.map(s=>{var a;return e.jsx("div",{className:"",children:e.jsx("div",{className:"container mx-auto mb-0 mt-1  py-1 ",children:e.jsx("div",{className:"md:flex no-wrap ",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"py-3 rounded-sm",children:[e.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:e.jsxs("div",{className:"tracking-wide flex-1",children:[e.jsx("img",{src:q,alt:"pin",className:"w-5 inline"})," ",s==null?void 0:s.headerTitle]})}),e.jsx("div",{className:"shadow-lg rounded-lg  py-6 bg-white",children:e.jsx("div",{className:"grid grid-cols-10 space-y-2  pl-4 ",children:(a=s==null?void 0:s.data)==null?void 0:a.map(t=>e.jsxs("div",{className:"col-span-2 text-xs",children:[e.jsx("div",{className:"font-bold text-sm",children:x(t==null?void 0:t.value)}),e.jsx("div",{className:"text-gray-500",children:x(t==null?void 0:t.displayString)})]}))})})]})})})})})}),(E=(k=i==null?void 0:i.fullDetailsData)==null?void 0:k.tableArray)==null?void 0:E.map(s=>{var a,t;return e.jsx("div",{className:"",children:e.jsx("div",{className:"container mx-auto mb-0 mt-1 py-1 ",children:e.jsx("div",{className:"md:flex no-wrap",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"0 py-3 rounded-sm",children:[e.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:e.jsxs("span",{className:"tracking-wide",children:[e.jsx("img",{src:V,alt:"building image",className:"inline w-4"})," ",s==null?void 0:s.headerTitle]})}),e.jsx(e.Fragment,{children:e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-sky-5 shadow-lg rounded-lg",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-white text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"#"}),(a=s==null?void 0:s.tableHead)==null?void 0:a.map(c=>e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:c}))]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(t=s==null?void 0:s.tableData)==null?void 0:t.map((c,n)=>e.jsxs("tr",{className:"bg-white  border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:n+1}),c==null?void 0:c.map(m=>e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:m||"N/A"}))]}))})})]})})]})})})})})})]})]})})})]})})}export{te as D};
