import{j as e}from"./mui-8e804a04.js";import{r as a,f as st,u as ot}from"./router-87042356.js";import{W as rt}from"./WaterApiList-5dfb5a8b.js";/* empty css              *//* empty css                */import{p as P}from"./pdf-37897ad1.js";import{W as dt,a as ct,n as C,i as n}from"./WaterDocumentModalForOwner-e0f02648.js";import{V as lt}from"./ViewUploadedDoc-363cff11.js";import{l as pt,A as nt}from"./index-0f28b603.js";import{W as it}from"./WaterPaymentModal-e6c44de4.js";import{W as mt}from"./WaterApplicationTopButtons-4f3b7c8c.js";import{S as w}from"./ShimmerEffectInline-66ba2926.js";import"./react-09dd1212.js";import"./index-4e794517.js";import"./index.esm-2e3a7c1f.js";import"./reactIcons-6a3b6da1.js";import"./index.esm-f717eb21.js";import"./RazorpayPaymentScreen-07e994d7.js";import"./CitizenApplyApiList-5b22da78.js";import"./logo1-66954bc2.js";import"./axios-97164839.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./success-39308b33.js";import"./index.esm-e8e486ac.js";import"./UseRazorpay-62e4000a.js";import"./index-48d14c2d.js";const Bt=xt=>{var W,V,O;const[F,L]=a.useState(0),[E,R]=a.useState(0),[D,A]=a.useState(),[y,B]=a.useState(),[T,q]=a.useState(0),[U,M]=a.useState(),[z,G]=a.useState(),[k,v]=a.useState(!1),[H,J]=a.useState(!1),[d,K]=a.useState(!1),[Q,S]=a.useState(!1),{api_waterViewDocumetTobeuploaded:X,header:Y}=rt(),{id:N}=st();ot(),a.useEffect(()=>{_()},[N]);const{setBreadCrumbData:Z}=a.useContext(pt);a.useEffect(()=>{Z(["Water Dashboard","Upload Document"])},[]);const _=()=>{v(!0),nt.post(X,{applicationId:N},Y).then(t=>{var s,o,r;v(!1),console.log("LIst of document to be uploaded in water",t),A(t.data.data.documentsList),B(t.data.data.ownersDocList),J((o=(s=t==null?void 0:t.data)==null?void 0:s.data)==null?void 0:o.doc_upload_status),K((r=t==null?void 0:t.data)==null?void 0:r.data)}).catch(t=>{v(!1),console.log("ERror while fetching list of water doc to be upladed",t)})},$=(t,s,o)=>{M({docName:t,applicationId:N,docVal:s,refDocName:o}),L(c=>c+1)},tt=(t,s,o,r,c)=>{M({ownerName:t,docName:s,applicationId:N,ownerId:o,docVal:r,docCategory:c}),R(l=>l+1)},I=t=>{t&&(G(t),q(s=>s+1))},et=()=>{S(!0)},at=(W=d==null?void 0:d.connectionCharges)==null?void 0:W.charge_category;return console.log("connectionCharges"),e.jsxs(e.Fragment,{children:[e.jsx(mt,{active:"document",title:"Water Application Document Upload",applicationNo:(V=d==null?void 0:d.connectionCharges)==null?void 0:V.applicationNo}),Q&&e.jsx(it,{openPaymentModal:S,category:at,paymentData:d}),e.jsx(dt,{openDocumentModal:F,payloadData:U,refetch:_}),e.jsx(ct,{openDocumentModal:E,payloadData:U,refetch:_}),e.jsx(lt,{openDocviewModal:T,documentUrl:z}),e.jsx("div",{className:"grid grid-cols-12 bg-white poppins animate__animated animate__fadeIn animate__faster",children:e.jsx("div",{className:"col-span-12 pt-4 2xl:h-full md:h-screen overflow-y-auto pb-2",children:e.jsxs("div",{className:"md:px-2 col-span-12",children:[e.jsx("div",{className:"float-right m-3 space-x-3",children:H==!0?((O=d==null?void 0:d.connectionCharges)==null?void 0:O.paid_status)==!1&&e.jsx("button",{onClick:()=>et(),class:"py-2 px-4 inline-block text-center mb-3 leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white hover:bg-green-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:"Pay Now"}):e.jsx("div",{})}),e.jsx("div",{children:e.jsx("h1",{class:"text-base md:text-xl font-bold md:my-3 text-gray-600 text-center",children:"Water Connection Document List"})}),e.jsx("div",{className:"",children:e.jsx("div",{className:"md:inline-block min-w-full overflow-hidden",children:k?e.jsxs(e.Fragment,{children:[" ",e.jsx(w,{})," ",e.jsx(w,{})," "]}):e.jsxs("div",{className:"overflow-auto",children:[e.jsxs("table",{className:"min-w-full leading-normal border",children:[e.jsx("thead",{className:"bg-sky-100",children:e.jsxs("tr",{className:"font-semibold ",children:[e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"#"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Document Name"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"View"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800 text-center text-sm uppercase",children:"Status"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Upload"})]})}),e.jsx("tbody",{children:D==null?void 0:D.map((t,s=1)=>{var o,r,c,p,l,i,m,x,h,u,b,j,g;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:s+1})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-gray-900 whitespace-no-wrap",children:[t==null?void 0:t.refDocName,(t==null?void 0:t.isMadatory)==1&&e.jsx("span",{className:"text-red-500 font-semibold mx-1",children:"*"})]})}),e.jsx("td",{onClick:()=>{var f;return I((f=t==null?void 0:t.uploadDoc)==null?void 0:f.doc_path)},className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"#",className:"block relative",children:[(t==null?void 0:t.uploadDoc)==""&&e.jsx("img",{alt:"profil",src:C,className:"mx-auto object-cover rounded-none cursor-not-allowed md:h-10 h-8 md:w-10 w-8"}),((r=(o=t==null?void 0:t.uploadDoc)==null?void 0:o.doc_path)==null?void 0:r.split(".").pop())=="pdf"&&e.jsx("img",{alt:"profil",src:P,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "}),((p=(c=t==null?void 0:t.uploadDoc)==null?void 0:c.doc_path)==null?void 0:p.split(".").pop())=="jpg"&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "}),((i=(l=t==null?void 0:t.uploadDoc)==null?void 0:l.doc_path)==null?void 0:i.split(".").pop())=="jpeg"&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "}),((x=(m=t==null?void 0:t.uploadDoc)==null?void 0:m.doc_path)==null?void 0:x.split(".").pop())=="png"&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "})]})})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-center text-black md:font-medium text-xs md:text-sm",children:(t==null?void 0:t.uploadDoc)==""?e.jsx("p",{className:"text-red-500",children:"Not Upload"}):e.jsxs("div",{children:[((h=t==null?void 0:t.uploadDoc)==null?void 0:h.verify_status)==0&&e.jsx("p",{className:"text-yellow-700",children:"Pending"}),((u=t==null?void 0:t.uploadDoc)==null?void 0:u.verify_status)==1&&e.jsx("p",{className:"text-green-700",children:"Verified"}),((b=t==null?void 0:t.uploadDoc)==null?void 0:b.verify_status)==2&&e.jsx("p",{className:"text-red-700",children:"Rejected"})]})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm ",children:((j=t==null?void 0:t.uploadDoc)==null?void 0:j.verify_status)!=1&&e.jsx("button",{onClick:()=>$(t.docName,t.docVal,t.refDocName),className:"border px-2 md:px-4 py-1 md:py-2 hover:text-white hover:bg-indigo-500",children:((g=t==null?void 0:t.uploadDoc)==null?void 0:g.verify_status)==2?"Re-Upload":"Upload"})})]},s)})})]}),e.jsxs("p",{className:" font-semibold text-red-400",children:[" ",e.jsx("span",{className:"text-base",children:" *"})," ",e.jsx("span",{className:"text-xs",children:" Mandatory"})]})]})})}),e.jsx("div",{children:e.jsx("h1",{class:"text-base md:text-xl font-bold my-3 text-gray-600 text-center",children:"Owner Document List"})}),e.jsx("div",{className:"",children:e.jsx("div",{className:"md:inline-block min-w-full overflow-hidden",children:k?e.jsxs(e.Fragment,{children:[" ",e.jsx(w,{})," ",e.jsx(w,{})," "]}):e.jsxs("div",{className:"overflow-auto",children:[e.jsxs("table",{className:"min-w-full leading-normal border",children:[e.jsx("thead",{className:"bg-sky-100",children:e.jsxs("tr",{className:"font-semibold ",children:[e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"#"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Document Name"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"View"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800 text-center text-sm uppercase",children:"Status"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Upload"})]})}),e.jsx("tbody",{children:y?y==null?void 0:y.map((t,s=1)=>{var o,r,c,p,l,i,m,x,h,u,b,j,g;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:s+1})}),e.jsxs("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:[e.jsxs("p",{className:"text-gray-900 whitespace-no-wrap",children:[t==null?void 0:t.refDocName,(t==null?void 0:t.isMadatory)&&e.jsx("span",{className:"text-red-500 font-semibold mx-1",children:"*"})]}),e.jsxs("p",{className:"text-xs md:w-full w-40",children:["(",t==null?void 0:t.ownerName,")"]})]}),e.jsx("td",{onClick:()=>{var f;return I((f=t==null?void 0:t.uploadDoc)==null?void 0:f.doc_path)},className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"#",className:"block relative",children:[(t==null?void 0:t.uploadDoc)==""&&e.jsx("img",{alt:"profil",src:C,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  cursor-not-allowed"}),((r=(o=t==null?void 0:t.uploadDoc)==null?void 0:o.doc_path)==null?void 0:r.split(".").pop())=="pdf"&&e.jsx("img",{alt:"profil",src:P,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "}),((p=(c=t==null?void 0:t.uploadDoc)==null?void 0:c.doc_path)==null?void 0:p.split(".").pop())=="jpg"&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "}),((i=(l=t==null?void 0:t.uploadDoc)==null?void 0:l.doc_path)==null?void 0:i.split(".").pop())=="jpeg"&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "}),((x=(m=t==null?void 0:t.uploadDoc)==null?void 0:m.doc_path)==null?void 0:x.split(".").pop())=="png"&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "})]})})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-center text-black md:font-medium text-xs md:text-sm",children:(t==null?void 0:t.uploadDoc)==""?e.jsx("p",{className:"text-red-500",children:"Not Upload"}):e.jsxs("div",{children:[((h=t==null?void 0:t.uploadDoc)==null?void 0:h.verify_status)==0&&e.jsx("p",{className:"text-yellow-700",children:"Pending"}),((u=t==null?void 0:t.uploadDoc)==null?void 0:u.verify_status)==1&&e.jsx("p",{className:"text-green-700",children:"Verified"}),((b=t==null?void 0:t.uploadDoc)==null?void 0:b.verify_status)==2&&e.jsx("p",{className:"text-red-700",children:"Rejected"})]})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:((j=t==null?void 0:t.uploadDoc)==null?void 0:j.verify_status)!=1&&e.jsx("button",{onClick:()=>tt(t.ownerName,t.docName,t.ownerId,t.docVal,t.refDocName),className:"border px-2 md:px-4 py-1 md:py-2 hover:text-white hover:bg-indigo-500",children:((g=t==null?void 0:t.uploadDoc)==null?void 0:g.verify_status)==2?"Re-Upload":"Upload"})})]})}):e.jsx("p",{children:"No Data Found"})})]}),e.jsxs("p",{className:" font-semibold text-red-400",children:[" ",e.jsx("span",{className:"text-base",children:" *"})," ",e.jsx("span",{className:"text-xs",children:" Mandatory"})]})]})})})]})})})]})};export{Bt as default};
