import{j as e}from"./mui-8e804a04.js";import{f as W,u as $,r as i}from"./router-87042356.js";import{f as x}from"./index.esm-df462c79.js";import{M as G}from"./index-4e794517.js";import{R as J}from"./index.esm-799452e3.js";import{A as w,b as S,m as M,n as c,P as K}from"./index-0f28b603.js";import{B as Q}from"./BarLoader-9fd00c2c.js";import{B as X}from"./BottomErrorCard-b31e4e97.js";import{P as Y}from"./PilotWorkflowDocumentRow-b8c5292f.js";import"./react-09dd1212.js";import"./reactIcons-6a3b6da1.js";import"./axios-97164839.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./CommonModal-340f9ebb.js";import"./index.esm-388271cc.js";import"./photo-8f85a095.js";const je=()=>{var N,b,v,y;const{id:n}=W(),D=$(),{marriageDetails:A,getUploadedDocument:F}=K(),[p,m]=i.useState(!1),[a,E]=i.useState(null),[k,z]=i.useState(!1),[_,P]=i.useState(""),[o,R]=i.useState(null),[h,T]=i.useState(null),[B,f]=i.useState(!1),[g,C]=i.useState(""),[j,L]=i.useState(!1),O=()=>f(!0),u=()=>f(!1),I=()=>{},d=(s,l)=>{z(s),P(l),s==!1&&D(`/marriage-details/${n}`)};i.useEffect(()=>{m(!0),H(),U()},[n]);const H=()=>{w.post(A,{applicationId:n},S()).then(s=>{var l,t,r;console.log("marriage details response => ",s),(l=s==null?void 0:s.data)!=null&&l.status?E((t=s==null?void 0:s.data)==null?void 0:t.data):d(!0,M((r=s==null?void 0:s.data)==null?void 0:r.message))}).catch(s=>{console.log("marriage details error  => ",s),d(!0,"Some error occured! Please try again later")}).finally(()=>{m(!1)})},U=()=>{w.post(F,{applicationId:n},S()).then(s=>{var l,t,r;console.log("marriage doc list response => ",s),(l=s==null?void 0:s.data)!=null&&l.status?R((t=s==null?void 0:s.data)==null?void 0:t.data):d(!0,M((r=s==null?void 0:s.data)==null?void 0:r.message))}).catch(s=>{console.log("marriage details error  => ",s),d(!0,"Some error occured! Please try again later")}).finally(()=>{m(!1)})},q=(s,l,t)=>{console.log("incoming doc url modal => ",s,l,t),C(s),T(l),L(t),O()};return p?e.jsx(Q,{}):e.jsxs(e.Fragment,{children:[k&&e.jsx(X,{activateBottomErrorCard:d,errorTitle:_}),e.jsxs("div",{class:" pt-4 z-50 w-full bg-white rounded-md shadow-md",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"w-full md:w-[69vw] ",children:e.jsx("div",{className:"container mx-auto mb-0 mt-1 p-2 md:p-5 py-1 ",children:e.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:e.jsx("div",{className:"w-full md:mx-2 ",children:e.jsxs("div",{className:"md:p-3  rounded-sm",children:[e.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:e.jsx("div",{className:"tracking-wide flex-1 text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Marriage Registration Details "})}),e.jsx("div",{className:" rounded-lg  py-6 bg-white shadow-xl",children:e.jsxs("div",{className:"grid grid-cols-10 space-y-2  pl-4 ",children:[e.jsxs("div",{className:"col-span-5 md:col-span-3 text-xs",children:[e.jsx("div",{className:"font-bold text-sm",children:c(a==null?void 0:a.application_no)}),e.jsx("div",{className:"text-gray-500 flex",children:"Application No."})]}),e.jsxs("div",{className:"col-span-5 md:col-span-3 text-xs",children:[e.jsx("div",{className:"font-bold text-sm",children:c(a==null?void 0:a.apply_date)}),e.jsx("div",{className:"text-gray-500 flex",children:"Apply Date"})]})]})})]})})})})}),(b=(N=a==null?void 0:a.fullDetailsData)==null?void 0:N.dataArray)==null?void 0:b.map(s=>{var l;return e.jsx("div",{className:"w-full md:w-[69vw] ",children:e.jsx("div",{className:"container mx-auto mb-0 mt-1 p-2 md:p-5 py-1 ",children:e.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:e.jsx("div",{className:"w-full md:mx-2 ",children:e.jsxs("div",{className:"md:p-3  rounded-sm",children:[e.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:e.jsxs("div",{className:"tracking-wide flex-1",children:[e.jsx(x,{className:"inline font-semibold"})," ",c(s==null?void 0:s.headerTitle)]})}),e.jsx("div",{className:" rounded-lg  py-6 bg-white shadow-xl",children:e.jsx("div",{className:"grid grid-cols-10 space-y-2 pl-4 ",children:(l=s==null?void 0:s.data)==null?void 0:l.map(t=>e.jsxs("div",{className:"col-span-5 md:col-span-2 text-xs",children:[e.jsx("div",{className:"font-bold text-sm",children:c(t==null?void 0:t.value)}),e.jsxs("div",{className:"text-gray-500 flex",children:[c(t==null?void 0:t.displayString),"."]})]}))})})]})})})})})}),(y=(v=a==null?void 0:a.fullDetailsData)==null?void 0:v.tableArray)==null?void 0:y.map(s=>{var l,t;return e.jsx("div",{className:"w-full md:w-[69vw] overflow-x-auto",children:e.jsx("div",{className:"container mx-auto mb-0 mt-1 md:p-5 py-1 ",children:e.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:e.jsx("div",{className:"w-full md:mx-2 ",children:e.jsxs("div",{className:"px-1 md:p-3 rounded-sm",children:[e.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:e.jsxs("span",{className:"tracking-wide",children:[e.jsx(x,{className:"inline font-semibold"})," ",c(s==null?void 0:s.headerTitle)]})}),e.jsx(e.Fragment,{children:e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white shadow-xl",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-white text-gray-600",children:e.jsx("tr",{children:(l=s==null?void 0:s.tableHead)==null?void 0:l.map(r=>e.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:c(r)}))})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(t=s==null?void 0:s.tableData)==null?void 0:t.map((r,Z)=>e.jsx("tr",{className:"bg-white  border-b border-gray-200",children:r==null?void 0:r.map(V=>e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:c(V)}))}))})})]})})]})})})})})}),e.jsxs("div",{className:"container mx-auto mt-10  px-4  rounded-lg",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-gray-500 mt-10",children:[e.jsx(x,{className:"inline"})," Document List"]}),e.jsx("div",{className:"py-0 shadow-xl mt-3",children:e.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:e.jsx("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"font-semibold",children:[e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"#"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"Document Name"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"View"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"Status"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"Remarks"})]})}),e.jsx("tbody",{children:o&&e.jsxs(e.Fragment,{children:[(o==null?void 0:o.length)==0&&!p&&e.jsx("tr",{className:"mt-10 py-20",children:e.jsx("td",{colSpan:5,className:"text-center",children:e.jsx("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg ",children:"No Document Found !!"})})}),o==null?void 0:o.map((s,l)=>e.jsx(Y,{openModal:q,docList:s,index:l}))]})})]})})})})]})]}),e.jsx("div",{className:"h-40 w-full"})]}),e.jsx(G,{isOpen:B,onAfterOpen:I,onRequestClose:u,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:e.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[e.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:u,children:e.jsx(J,{})}),j==!0||j=="true"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[e.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),e.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):e.jsxs(e.Fragment,{children:[h=="pdf"&&e.jsx(e.Fragment,{children:e.jsx("iframe",{className:"w-full h-full",src:g,frameborder:"0"})}),h!="pdf"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:e.jsx("img",{src:g,alt:"",srcset:"",className:" "})})})]})]})})]})};export{je as default};
