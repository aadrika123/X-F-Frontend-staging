import{j as e}from"./mui-8e804a04.js";import{r as a,h as ie,u as ce,N as g}from"./router-87042356.js";import{a as de}from"./redux-4db06ad6.js";import{M as w}from"./index-4e794517.js";/* empty css              */import{a as V}from"./axios-97164839.js";import{k as ue,U as xe,E as ge,b as he}from"./index-0f28b603.js";import{g as W,l as be}from"./localstorage-fbfe5679.js";import{a as fe}from"./index.esm-f717eb21.js";import{C as pe}from"./CitizenApplyApiList-5b22da78.js";import"./react-tooltip.min-be248063.js";import{E as me}from"./EPramanLoginLoader-44b9b41e.js";function ve(){return e.jsxs("div",{className:"w-screen rounded-md flex flex-row gap-2 flex-wrap",children:[e.jsx("div",{className:"h-[150px] w-[150px]  rounded-t-md object-cover bg-gray-200 animate"}),e.jsx("div",{className:"h-[150px] w-[150px]  rounded-t-md object-cover bg-gray-200 animate"}),e.jsx("div",{className:"h-[150px] w-[150px] rounded-t-md object-cover bg-gray-200 animate"}),e.jsx("div",{className:"h-[150px] w-[150px] rounded-t-md object-cover bg-gray-200 animate"})]})}const J="/assets/agency-f2235590.png",we="/assets/category-eb5fd5db.png",Y=r=>e.jsx(e.Fragment,{children:e.jsxs("div",{onClick:()=>window.location.replace(r==null?void 0:r.route),className:"bg-gray-100 select-none rounded-xl flex flex-col justify-center items-center p-4 md:p-6 relative cursor-pointer hover:scale-105 hover:shadow-md transition-all duration-150",href:"",children:[e.jsx("img",{className:"h-16 w-16 text-xs",src:r==null?void 0:r.image,alt:r==null?void 0:r.name}),e.jsx("div",{className:"font-bold mt-4 text-center",children:r==null?void 0:r.name})]})});w.setAppElement("#root");function je(){var G,q;const{t:r}=ue(),[h,z]=a.useState(!1),[K,M]=a.useState(!1),[Q,X]=a.useState(!1),[d,S]=a.useState(!1),[b,Z]=a.useState([]),[I,E]=a.useState(!1),[j,ee]=a.useState(!1),[y,ne]=a.useState([]),{api_moduleList:te,api_ePraman:re}=pe(),P=!0,T=ie(),f=ce(),[se,N]=a.useState(!1),[p,m]=a.useState(""),oe=n=>y==null?void 0:y.some(s=>s==n),O=n=>{N(!se),m(n)},A=()=>{N(!1),m("")},[k,l]=a.useState(!1),{brand_tag:R,brand_name:ke,ulb_name:Ce,brand_logo:Le}=xe(r),u={mainMenu:[{name:r("tranCitizenLandingPage.home.label"),route:"/",subMenu:[]},{name:r("tranCitizenLandingPage.aboutUs.label"),route:"/about",subMenu:[]},{name:r("tranCitizenLandingPage.actAndRules.label"),route:"/act&rules",subMenu:[]},{name:r("tranCitizenLandingPage.eServices.label"),route:"/e-services",subMenu:[]},{name:r("tranCitizenLandingPage.taxRebate.label"),route:"/info-scheme",subMenu:[]},{name:r("tranCitizenLandingPage.faq.label"),route:"/faq",subMenu:[]},{name:"Downloads",route:"#",subMenu:[{name:"User Manuals",route:"",submenu:["Pet Registration System","Septic Tank  Cleaning ","Water Tanker Booking","Fines & Penalties Management System","HRMS & Payroll","Rig Registration Management System","Public Transport Management System"]},{name:"Mobile App",route:"/download/mobile-app",submenu:[]}]}]},ae=()=>{A()};function B(){z(!0)}function F(){z(!1)}function $(){M(!0)}function D(){M(!1)}function H(){X(!1)}const le=()=>{E(!0),V.post(te,{}).then(n=>{var s;console.log("module list: ",n),Z((s=n==null?void 0:n.data)==null?void 0:s.data)}).finally(()=>E(!1))};a.useEffect(()=>{W("citizen_token")!=null&&W("citizen_token")!="null"?S(!0):S(!1),le()},[]);const C="block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:text-[#1c7f3a] hover:bg-green-50 rounded-md text-sm animate__animated animate__fadeIn animate__faster ",U="block py-3 px-3 hover:text-[#9dffbb] rounded-md animate__animated animate__fadeIn animate__faster ",c=n=>{if(T.pathname===n){window.location.reload();return}f(n)},L=()=>{be(),c("/")},_=()=>{window.localStorage.removeItem("login"),ee(!0),V.post(re,{type:"citizen"},he()).then(n=>{var s,i,t,o,x,v;console.log(`%cE-Praman Login response: 

${JSON.stringify(n==null?void 0:n.data)} `,"color: green; background-color: black; font-size: 1.2em; padding: 5px 20px"),window.localStorage.setItem("codeVerifier",(i=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:i.code_verifier),window.localStorage.setItem("nonce",(o=(t=n==null?void 0:n.data)==null?void 0:t.data)==null?void 0:o.nonce),window.location.replace((v=(x=n==null?void 0:n.data)==null?void 0:x.data)==null?void 0:v.url)}).catch(n=>{console.log("epraman login error => ",n)}).finally(()=>{})};return a.useEffect(()=>{(window.localStorage.getItem("login")??"")=="true"&&_()},[]),e.jsxs(e.Fragment,{children:[j&&e.jsx(me,{message:"Redirect to E-Pramaan"}),e.jsx("div",{className:"block top-0 left-0 w-full z-50 ",children:e.jsx("header",{className:"block select-none",children:e.jsx("nav",{className:(T.pathname!="/"?"bg-[#99B37C] fixed top-0 left-0 right-0 ":"bg-[#99B37C]")+" nav-top flex flex-nowrap lg:flex-start items-center z-20  overflow-y-auto  lg:overflow-visible w-full",children:e.jsxs("div",{class:"w-full mx-auto ",children:[e.jsxs("div",{class:"flex flex-row justify-between w-full lg:hidden px-4 lg:px-6 bg-[#99B37C]",children:[e.jsx("span",{class:"flex items-center justify-between py-2 mr-4 text-xl",onClick:()=>{l(!1),c("/")},children:e.jsx("h2",{class:"text-2xl font-semibold text-gray-200 px-4  overflow-hidden",children:e.jsx("span",{className:"text-white",children:R})})}),e.jsx("div",{class:"right-0 flex items-center cursor-pointer text-2xl text-white",children:e.jsx("span",{className:"cursor-pointer",onClick:()=>{l(!k),N(!1)},children:e.jsx(ge,{fontSize:"large"})})})]}),k&&e.jsxs("div",{class:"lg:hidden fixed w-full h-full inset-0 z-50 lg:px-6 ",id:"mobile-menu",style:{zIndex:999},children:[e.jsx("span",{class:"fixed bg-gray-900 bg-opacity-70 w-full h-full inset-x-0 top-0",onClick:()=>l(!k)}),e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-64 fixed top-0 py-4 bg-[#99B37C] text-gray-100 h-full overflow-auto z-40",children:e.jsxs("div",{class:"mb-auto",children:[e.jsx("div",{class:"mh-18 text-center px-4 mb-8",children:e.jsx("span",{class:"flex relative",children:e.jsxs("h2",{class:"text-2xl text-gray-200 max-h-9 flex flex-row items-center justify-between gap-4 relative",children:[e.jsx("span",{className:" md:absolute -left-2 z-10 text-4xl cursor-pointer text-white ",onClick:()=>l(!1),children:"Ã—"}),e.jsx("span",{onClick:()=>{l(!1),c("/")}}),e.jsx("span",{onClick:()=>{l(!1),c("/")},className:"text-gray-800 font-semibold",children:"UD&HD"})]})})}),e.jsx("div",{class:"mb-4 px-4",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between",children:e.jsxs("ul",{id:"side-menu",class:"w-full  float-none flex flex-col",children:[(G=u==null?void 0:u.mainMenu)==null?void 0:G.map(n=>{var s,i;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer ",children:[e.jsxs(g,{to:(n==null?void 0:n.route)==""?null:n==null?void 0:n.route,className:({isActive:t})=>{var o;return(t&&(n==null?void 0:n.route)!="#"&&((o=n==null?void 0:n.subMenu)==null?void 0:o.length)==0?"text-[#9dffbb] font-bold ":" ")+`${U} flex gap-4 py-1 items-center`},onClick:()=>{O(n==null?void 0:n.name),p==(n==null?void 0:n.name)&&m("")},children:[" ",e.jsx("div",{className:"flex justify-between items-center flex-1",children:e.jsx("span",{children:n==null?void 0:n.name})})," "]}),((s=n==null?void 0:n.subMenu)==null?void 0:s.length)>0&&p==(n==null?void 0:n.name)&&e.jsx("ul",{class:"block rounded rounded-t-none top-full z-50 py-0.5 ltr:text-left rtl:text-right mb-4 bg-green-100 text-zinc-800",children:(i=n==null?void 0:n.subMenu)==null?void 0:i.map(t=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer ",children:e.jsx(g,{to:t==null?void 0:t.route,onClick:()=>f(`/${t==null?void 0:t.route}`),className:({isActive:o})=>(o?"text-[#9dffbb] font-bold ":" ")+`${C} flex gap-3 items-center`,children:e.jsx("span",{children:t==null?void 0:t.name})})})}))})]})})}),e.jsxs("li",{className:"relative",children:[j?e.jsx(e.Fragment,{children:e.jsx("button",{class:"cypress_citizen_login w-full animate-pulse cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-blue-400 hover:bg-blue-600 hover:ring-0 hover:border-white focus:outline-none focus:ring-0",children:"Loading..."})}):e.jsx(e.Fragment,{children:!d&&e.jsx("button",{class:"cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-blue-400 hover:bg-blue-600 hover:ring-0 hover:border-white focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>_(),children:"Citizen Login"})}),d&&e.jsx("button",{className:"bg-amber-500 border border-white hover:text-gray-300 hover:bg-amber-600 hover:ring-0 hover:border-white focus:bg-amber-500 focus:border-amber-600 py-2 px-4 text-sm  text-center rounded leading-5 text-gray-100 w-full mb-1.5 focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{l(!1),c("/landingDashboard")},children:"Dashboard"}),d&&e.jsx("button",{className:"w-full mb-2 py-2 px-4 text-sm  text-center rounded leading-5 text-white bg-red-500 hover:bg-red-600 border border-red-800 hover:ring-0 hover:border-red-800 cursor-pointer",onClick:()=>{l(!1),L()},children:"Log Out"}),!P,e.jsx("button",{className:"cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{l(!1),B()},children:"Admin Log In"}),e.jsx("button",{className:"cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{l(!1),$()},children:"Agency Log In"})]})]})})})]})})]}),e.jsxs("div",{onMouseLeave:()=>ae(),style:{zIndex:999,fontSize:"1vw"},class:"px-4 hidden border-b border-b-gray-200 lg:flex lg:flex-row lg:flex-nowrap lg:items-center lg:justify-between lg:mt-0 lg:w-full",id:"desktp-menu",children:[e.jsx("span",{class:"hidden lg:flex items-center py-2 mr-4 text-xl",onClick:()=>{l(!1),c("/")},children:e.jsx("h2",{class:"text-2xl font-semibold px-4 overflow-hidden cursor-pointer flex items-center gap-2",children:e.jsx("span",{className:"text-white",children:R})})}),e.jsx("ul",{className:"flex flex-col lg:mx-auto mt-2 lg:flex-row lg:mt-0 text-white",onMouseLeave:()=>A(),children:(q=u==null?void 0:u.mainMenu)==null?void 0:q.map(n=>{var s,i;return e.jsxs("li",{className:"relative cursor-pointer py-1.5",children:[e.jsx(g,{to:(n==null?void 0:n.route)===""?null:n==null?void 0:n.route,className:({isActive:t})=>{var o;return(t&&(n==null?void 0:n.route)!=="#"&&((o=n==null?void 0:n.subMenu)==null?void 0:o.length)===0?"text-[#9dffbb] font-bold ":" ")+`${U} flex gap-2 items-center`},onMouseEnter:()=>{O(n==null?void 0:n.name),p===(n==null?void 0:n.name)&&m("")},children:e.jsx("span",{children:n==null?void 0:n.name})}),((s=n==null?void 0:n.subMenu)==null?void 0:s.length)>0&&p===(n==null?void 0:n.name)&&e.jsx("ul",{style:{zIndex:999},className:"submenu block md:absolute left-1/2 right-auto border-t-2 transform -translate-x-1/2 rounded top-full z-50 py-0.5 ltr:text-left rtl:text-right bg-white text-gray-700 shadow-md cursor-pointer",children:(i=n==null?void 0:n.subMenu)==null?void 0:i.map(t=>e.jsxs("li",{className:"relative cursor-pointer py-1.5",children:[e.jsx(g,{to:t==null?void 0:t.route,onClick:()=>f(`/${t==null?void 0:t.route}`),className:({isActive:o})=>(o?"text-[#9dffbb] font-bold ":" ")+`${C} flex gap-3 items-center`,children:e.jsx("span",{children:t==null?void 0:t.name})}),t.submenu&&t.submenu.length>0&&e.jsx("ul",{className:"submenu absolute bg-white shadow-md rounded border border-green-600 mt-1 left-full top-0 hidden group-hover:block",children:t.submenu.map((o,x)=>e.jsx("li",{children:e.jsx("div",{className:" w-96  ",children:e.jsx(g,{to:x,onClick:()=>f(`/user-manuals-list/${x}`),className:({isActive:v})=>(v?"text-black  ":" ")+`${C} flex gap-3 items-center`,children:e.jsx("span",{children:o})})})},x))})]},t==null?void 0:t.name))})]},n==null?void 0:n.name)})}),e.jsxs("div",{class:"grid text-center lg:block my-4 lg:my-auto",children:[j?e.jsx(e.Fragment,{children:e.jsx("span",{class:"cypress_citizen_login animate-pulse py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-blue-300 hover:bg-blue-600 hover:ring-0 hover:border-white focus:border-white focus:outline-none focus:ring-0 mr-2",children:"Loading..."})}):e.jsx(e.Fragment,{children:!d&&e.jsx("span",{class:"cypress_citizen_login py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-blue-300 hover:bg-blue-600 hover:ring-0 hover:border-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>_(),children:"Citizen Login"})}),d&&e.jsx("span",{className:"bg-amber-500 border border-white hover:text-gray-300 hover:bg-amber-600 hover:ring-0 hover:border-white focus:bg-amber-500 focus:border-amber-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100  focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>c("/landingDashboard"),children:r("tranCitizenLandingPage.dashboard.label")}),d&&e.jsx("span",{className:"bg-red-500 border border-white hover:text-gray-300 hover:bg-red-600 hover:ring-0 hover:border-white focus:bg-red-500 focus:border-red-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100  focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>L(),children:r("tranCitizenLandingPage.logOut.label")}),!P,e.jsx("span",{class:"cypress_citizen_login py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>B(),children:r("tranCitizenLandingPage.adminLogIn.label")}),e.jsx("span",{class:"cypress_citizen_login py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>$(),children:r("tranCitizenLandingPage.agencyLogIn.label")})]}),e.jsx("div",{className:"border-b border-b-gray-200 opacity-10"})]})]})})})}),e.jsx(w,{isOpen:h,onRequestClose:F,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsx("div",{className:"w-full sm:w-4/5 lg:3/5 mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-b from-slate-500 to-slate-400 shadow-xl flex justify-center items-center relative",children:[e.jsx("button",{onClick:()=>F(),type:"button",class:"md:absolute top-6 right-6 bg-red-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-300 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{children:e.jsx("h2",{className:"text-xl font-medium text-center text-white ",children:"Choose Module To Login"})})}),e.jsx("div",{className:"my-10 relative",children:e.jsxs("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:[I&&e.jsx(ve,{}),!I&&Array.isArray(b)&&(b==null?void 0:b.map(n=>e.jsxs("div",{onClick:()=>window.location.replace(n==null?void 0:n.url),className:"bg-gray-100 select-none rounded-xl flex flex-col justify-center items-center p-4 md:p-6 relative cursor-pointer hover:scale-105 hover:shadow-md transition-all duration-150",href:"",children:[e.jsx("img",{className:"h-16 w-16 text-xs",src:oe(n==null?void 0:n.id)?we:n==null?void 0:n.image,onError:()=>ne(s=>[...s,n==null?void 0:n.id]),alt:n==null?void 0:n.title}),e.jsx("div",{className:"font-bold mt-4 text-center",children:n==null?void 0:n.title})]})))]})})]})]})})}),e.jsx(w,{isOpen:K,onRequestClose:D,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsx("div",{className:"w-full sm:w-auto lg:auto mx-auto",children:e.jsxs("div",{className:"bg-white shadow-xl flex justify-center items-center relative",children:[e.jsx("button",{onClick:()=>D(),type:"button",class:"md:absolute top-6 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{children:e.jsx("h2",{className:"text-xl font-medium text-center",children:"Choose Agency To Login"})})}),e.jsx("div",{className:"my-10 relative",children:e.jsxs("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-2 lg:grid-cols-2",children:[e.jsx(Y,{image:J,name:"Septic Tank Agency",route:"/agency"}),e.jsx(Y,{image:J,name:"Water Tanker Agency",route:"/agency"})]})})]})]})})}),e.jsx(w,{isOpen:Q,onRequestClose:H,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:e.jsxs("div",{class:"relative rounded-lg shadow-lg p-10 w-max h-max backdrop-blur-sm bg-white animate__animated animate__slideInLeft animate__faster",children:[e.jsx("button",{onClick:H,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{class:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(fe,{size:30})})]}),e.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure to logout ?"}),e.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:()=>L(),children:"Yes, I'm sure"})]})]})})]})}const ye=r=>({RightNavCloseStatus:r.RightNavCloseStatus,isLoggedIn:r.isLoggedIn}),Ne=r=>({RIGHT_NAV_OPEN:h=>r({type:"RIGHT_NAV_OPEN"}),LOGOUT:h=>r({type:"LOGOUT"}),RIGHT_NAV_CLOSE:h=>r({type:"RIGHT_NAV_CLOSE"})}),Fe=de(ye,Ne)(je);export{Fe as T};
