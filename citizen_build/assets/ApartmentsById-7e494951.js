import{j as e}from"./mui-8e804a04.js";import{r as a,u as T,f as P}from"./router-87042356.js";import{a as g}from"./index.esm-6d85e2b6.js";import{b as C}from"./index.esm-a4ef204f.js";import{p as k,P as M}from"./PaymentCardDirect-a4cf8565.js";import{a as R}from"./axios-97164839.js";import{B as S}from"./BarLoader-577c8c6a.js";import{aq as O}from"./index-0f28b603.js";import{C as E}from"./CitizenApplyApiList-5b22da78.js";import"./react-09dd1212.js";import"./reactIcons-6a3b6da1.js";import"./index-4e794517.js";import"./index.esm-f717eb21.js";import"./index-05fe6e4f.js";import"./index-48d14c2d.js";import"./moment-fbc5633a.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";const F=()=>{var b,j,N,f;const[x,m]=a.useState({}),v=T(),{id:h}=P(),[s,p]=a.useState(),[d,c]=a.useState(!1),n=a.useRef(),o=a.useRef(),{getApartmentDtl:u}=E();a.useEffect(()=>{c(!0),R.post(u,{id:h}).then(t=>{c(!1),t.data.status?p(t.data.data):(p(null),console.log("Failed to fetch application data"))}).catch(t=>{c(!1),console.log("Error while getting application data")})},[]);const w=()=>{n.current.showModal()},_=(t,r)=>{var y;console.log("fjhgfdgfdeeeeee==>",h);const l=(y=s==null?void 0:s.consumerDtls)==null?void 0:y.at(t);console.log("===========================",l==null?void 0:l.consumer_name),m(l),r()},A=()=>{o.current.showModal()},i=()=>{n.current.close()};return e.jsxs(e.Fragment,{children:[" ",e.jsx("div",{className:"w-full h-full",children:e.jsxs("div",{className:"overflow-y-auto max-h-screen",children:[d&&e.jsx(S,{}),e.jsx("div",{className:"grid grid-cols-12 px-20 overflow-y-auto  pb-20",children:e.jsx("div",{className:"rounded-md col-span-12 ",children:e.jsxs("div",{className:"overflow-y-auto",children:[!d&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-3",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:k,alt:"Pet Detail",className:"w-5 inline text-[#37517e]"})," Apartment Details"]}),e.jsxs("div",{className:"mt-2 space-y-5",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Ward No"}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:s!=null&&s.ward_no?s==null?void 0:s.ward_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Apartment Name"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.apartment_name?s==null?void 0:s.apartment_name:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:" Monthly Demand"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.apartment_monthly_demand?s.apartment_monthly_demand:"N/A"})})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Outstanding Demand"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.apartment_total_demand?s==null?void 0:s.apartment_total_demand:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Building Type"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.building_type?s.building_type:"N/A"})]})]}),e.jsx("div",{className:"flex space-x-10 pl-4 ",children:e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Address"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.address?s==null?void 0:s.address:"N/A"})]})})]})]}),!d&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-5 ",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2029/2029957.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," Consumer Details "]}),e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"consumer name"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"consumer no"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"mobile no"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"pin code"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"PAID STATUS"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(b=s==null?void 0:s.consumerDtls)==null?void 0:b.map((t,r)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:r+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.consumer_name}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.consumer_no}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:O(t==null?void 0:t.mobile_no)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(t==null?void 0:t.pincode)||"N/A"}),e.jsx("td",{className:"px-2  py-2 text-sm",children:(t==null?void 0:t.paid_status)=="Paid"?e.jsx("div",{className:"text-green-500 ",children:"Paid"}):e.jsx("div",{className:"text-red-500  ",children:"Unpaid"})}),e.jsxs("td",{className:"px- 2 py-2 text-sm text-left text-[#37517e] ",children:[" ",e.jsx("button",{className:"px-2 py-2 bg-indigo-600  text-center text-white cursor-pointer",onClick:()=>_(r,A),children:"View Demand"})," "]})]}))})})]}),e.jsx("div",{className:"text-center text-red-600 mt-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-center font-bold ",children:e.jsx("p",{children:"Please Make Payment *"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>w(),className:"px-2 py-1 bg-indigo-600 text-sm text-white",children:"Pay Now"})})]})})]}),e.jsx("dialog",{ref:n,className:"",children:e.jsxs("div",{className:"space-y-2 mb-5",children:[e.jsx("button",{className:"absolute top-0 right-0 m-2  text-white  rounded-full bg-red-500",onClick:i,children:e.jsx(g,{className:"text-3xl"})}),e.jsxs("p",{className:"text-center font-extrabold text-red-600 ",children:["Please Select  Month * ",e.jsx("span",{className:"font-semibold text-lg"})]}),e.jsx("div",{className:"flex justify-center gap-x-5",children:e.jsx(M,{consumerId:s==null?void 0:s.id,consumerType:"apartment",closeDialogTag:i})})]})}),e.jsx("dialog",{ref:o,className:"",children:e.jsxs("div",{className:"space-y-2 mb-5",children:[e.jsx("button",{className:"absolute top-0 right-0 m-2  text-white  rounded-full bg-red-500",onClick:()=>{o.current.close(),m({})},children:e.jsx(g,{className:"text-3xl"})}),e.jsxs("p",{className:"text-center font-extrabold pr-5",children:["Demand Details of  ",x==null?void 0:x.consumer_name," ",e.jsx("span",{className:"font-semibold text-lg"})]}),e.jsx("div",{className:"flex justify-center gap-x-5",children:e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"payment from"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"payment Upto"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"total tax"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"PAID STATUS"})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(j=x==null?void 0:x.demand_details)==null?void 0:j.map((t,r)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:r+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.payment_from}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.payment_to}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.total_tax}),e.jsx("td",{className:"px-2  py-2 text-sm",children:(t==null?void 0:t.paid_status)==1?e.jsx("div",{className:"text-green-500 ",children:"Paid"}):e.jsx("div",{className:"text-red-500  ",children:"Unpaid"})})]}))})})]})})]})}),!d&&((N=s==null?void 0:s.transaction_details)==null?void 0:N.length)>0&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8948/8948774.png",alt:"Upload",className:"w-5 inline text-[#37517e]"})," Payment Details"]}),e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"AMOUNT"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"MODE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"FROM"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"UPTO"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TRANSACTION DATE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TRANSACTION NO."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TC NAME"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(f=s==null?void 0:s.transaction_details)==null?void 0:f.map((t,r)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:r+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.total_payable_amt}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.payment_mode}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.demand_from}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.demand_upto}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.transaction_date}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.total_payable_amt}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.tc_name}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:e.jsxs("button",{onClick:()=>v(`/swm-payment-receipt/${t==null?void 0:t.transaction_id}`),className:`border border-sky-700 text-sky-700 w-32 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-sky-700 \r
                                                                           hover:text-white flex items-center justify-center gap-1 `,children:[e.jsx(C,{})," View Receipt"]})})]}))})})]})]})]})})})]})})]})};export{F as default};
