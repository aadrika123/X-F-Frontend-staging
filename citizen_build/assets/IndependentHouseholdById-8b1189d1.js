import{j as e}from"./mui-8e804a04.js";import{u as y,f as g,r}from"./router-87042356.js";import{a as p}from"./index.esm-6d85e2b6.js";import{h as i}from"./moment-fbc5633a.js";import{b as v}from"./index.esm-a4ef204f.js";import{p as w,P as _}from"./PaymentCardDirect-a4cf8565.js";import{aq as A}from"./index-0f28b603.js";import{C as M}from"./CitizenApplyApiList-5b22da78.js";import{a as Y}from"./axios-97164839.js";import{B as T}from"./BarLoader-577c8c6a.js";import"./react-09dd1212.js";import"./reactIcons-6a3b6da1.js";import"./index-4e794517.js";import"./index.esm-f717eb21.js";import"./index-05fe6e4f.js";import"./index-48d14c2d.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";const G=()=>{var o,m,h;const N=y(),{id:j}=g(),[s,a]=r.useState(),[x,d]=r.useState(!1),l=r.useRef(),{getConsumerDtl:f}=M();r.useEffect(()=>{d(!0),Y.post(f,{id:j}).then(t=>{d(!1),t.data.status?a(t.data.data):(a(null),console.log("Failed to fetch application data"))}).catch(t=>{d(!1),console.log("Error while getting application data")})},[]),console.log("applicationFullData",s);const b=()=>{l.current.showModal()},n=()=>{l.current.close()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-full",children:e.jsxs("div",{className:"overflow-y-auto max-h-screen",children:[x&&e.jsx(T,{}),e.jsx("div",{className:"grid grid-cols-12  overflow-y-auto  pb-20",children:e.jsx("div",{className:"rounded-md col-span-12 ",children:e.jsxs("div",{className:"overflow-y-auto",children:[!x&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-3",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:w,alt:"Pet Detail",className:"w-5 inline text-[#37517e]"})," User Details"]}),e.jsxs("div",{className:"mt-2 space-y-5",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Ward No"}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:s!=null&&s.ward_no?s==null?void 0:s.ward_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Consumer Name"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.name?s==null?void 0:s.name:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Consumer No."}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.consumer_no?s.consumer_no:"N/A"})})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Demand From"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.demand_from?s==null?void 0:s.demand_from:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Demand Upto"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.demand_upto?s.demand_upto:"N/A"})]})]}),e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Mobile No."}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:A(s==null?void 0:s.mobile_no)})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Monthly Demand"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.monthly_demand?s==null?void 0:s.monthly_demand:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Outstanding Demand"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.total_demand?s==null?void 0:s.total_demand:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:" Consumer Type"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.consumer_type?s==null?void 0:s.consumer_type:"N/A"})]}),e.jsx("div",{className:"flex-1 text-xs"})]}),e.jsx("div",{className:"flex space-x-10 pl-4 ",children:e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Address"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:s!=null&&s.address?s==null?void 0:s.address:"N/A"})]})})]})]}),!x&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-5 ",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2029/2029957.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," Demand Details"]}),e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"	MONTH/YEAR"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"MONTHLY RATE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"PAID STATUS"})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(o=s==null?void 0:s.demand_details)==null?void 0:o.map((t,c)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:c+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:i(t==null?void 0:t.payment_from,"YYYY-MM-DD").format("MMM-YYYY")}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.total_tax}),e.jsx("td",{className:"px-2  py-2 text-sm",children:(t==null?void 0:t.paid_status)==1?e.jsx("div",{className:"text-green-500 ",children:"Paid"}):e.jsx("div",{className:"text-red-500  ",children:"Unpaid"})})]}))})})]}),e.jsx("div",{className:"text-center text-red-600 mt-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-center font-bold ",children:e.jsx("p",{children:"Please Make Payment *"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>b(),className:"px-2 py-1 bg-indigo-600 text-sm text-white",children:"Pay Now"})})]})})]}),e.jsx("dialog",{ref:l,className:"",children:e.jsxs("div",{className:"space-y-2 mb-5",children:[e.jsx("button",{className:"absolute top-0 right-0 m-2  text-white  rounded-full bg-red-500",onClick:()=>n(),children:e.jsx(p,{className:"text-3xl"})}),e.jsxs("p",{className:"text-center font-extrabold text-red-600 ",children:["Please Select Month * ",e.jsx("span",{className:"font-semibold text-lg"})]}),e.jsx("div",{className:"flex justify-center gap-x-5",children:e.jsx(_,{consumerId:s==null?void 0:s.id,consumerType:"independent",closeDialogTag:n})})]})}),!x&&((m=s==null?void 0:s.transaction_details)==null?void 0:m.length)>0&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8948/8948774.png",alt:"Upload",className:"w-5 inline text-[#37517e]"})," Payment Details"]}),e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"AMOUNT"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"MODE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"MONTH/YEAR"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TRANSACTION DATE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TRANSACTION NO."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TC NAME"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:(h=s==null?void 0:s.transaction_details)==null?void 0:h.map((t,c)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:c+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.total_payable_amt}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.payment_mode}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:i(t==null?void 0:t.demand_from,"YYYY-MM-DD").format("MMM-YYYY")}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.transaction_date}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:t==null?void 0:t.transaction_no}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(t==null?void 0:t.tc_name)||"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:e.jsxs("button",{onClick:()=>N(`/swm-payment-receipt/${t==null?void 0:t.transaction_id}`),className:`border border-sky-700 text-sky-700 w-32 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-sky-700 \r
                                                                           hover:text-white flex items-center justify-center gap-1 `,children:[e.jsx(v,{})," View Receipt"]})})]}))})})]})]})]})})})]})})})};export{G as default};
