import{j as e}from"./mui-8e804a04.js";import{u as O,r as i}from"./router-87042356.js";import{x as G,A as u,b,m as w,B as q,n,y as p,P as Q,Q as Y}from"./index-0f28b603.js";import{B as J}from"./BottomErrorCard-b31e4e97.js";import{T as j}from"./index.esm-e3de3e5d.js";import{L as K}from"./ListTable-f78d3234.js";import{I as D}from"./index.esm-6d85e2b6.js";import{R as W}from"./index.esm-799452e3.js";import{D as X}from"./DeleteModal-1a99f431.js";import{M as Z}from"./index-4e794517.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./CommonModal-340f9ebb.js";import"./index.esm-f717eb21.js";const fe=()=>{const s=O(),{api_getList:k,api_getDetails:A,api_deleteApplication:S}=Q(),[g,v]=i.useState(!0),[N,d]=i.useState(!1),[a,I]=i.useState(null),[h,M]=i.useState([]),[F,L]=i.useState(!1),[E,P]=i.useState(""),[$,T]=i.useState(null),[c,y]=i.useState(null),[B,_]=i.useState(!1),f=()=>{_(!1)},R=()=>{_(!0)},l=(t,o)=>{P(o),L(t),!t&&s("/marriage-index")};G(""),i.useEffect(()=>{d(!0),u.post(k,{},b()).then(t=>{var o,r,m,x;console.log("getting response of user list => ",t),(o=t==null?void 0:t.data)!=null&&o.status?(console.log("user list => ",(r=t==null?void 0:t.data)==null?void 0:r.data),M((m=t==null?void 0:t.data)==null?void 0:m.data)):l(!0,w((x=t==null?void 0:t.data)==null?void 0:x.message))}).catch(t=>{console.log("getting error doc list for marriage => ",t),l(!0,"Error getting list, please try again later !")}).finally(()=>{d(!1)})},[]);const H=t=>{d(!0),u.post(A,{applicationId:t},b()).then(o=>{var r,m,x,C;console.log("getting response of user data => ",o),(r=o==null?void 0:o.data)!=null&&r.status?(console.log("user data => ",(m=o==null?void 0:o.data)==null?void 0:m.data),I((x=o==null?void 0:o.data)==null?void 0:x.data),v(!1)):l(!0,w((C=o==null?void 0:o.data)==null?void 0:C.message))}).catch(o=>{console.log("getting error doc list for marriage => ",o),l(!0,"Error getting document list, please try again later !")}).finally(()=>{d(!1)})},z=()=>{d(!0),u.post(S,{applicationId:c},b()).then(t=>{var o,r;console.log("getting response of user data => ",t),(o=t==null?void 0:t.data)!=null&&o.status?(Y.success("Application Deleted Successfully !!!"),v(!0),y(null)):l(!0,w((r=t==null?void 0:t.data)==null?void 0:r.message))}).catch(t=>{console.log("getting error doc list for marriage => ",t),l(!0,"Error getting document list, please try again later !")}).finally(()=>{d(!1)})},V=t=>{y(t),T(t),H(t)};let U=[{Header:"Sl.No.",Cell:({row:t})=>e.jsx("div",{children:(t==null?void 0:t.index)+1})},{Header:"Application No",accessor:"application_no",Cell:({cell:t})=>{var o;return n((o=t.row.original)==null?void 0:o.application_no)}},{Header:"Bride Name",accessor:"bride_name",Cell:({cell:t})=>{var o;return n((o=t.row.original)==null?void 0:o.bride_name)}},{Header:"Groom Name",accessor:"groom_name",Cell:({cell:t})=>{var o;return n((o=t.row.original)==null?void 0:o.groom_name)}},{Header:"Marriage Date",accessor:"marriage_date",Cell:({cell:t})=>{var o;return p((o=t.row.original)==null?void 0:o.marriage_date)}},{Header:"Marriage Place",accessor:"marriage_place",Cell:({cell:t})=>{var o;return n((o=t.row.original)==null?void 0:o.marriage_place)}},{Header:"Appointment Date",accessor:"appointment_date",Cell:({cell:t})=>{var o;return p((o=t.row.original)==null?void 0:o.appointment_date)}},{Header:"Action",Cell:({cell:t})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center gap-2 w-full",children:e.jsx("button",{onClick:()=>{var o,r;return V((r=(o=t==null?void 0:t.row)==null?void 0:o.original)==null?void 0:r.id)},className:"px-2 py-1 rounded-md bg-indigo-500 text-white text-sm hover:bg-indigo-600",children:"View"})})})}];return e.jsxs(e.Fragment,{children:[N&&e.jsx(q,{}),!N&&e.jsxs("div",{className:"animate__animated animate__fadeIn animate__faster overflow-x-hidden overflow-y-scroll w-[99%] mx-auto rounded-md gap-6 h-full p-[1vw]",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("h1",{className:"bg-white shadow-lg shadow-indigo-300 text-indigo-500 border-[0.17vw] border-indigo-500 px-[4vw] py-[1.5vh] w-max font-semibold text-[3vh]",children:"Track Marriage Registration"})}),F&&e.jsx(J,{activateBottomErrorCard:l,errorTitle:E}),e.jsxs("div",{className:"flex items-center space-x-2 max-sm:space-x-1 mt-4 sm:mb-0 max-sm:flex-wrap max-sm:justify-center max-sm:space-y-2",children:[e.jsxs("div",{className:(g?"border-2 border-indigo-600 shadow-indigo-400":"border-none")+"select-none bg-white shadow-md rounded-md flex items-center space-x-2 px-4 py-2 cursor-pointer text-sm max-sm:space-x-0 ",onClick:()=>v(!0),children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(j,{})}),e.jsx("span",{className:"font-semibold",children:"APPLICATION LIST"})]}),e.jsxs("div",{className:"border-2 select-none bg-white shadow-md rounded-md flex items-center space-x-2 max-sm:space-x-0 px-6 py-2 cursor-pointer text-sm hover:border-indigo-600",onClick:()=>{s("/registered-marriage-list")},children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(j,{})}),e.jsx("span",{className:"font-semibold uppercase",children:"Approved List"})]}),e.jsxs("div",{className:"border-2 select-none bg-white shadow-md rounded-md flex items-center space-x-2 max-sm:space-x-0 px-6 py-2 cursor-pointer text-sm hover:border-indigo-600",onClick:()=>{s("/rejected-marriage-list")},children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(j,{})}),e.jsx("span",{className:"font-semibold uppercase",children:"Rejected List"})]})]}),g&&e.jsx(e.Fragment,{children:(h==null?void 0:h.length)>0?e.jsx("div",{className:"mt-4 bg-white p-4 shadow-md",children:e.jsx(K,{dataList:h,columns:U})}):e.jsxs("div",{className:"mt-6 bg-white p-4 shadow-lg w-full flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("span",{className:"block sm:inline",children:"Sorry! You haven't applied for marriage registration."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]}),e.jsx("button",{onClick:()=>s("/marriage-apply/0/new"),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2.7vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Apply Now"})]})}),!g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex items-center flex-wrap w-full text-sm bg-white p-4 shadow-lg gap-2 mt-4 max-sm:p-5",children:[e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Application No. "}),e.jsx("div",{className:"font-semibold text-base",children:n(a==null?void 0:a.application_no)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Groom Name "}),e.jsx("div",{className:"font-semibold text-base",children:n(a==null?void 0:a.groom_name)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Bride Name "}),e.jsx("div",{className:"font-semibold text-base",children:n(a==null?void 0:a.bride_name)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Marriage Date "}),e.jsx("div",{className:"font-semibold text-base",children:p(a==null?void 0:a.marriage_date)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Marriage Place "}),e.jsx("div",{className:"font-semibold text-base",children:n(a==null?void 0:a.marriage_place)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[27%]",children:[e.jsx("div",{children:"Either of the Bride or Groom belongs to BPL category ?"}),e.jsx("div",{className:"font-semibold text-base",children:n(a==null?void 0:a.is_bpl)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Appointment Date "}),e.jsx("div",{className:"font-semibold text-base",children:p(a==null?void 0:a.appointment_date)})]}),e.jsx("button",{onClick:()=>s(`/marriage-details/${c}`),className:"absolute bottom-1 right-1 text-sm border border-indigo-500 text-indigo-500 hover:bg-indigo-500 hover:text-white transition-all duration-300 px-4 py-1 w-max",children:"View Details"})]}),e.jsxs("div",{className:"bg-white flex flex-col gap-2 p-[1.5vw] text-[2vh] mt-[4vh] rounded-md shadow-md",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Form Fill Up"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:"text-green-500",children:"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(a==null?void 0:a.payment_status)==0?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(`/marriage-apply/${c}/edit`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Edit"}),e.jsx("button",{onClick:()=>R(),className:"border-[0.15vw] border-red-500 hover:bg-red-600 hover:text-white text-red-500 shadow-red-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Delete"})]}):e.jsx("span",{className:"font-bold text-green-600 text-2xl",children:e.jsx(D,{})})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Document Upload"}),e.jsx("div",{className:"col-span-4 text-center",children:(a==null?void 0:a.is_btc)==!0?e.jsx("span",{className:"text-red-500",children:"BTC"}):e.jsx("span",{className:`${(a==null?void 0:a.doc_upload_status)==0?"text-zinc-700":"text-green-500"} `,children:(a==null?void 0:a.doc_upload_status)==0?"Pending":"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(a==null?void 0:a.doc_upload_status)==0?e.jsx("button",{onClick:()=>s(`/marriage-doc-upload/${c}/${a==null?void 0:a.is_btc}`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Upload Documents"}):e.jsx(e.Fragment,{children:(a==null?void 0:a.payment_status)==0?e.jsx("button",{onClick:()=>s(`/marriage-doc-upload/${c}/${a==null?void 0:a.is_btc}`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Re-Upload"}):e.jsx("span",{className:"font-bold text-green-600 text-2xl",children:e.jsx(D,{})})})})]}),!(a!=null&&a.is_bpl)&&e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Payment"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:(a==null?void 0:a.payment_status)==0?"text-zinc-700":"text-green-500",children:(a==null?void 0:a.payment_status)==0?"Pending":"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(a==null?void 0:a.payment_status)==0?e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>s(`/marriage-payment/${$}`),children:"Pay"}):e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>s(`/marriage-payment-receipt/${encodeURIComponent(a==null?void 0:a.tran_no)}`),children:"View Receipt"})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Form Verification"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:`${a!=null&&a.appointment_status?" text-green-500":"text-zinc-700"}`,children:a!=null&&a.appointment_status?"Verified":"Pending"})}),e.jsx("div",{className:"col-span-4 text-center",children:(a==null?void 0:a.appointment_status)&&e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>s(`/marriage-certificate/${a==null?void 0:a.id}`),children:"Download Certifcate"})})]})]}),e.jsxs("div",{className:`${(a==null?void 0:a.appointment_status)&&"border-2 border-red-500 shadow-lg shadow-red-200"} bg-white flex flex-col gap-2 p-[1.5vw] text-[2vh] mt-[4vh] rounded-md shadow-md pb-10`,children:[e.jsx("span",{className:"font-semibold",children:"Important Note : "}),e.jsx("ol",{children:e.jsxs("li",{children:["After ",e.jsx("span",{className:"font-bold",children:"Form Verification"})," , download the certificate after that whatever the appointment date is given, you have to appear at the registrar office on that day with all documents you have uploaded with 2 joint photographs (3 inch x 2 inch) and downloaded certificate too."]})})]})]})]}),e.jsx(Z,{isOpen:B,onRequestClose:f,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsxs("div",{className:" animate__animated animate__fadeInRight animate__faster w-max border-2 border-indigo-500 px-6 py-4 h-max border-t-2 border-l-2 rounded-lg shadow-lg shadow-indigo-300 relative overflow-auto",children:[e.jsx("div",{className:"absolute top-2 z-10 bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:f,children:e.jsx(W,{fontSize:10})}),e.jsx(X,{closeModal:f,deleteSafFun:()=>z()})]})})]})};export{fe as default};
