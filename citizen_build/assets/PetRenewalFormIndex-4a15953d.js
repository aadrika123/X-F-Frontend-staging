import{j as l}from"./mui-8e804a04.js";import{f as k,r as c,u as q}from"./router-87042356.js";import{c as B,d,u as E,A as F}from"./index-0f28b603.js";import{h as M}from"./moment-fbc5633a.js";import{P as G}from"./PetRegAPIList-7a71d901.js";import{c as K}from"./Context-3d9544ef.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";const e={required:"text-red-700 font-semibold",label:"text-sm",textFiled:"block w-full h-9 border px-2 border-gray-300 rounded shadow text-gray-700",textArea:"block w-full border px-2 border-gray-300 rounded shadow"},le=z=>{const{id:b}=k(),[o,v]=c.useState(),{notify:m}=c.useContext(K),[p,g]=c.useState(!1),[w,x]=c.useState(!1),[R,h]=c.useState(!1),[u,A]=c.useState(),j=c.useRef(),O=q(),{header:S,api_PetApproveViewApplication:V,api_PetApplyRenewalForm:_,header1:P}=G(),T=B({doctorName:d().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),doctorRegNo:d().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),dateOfRabies:d().required("Kindly enter a value."),dateOfLepVaccine:d().required("Kindly enter a value.")}),r=E({initialValues:{doctorName:"",doctorRegNo:"",dateOfRabies:"",dateOfLepVaccine:""},enableReinitialize:!0,onSubmit:(s,N)=>{C(s),console.log("Value.....",s)},validationSchema:T}),L=s=>{s.target.name,s.target.value,h(!1)},C=s=>{x(!0);const N={address:s==null?void 0:s.address,applyThrough:s==null?void 0:s.applyThrough,propertyNo:s==null?void 0:s.holdingNo,breed:s==null?void 0:s.breed,ownerCategory:s==null?void 0:s.categoryApplication,color:s==null?void 0:s.color,dateOfLepVaccine:s==null?void 0:s.dateOfLepVaccine,dateOfRabiesVac:s==null?void 0:s.dateOfRabies,doctorName:s==null?void 0:s.doctorName,doctorRegNo:s==null?void 0:s.doctorRegNo,mobileNo:s==null?void 0:s.mobileNo,panNo:s==null?void 0:s.panNo,petBirthDate:s==null?void 0:s.petBirthDate,petFrom:s==null?void 0:s.petFrom,petGender:s==null?void 0:s.petGender,petIdentity:s==null?void 0:s.petIdentity,petName:s==null?void 0:s.petName,petType:s==null?void 0:s.petType,ulbId:s==null?void 0:s.ulb,ward:s==null?void 0:s.ward,registrationId:b,applicantName:s==null?void 0:s.applicantName,mobileNo:s==null?void 0:s.mobileNo,email:s==null?void 0:s.email,panNo:s==null?void 0:s.panNo};console.log("complete payload",N),F.post(_,N,S).then(i=>{var n,t,a;x(!1),i.data.status?(A(i.data.data),I(),console.log("Form applied successfully"),m((n=i==null?void 0:i.data)==null?void 0:n.message,"success")):(m((t=i==null?void 0:i.data)==null?void 0:t.message,"error"),h((a=i==null?void 0:i.data)==null?void 0:a.message),console.log("Failed to apply pet registration"))}).catch(i=>{var n,t,a,f;h((t=(n=i==null?void 0:i.response)==null?void 0:n.data)==null?void 0:t.error),m("Something Went wrong","error"),x(!1),console.log("Error while applying for pet registration..",(f=(a=i==null?void 0:i.response)==null?void 0:a.data)==null?void 0:f.error)})},I=()=>{j.current.showModal()};return c.useEffect(()=>{F.post(V,{registrationId:b},P).then(s=>{s.data.status?(v(s.data.data),console.log("pet Renewal data",s.data),console.log("pet Renewal data====>",s.data.data.address)):console.log("Error fetching pet master list")}).catch(s=>{console.log("Error while getting pet master list")})},[]),l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:r.handleSubmit,onChange:L,children:[l.jsxs("div",{className:"overflow-y-auto mt-5",children:[l.jsx("div",{className:"col-span-12 ml-2 my-2",children:l.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Property Details "})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-5  bg-white shadow-md rounded-md py-2",children:[l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"ulb",children:"ULB "}),l.jsx("input",{value:o==null?void 0:o.ulb_name,disabled:!0,type:"text",name:"ulb",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.ulb&&r.errors.ulb?r.errors.ulb:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"applyThrough",children:"Apply Through "}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.apply_through_name,type:"text",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.applyThrough&&r.errors.applyThrough?r.errors.applyThrough:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"holdingNo",children:"Holding / SAF No."}),l.jsx("input",{disabled:!0,value:(o==null?void 0:o.holding_no)==""?o==null?void 0:o.saf_no:o==null?void 0:o.holding_no,type:"text",name:"holdingNo",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.holdingNo&&r.errors.holdingNo?r.errors.holdingNo:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"categoryApplication",children:"Category of Application"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.application_type,type:"text",name:"holdingNo",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.categoryApplication&&r.errors.categoryApplication?r.errors.categoryApplication:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"ward",children:"Ward Number"}),l.jsx("input",{type:"text",disabled:!0,value:o==null?void 0:o.ward_name,name:"ward",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.ward&&r.errors.ward?r.errors.ward:null})]})]}),l.jsx("div",{className:"col-span-12 ml-2 my-2",children:l.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Applicant Details"})}),l.jsxs("div",{className:"bg-white shadow-md rounded-md py-2",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 ",children:[l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"applicantName",children:"Name of Applicant"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.applicant_name,className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.applicantName&&r.errors.applicantName?r.errors.applicantName:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"mobileNo",children:"Mobile No"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.mobile_no,type:"number",name:"mobileNo",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.mobileNo&&r.errors.mobileNo?r.errors.mobileNo:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"email",children:"Email"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.email,type:"email",name:"email",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.email&&r.errors.email?r.errors.email:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"panNo",children:"PAN No."}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.pan_no,type:"text",name:"panNo",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.panNo&&r.errors.panNo?r.errors.panNo:null})]})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"address",children:"Address"}),l.jsx("textarea",{disabled:!0,value:o==null?void 0:o.address,name:"address",maxLength:"500",rows:"3",className:e==null?void 0:e.textArea}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.address&&r.errors.address?r.errors.address:null})]})]}),l.jsx("div",{className:"col-span-12 ml-2 my-2",children:l.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Pet Details"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 bg-white shadow-md rounded-md py-2",children:[l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petType",children:"Pet Type"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.ref_pet_type,className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.petType&&r.errors.petType?r.errors.petType:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"pet_name",children:"Name of Pet"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.pet_name,className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.petName&&r.errors.petName?r.errors.petName:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petGender",children:"Gender"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.ref_gender,className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.petGender&&r.errors.petGender?r.errors.petGender:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petBirthDate",children:"Date of Birth"}),l.jsx("input",{disabled:!0,value:M(o==null?void 0:o.dob).format("DD-MM-Y"),className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.petBirthDate&&r.errors.petBirthDate?r.errors.petBirthDate:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"breed",children:"Breed"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.breed,type:"text",name:"color",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.breed&&r.errors.breed?r.errors.breed:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"color",children:"Color"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.color,type:"text",name:"color",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.color&&r.errors.color?r.errors.color:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"doctorName",children:["Veterinary Doctor Name",l.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),l.jsx("input",{...r.getFieldProps("doctorName"),type:"text",maxLength:"70",name:"doctorName",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.doctorName&&r.errors.doctorName?r.errors.doctorName:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"doctorRegNo",children:["Doctor’s MSVC/VCI number ",l.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),l.jsx("input",{...r.getFieldProps("doctorRegNo"),type:"text",maxLength:"70",name:"doctorRegNo",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.doctorRegNo&&r.errors.doctorRegNo?r.errors.doctorRegNo:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"dateOfRabies",children:["Date of Rabies",l.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),l.jsx("input",{...r.getFieldProps("dateOfRabies"),type:"date",name:"dateOfRabies",className:e==null?void 0:e.textFiled,max:new Date().toISOString().split("T")[0]}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.dateOfRabies&&r.errors.dateOfRabies?r.errors.dateOfRabies:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"dateOfLepVaccine",children:["Leptospirosis Vaccination Date",l.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),l.jsx("input",{...r.getFieldProps("dateOfLepVaccine"),type:"date",name:"dateOfLepVaccine",className:e==null?void 0:e.textFiled,max:new Date().toISOString().split("T")[0]}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.dateOfLepVaccine&&r.errors.dateOfLepVaccine?r.errors.dateOfLepVaccine:null})]}),l.jsxs("div",{className:"m-3",children:[l.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petFrom",children:"Pet From"}),l.jsx("input",{disabled:!0,value:o==null?void 0:o.occurrence_types,name:"PetFrom",className:e==null?void 0:e.textFiled}),l.jsx("p",{className:"text-red-500 text-xs",children:r.touched.petFrom&&r.errors.petFrom?r.errors.petFrom:null})]})]})]}),l.jsxs("p",{className:"flex mt-3 gap-x-3",children:[l.jsx("input",{type:"checkbox",checked:p,name:"",id:"",onChange:s=>g(s.target.checked)}),l.jsx("p",{className:"cursor-pointer select-none",onClick:()=>g(!p),children:"I have entered the correct information and agree to the terms and conditions."})]}),l.jsx("p",{className:"text-red-500 font-semibold text-center mt-3",children:R}),l.jsx("div",{className:"flex justify-center my-5",children:w?l.jsx("p",{children:"Form Submitting.."}):l.jsx("button",{type:"submit",disabled:!p,className:"disabled:opacity-40 bg-indigo-600 hover:bg-indigo-700 px-8 py-2 text-white rounded shadow mb-10",children:"Submit Application"})})]}),l.jsx("dialog",{ref:j,className:"",children:l.jsxs("div",{className:"space-y-2 mb-5",children:[l.jsx("p",{className:"text-center bg-yellow-300 p-2 font-semibold ",children:" Your Application has submitted successfully"}),l.jsxs("p",{className:"text-center",children:["Application No.  ",l.jsx("span",{className:"font-semibold text-lg",children:(u==null?void 0:u.applicationNo)||"N/A"})]}),l.jsx("div",{className:"flex justify-center gap-x-5",children:l.jsx("button",{onClick:()=>O("/pet-registration-dashboard"),className:"border border-indigo-600 px-2 py-1 rounded shadow hover:bg-indigo-500 hover:text-white",children:"Dashboard"})})]})})]})};export{le as default};
