import{b as D,c as S,p as $,j as s,I as k}from"./index-4cGi8UK6.js";import{P as T}from"./index-MN12Mwbo.js";import{r as c}from"./tailwind-6U-kYQAu.js";import{T as g}from"./TextField-ZjV3PrFE.js";import{u as z,d as t}from"./router-5yjtezO8.js";import"./index-iFVn5AxS.js";import{S as A}from"./PaginationState-kG0vKBiB.js";import"./reactQuery-QTVGT_ni.js";import"./axios-lPgvryBG.js";import"./reactIcons-ElHvrKTF.js";import"./headlessui-iZReL1Rn.js";import"./formik.esm-BnzrXcQN.js";import"./customInputValidation-jhKsg103.js";import"./ArrowRightIcon-g-6SOtWO.js";function Q(){var x,i,p,h,j,f,b,m,u,N;const y=z(),[d,w]=t.useState(""),[o,v]=t.useState(""),[n,_]=t.useState(1),[l,P]=t.useState(10),r=D(),a=S({api:(x=$)==null?void 0:x.tcVisitList,config:{userId:(i=r==null?void 0:r.user)==null?void 0:i.id,fromDate:d,toDate:o,page:n,perPage:l},value:[n,l],options:{enabled:!0}}),C=()=>{a.refetch()};return a.isLoading?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx(k,{})}):s.jsx(T,{title:"Visiting List",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mt-5",children:[s.jsx(g,{label:"From Date",type:"date",value:d,onChange:e=>w(e.target.value)}),s.jsx(g,{label:"To Date",type:"date",value:o,onChange:e=>v(e.target.value)})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:()=>C(),className:"bg-blue-500 text-white px-3 py-1 rounded-md",children:"Search"})}),s.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),((j=(h=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:h.data)==null?void 0:j.length)>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"flex flex-wrap justify-between",children:[(m=(b=(f=a==null?void 0:a.data)==null?void 0:f.data)==null?void 0:b.data)==null?void 0:m.map((e,F)=>s.jsx(c.Card,{className:"w-full mb-5",children:s.jsxs(c.CardBody,{children:[s.jsx("div",{className:"flex items-center justify-between -mt-1",children:s.jsx("div",{className:"flex items-center",children:s.jsx("h1",{className:"font-bold text-xs",children:"Details"})})}),s.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Owner Name:"}),s.jsx("p",{className:"text-xs text-end",children:e==null?void 0:e.owner_name})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Property No:"}),s.jsx("p",{className:"text-xs text-end",children:e==null?void 0:e.property_no})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Owner Name:"}),s.jsx("p",{className:"text-xs text-end truncate w-60",children:e==null?void 0:e.holding_no})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Zone:"}),s.jsx("p",{className:"text-xs text-end",children:e==null?void 0:e.zone_name})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Address:"}),s.jsx("p",{className:"text-xs text-end truncate w-60",children:e==null?void 0:e.prop_address})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Mobile No:"}),s.jsx("p",{className:"text-xs text-end",children:e==null?void 0:e.mobile_no})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Remarks:"}),s.jsx("p",{className:"text-xs font-semibold whitespace-pre-wrap",children:e==null?void 0:e.remarks})]}),s.jsxs("div",{className:"flex items-center justify-between mb-1 whitespace-pre-wrap",children:[s.jsx("h1",{className:"text-xs font-semibold",children:"Citizen Comment:"}),s.jsx("p",{className:"text-xs font-semibold",children:e==null?void 0:e.citizen_comment})]}),s.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(c.Button,{color:"green",size:"sm",onClick:()=>y("/amc-app/property/tc-visit-map?holding-no=".concat(e==null?void 0:e.holding_no,"&property-no=").concat(e==null?void 0:e.property_no,"&name=").concat(e==null?void 0:e.owner_name,"&address=").concat(e==null?void 0:e.prop_address,"&lat=").concat(e==null?void 0:e.latitude,"&lng=").concat(e==null?void 0:e.longitude)),children:s.jsx("small",{children:"View Location"})})})]})},e==null?void 0:e.id)),s.jsx(A,{page:n,setPage:_,perPage:l,setPerPage:P,noOfPage:(N=(u=a==null?void 0:a.data)==null?void 0:u.data)==null?void 0:N.last_page})]})}):s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx("h1",{className:"text-lg font-semibold text-gray-400",children:"No Data Found"})})]})})}export{Q as default};
