import{b as U,w as R,Q as F,j as s,a as W,f as $}from"./index-uUZ9b1Ia.js";import{e as d,R as q,h as G}from"./react-kJeE4wWB.js";import{P as J}from"./index-Bd-x4pee.js";import"./module-m2uAbnec.js";import{u as Q}from"./formik.esm-u2hvNN2G.js";import{c as V,a as H}from"./index.esm-APWbThjM.js";import{F as K}from"./FormProvider-7EeULDaw.js";import{T as X}from"./TextField-FTEs0FUu.js";import"./index-FYp6KAEl.js";const Y=V().shape({mobile_no:H().required("Mobile No is required").min(10).max(10)});function Z({open:c,setOpen:T,wtrDetail:a}){var m,i,x,o,l,h,j,g,y,N,u,p,b,f,v,_,k,C,A,z,P,B,L,M,I,O;const e=()=>T(!c),t=U({}),r=Q({enableReinitialize:!0,initialValues:{consumerId:(i=(m=a==null?void 0:a.data)==null?void 0:m.data)==null?void 0:i.id,property_no:((o=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:o.folio_no)||"N/A",consumer_no:((h=(l=a==null?void 0:a.data)==null?void 0:l.data)==null?void 0:h.consumer_no)||"N/A",applicant_name:((g=(j=a==null?void 0:a.data)==null?void 0:j.data)==null?void 0:g.applicant_name)||"N/A",guardian_name:((N=(y=a==null?void 0:a.data)==null?void 0:y.data)==null?void 0:N.guardian_name)||"N/A",mobile_no:((p=(u=a==null?void 0:a.data)==null?void 0:u.data)==null?void 0:p.mobile_no)||"N/A",email:((f=(b=a==null?void 0:a.data)==null?void 0:b.data)==null?void 0:f.email)||"N/A",dtc_code:((_=(v=a==null?void 0:a.data)==null?void 0:v.data)==null?void 0:_.dtc_code)||"N/A",zoneId:((C=(k=a==null?void 0:a.data)==null?void 0:k.data)==null?void 0:C.zone_mstr_id)||"N/A",address:((z=(A=a==null?void 0:a.data)==null?void 0:A.data)==null?void 0:z.address)||"N/A",landmark:((B=(P=a==null?void 0:a.data)==null?void 0:P.data)==null?void 0:B.landmark)||"N/A",wardId:((M=(L=a==null?void 0:a.data)==null?void 0:L.data)==null?void 0:M.ward_mstr_id)||0},validationSchema:Y,onSubmit:async E=>{var S;try{const{data:n}=await t.mutateAsync({api:(S=R)==null?void 0:S.updateWaterDetails,data:E});n!=null&&n.status&&(F.success(n==null?void 0:n.message),a==null||a.refetch(),e())}catch(n){F.error(n.message)}}});return s.jsxs(K,{formik:r,children:[c&&s.jsx("div",{onClick:e,className:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"}),s.jsx("div",{id:"authentication-modal",tabIndex:-1,"aria-hidden":"true",className:"".concat(c?"flex":"hidden"," overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"),children:s.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:s.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Update Details",JSON.stringify((O=(I=a==null?void 0:a.data)==null?void 0:I.data)==null?void 0:O.ward_mstr_id)]}),s.jsxs("button",{onClick:e,type:"button",className:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[s.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),s.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),s.jsxs("div",{className:"p-4 md:p-5",children:[s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx("div",{children:s.jsx(X,{type:"text",name:"mobile_no",label:"Mobile No",formik:r,placeholder:"Enter Mobile No",maxLength:10})})}),s.jsxs("div",{className:"flex items-center justify-end mt-4 gap-5",children:[s.jsx(d.Button,{type:"button",size:"sm",variant:"text",color:"red",onClick:e,className:"mr-1 bg-gray-300",children:s.jsx("span",{children:"Cancel"})}),s.jsx(d.Button,{type:"submit",size:"sm",loading:t.isLoading,disabled:t.isLoading,children:s.jsx("span",{children:"Update"})})]})]})]})})})]})}function rs(){var t,r,m,i,x,o,l,h,j,g,y,N,u,p,b,f,v,_,k,C,A,z,P,B,L,M,I,O,E,S;const[c,T]=q.useState(!1),{id:a}=G(),e=W({api:R.waterGetDetails,config:{applicationId:a},options:{enabled:!!a}});return e!=null&&e.isLoading?s.jsx($,{}):s.jsxs(J,{title:"Consumer Details",children:[s.jsx(Z,{open:c,setOpen:T,wtrDetail:e}),s.jsxs("div",{className:"p-4",children:[s.jsxs(d.Card,{className:"w-full",children:[s.jsxs("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:[s.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Basic Details"}),s.jsx("div",{children:s.jsx(d.Button,{size:"sm",onClick:()=>T(!0),children:"Edit"})})]}),s.jsx(d.CardBody,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Property No :"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm  text-gray-900",children:((r=(t=e==null?void 0:e.data)==null?void 0:t.data)==null?void 0:r.folio_no)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Consumer No :"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:(i=(m=e==null?void 0:e.data)==null?void 0:m.data)==null?void 0:i.consumer_no}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Tap Size:"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:((o=(x=e==null?void 0:e.data)==null?void 0:x.data)==null?void 0:o.tab_size)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Cycle :"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:s.jsx("h1",{className:"text-sm  text-gray-900",children:((h=(l=e==null?void 0:e.data)==null?void 0:l.data)==null?void 0:h.cycle)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Category :"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:s.jsx("h1",{className:"text-sm  text-gray-900",children:((g=(j=e==null?void 0:e.data)==null?void 0:j.data)==null?void 0:g.category)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Property Type :"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:s.jsx("h1",{className:"text-sm  text-gray-900",children:(N=(y=e==null?void 0:e.data)==null?void 0:y.data)==null?void 0:N.property_type})})]})})]}),s.jsx("div",{className:"my-3 border-b-2"}),s.jsxs(d.Card,{className:"w-full",children:[s.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:s.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Property Address & Details"})}),s.jsx(d.CardBody,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Address :"})}),s.jsx("div",{className:"w-42 ",children:s.jsx("h1",{className:"text-sm  text-gray-900 truncate",children:((p=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:p.address)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"zone:"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:((f=(b=e==null?void 0:e.data)==null?void 0:b.data)==null?void 0:f.zone_name)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Ward No:"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:((_=(v=e==null?void 0:e.data)==null?void 0:v.data)==null?void 0:_.ward_number)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Cycle :"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:s.jsx("h1",{className:"text-sm  text-gray-900",children:((C=(k=e==null?void 0:e.data)==null?void 0:k.data)==null?void 0:C.cycle)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Land Mark :"})}),s.jsx("div",{className:"w-44 text-sm  text-gray-900",children:s.jsx("h1",{className:"text-sm  text-gray-900 truncate",children:((z=(A=e==null?void 0:e.data)==null?void 0:A.data)==null?void 0:z.landmark)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Property Type :"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:s.jsx("h1",{className:"text-sm  text-gray-900",children:(B=(P=e==null?void 0:e.data)==null?void 0:P.data)==null?void 0:B.property_type})})]})})]}),s.jsx("div",{className:"my-3 border-b-2"}),s.jsxs(d.Card,{className:"w-full",children:[s.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:s.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Owner Details"})}),s.jsx(d.CardBody,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Owner Name :"})}),s.jsx("div",{className:"w-42 ",children:s.jsx("h1",{className:"text-sm  text-gray-900 truncate",children:((M=(L=e==null?void 0:e.data)==null?void 0:L.data)==null?void 0:M.applicant_name)||"--"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Mobile No:"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:((O=(I=e==null?void 0:e.data)==null?void 0:I.data)==null?void 0:O.mobile_no)||"--"}),s.jsx("div",{children:s.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Email:"})}),s.jsx("div",{className:"text-sm  text-gray-900",children:((S=(E=e==null?void 0:e.data)==null?void 0:E.data)==null?void 0:S.email)||"--"})]})})]})]})]})}export{rs as default};
