import{z as w,j as e,a as t,D,E as R,a0 as A}from"./react-2b0b979a.js";import{n as r,J as T,i as f,A as L,a as E,B as W,S as _,r as B,P as F}from"./index-17ffab0d.js";import{P as H}from"./PrintButton-5b868ab0.js";import"./material-d4b16f21.js";import"./dateFns-d8bde0f9.js";import"./jspdfAutotable-996315cc.js";import"./mui-21ea0068.js";import"./reactEmotion-f996df66.js";import"./chart-475af344.js";import"./router-00804812.js";import"./lodash-612f78cf.js";import"./axios-ab898d10.js";/* empty css                */import"./moment-56196fff.js";import"./html2canvas-71958c39.js";import"./i18next-9a95e6a2.js";class I extends w.Component{render(){var a,d;const s=(a=this.props)==null?void 0:a.demandDetails;let o=(d=this==null?void 0:this.props)==null?void 0:d.ulbData;return e.jsxs(e.Fragment,{children:[e.jsx(H,{}),e.jsx("div",{className:"flex items-center justify-center text-black",id:"printableArea",children:e.jsxs("div",{className:"container w-[70%] border-2 border-dashed m-2 overflow-x-hidden border-black py-4 px-3 text-sm",children:[e.jsx("img",{src:o==null?void 0:o.state_logo,alt:"",srcset:"",className:"absolute top-[20%] left-[27%] h-[40vh] backImage opacity-10"}),e.jsxs("div",{className:"w-full text-center flex flex-col mb-2",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center gap-x-4 mb-2",children:[e.jsx("img",{src:o==null?void 0:o.ulb_logo,alt:"Logo",srcset:"",className:"h-16 w-16"}),e.jsx("span",{className:"text-3xl font-bold uppercase",children:o==null?void 0:o.ulb_name})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:" border-2 font-bold border-black px-10 py-2 text-xl w-max",children:"Property Tax Demand"})})]}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsxs("div",{children:[e.jsxs("div",{children:["Holding No. : ",e.jsx("span",{className:"font-normal",children:r(s==null?void 0:s.new_holding_no)})]}),e.jsxs("div",{children:["Department / Section : ",e.jsx("span",{className:"font-normal",children:"Revenue Section"})]}),e.jsxs("div",{children:["Account Description : ",e.jsx("span",{className:"font-normal",children:"Holding Tax & Others"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:["Date : ",e.jsx("span",{className:"font-normal",children:T(s==null?void 0:s.date)})]}),e.jsxs("div",{children:["Ward No :",e.jsx("span",{className:"font-normal",children:r(s==null?void 0:s.wardNo)})]}),e.jsxs("div",{children:["New Ward No :",e.jsx("span",{className:"font-normal",children:r(s==null?void 0:s.newWardNo)})]})]})]}),e.jsxs("div",{className:"mt-4 font-bold",children:[e.jsxs("div",{children:["Owner Name : ",e.jsx("span",{className:"font-normal",children:r(s==null?void 0:s.ownerName)})]}),e.jsxs("div",{children:["Address : ",e.jsx("span",{className:"font-normal",children:r(s==null?void 0:s.address)})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Demand From"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Demand Upto"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Demand (₹)"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"RWH Penalty (₹)"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Already Paid (₹)"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Total (₹)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.duesFrom)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.duesTo)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.demand)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.rwhPenalty)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.alreadyPaid)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.total)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 font-bold border-[1px] border-black text-end",colSpan:2,children:"Total"}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.demand)}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.rwhPenalty)}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.alreadyPaid)}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.total)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:2,children:"1% Penalty"}),e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:4,children:f(s==null?void 0:s.onePercPenalty)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:2,children:"Total Payable"}),e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:4,children:f(s==null?void 0:s.totalPayable)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:2,children:"Total Demand (in words)"}),e.jsxs("td",{className:"border-[1px] border-black font-bold p-2",colSpan:4,children:[" ",r(s==null?void 0:s.totalPayableInWords)," Rupees Only"]})]})]})})]})})]})}}const se=()=>{const n=t.useRef(),s=D(),{demandReciept:o}=F(),[a,d]=t.useState(!1),[N,u]=t.useState(),[k,i]=t.useState(!1),[v,c]=t.useState(!1),[y,S]=t.useState(!0),[P,g]=t.useState(null);return t.useEffect(()=>{i(!1),c(!0),L.post(o,{propId:s==null?void 0:s.id},E()).then(l=>{var x,p,m,b,h,j;c(!1),S((x=l==null?void 0:l.data)==null?void 0:x.status),(p=l==null?void 0:l.data)!=null&&p.status&&(u((b=(m=l==null?void 0:l.data)==null?void 0:m.data)==null?void 0:b.dueReceipt),g((j=(h=l==null?void 0:l.data)==null?void 0:h.data)==null?void 0:j.ulbDetails))}).catch(l=>{c(!1),i(!0)})},[]),v?e.jsx(e.Fragment,{children:e.jsx(W,{})}):k?e.jsx(_,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):y?e.jsxs("div",{children:[a&&e.jsx(B,{}),e.jsx(R,{position:"top-right",autoClose:2e3}),e.jsx(A,{trigger:()=>e.jsx("button",{}),content:()=>n.current}),e.jsx(I,{ref:n,demandDetails:N,ulbData:P})]}):e.jsx("div",{className:"w-full mt-20 text-center",children:e.jsx("span",{className:"text-3xl text-red-500 border border-red-500 font-semibold px-4 py-2",children:"No demand found for this property!"})})};export{se as default};
