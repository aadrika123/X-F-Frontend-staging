import{a as r,D as N,p as w,j as t,aH as Q}from"./react-2b0b979a.js";import{q,u as C,S as B,r as U,L as H,A as p,a as m,d as E}from"./index-17ffab0d.js";import"./material-d4b16f21.js";import"./dateFns-d8bde0f9.js";import"./jspdfAutotable-996315cc.js";import"./mui-21ea0068.js";import"./reactEmotion-f996df66.js";import"./chart-475af344.js";import"./router-00804812.js";import"./lodash-612f78cf.js";import"./axios-ab898d10.js";/* empty css                */import"./moment-56196fff.js";import"./html2canvas-71958c39.js";import"./i18next-9a95e6a2.js";function Z(){r.useState(),N();const[x,c]=r.useState(!1);r.useState(),r.useState(!1);const{notify:n}=r.useContext(q),[f,I]=r.useState(!1),[l,u]=r.useState([]),[d,h]=r.useState([]),[P,g]=r.useState([]);C("Quick Access List");const{api_udpateQuickAccessList:k,api_fetchQuickAccessAllList:S,api_fetchQuickAccessByUser:A}=E();w();const y=i=>{c(!0),p.post(S,{},m()).then(e=>{var s,a;(s=e==null?void 0:e.data)!=null&&s.status?h((a=e==null?void 0:e.data)==null?void 0:a.data):n("quick access list error","error"),c(!1)}).catch(e=>{n("Something went wrong!!","error"),c(!1)})},j=i=>{c(!0),p.post(A,{},m()).then(e=>{var s,a;(s=e==null?void 0:e.data)!=null&&s.status?g((a=e==null?void 0:e.data)==null?void 0:a.data):n("quick access list by user error","error"),u([]),c(!1)}).catch(e=>{n("Something went wrong!!","error"),u([]),c(!1)})},L=(i,e)=>{i.target.name;let s=i.target.checked;const a=l.findIndex(o=>o.id===Number(e));if(a!==-1){const o=[...l];o[a]={id:e,checkStatus:s},u(o)}else u(o=>[...o,{quickAccessId:e,status:s}])},b=(i,e)=>{c(!0);let s={data:l};p.post(k,s,m()).then(a=>{var o;(o=a==null?void 0:a.data)!=null&&o.status?u([]):n("quick access updated error","error"),c(!1)}).catch(a=>{n("Something went wrong!!","error"),c(!1)})},v=[{Header:"#",Cell:({row:i})=>t.jsx("div",{className:"pr-2",children:i.index+1})},{Header:"Page",accessor:"page_name"},{Header:"Action",accessor:"id",Cell:({cell:i})=>t.jsx("div",{className:"form-group col-span-12 form-check mb-2 md:px-4 flex items-center",children:t.jsx("input",{onChange:e=>{var s;return L(e,(s=i.row.values)==null?void 0:s.id)},type:"checkbox",className:"w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}];return r.useEffect(()=>{y(),j()},[]),f?t.jsx(B,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):t.jsxs(t.Fragment,{children:[x&&t.jsx(U,{}),(l==null?void 0:l.length)!==0&&t.jsxs("div",{className:"flex justify-center items-center w-full pl-4 pr-4",children:[t.jsx("div",{className:"flex-1  text-3xl text-gray-80 cursor-pointer",children:"X"}),t.jsx("div",{className:"flex-1 text-right ",children:t.jsx(Q,{onClick:b,className:"inline text-3xl text-gray-80 cursor-pointer"})})]}),t.jsxs("div",{className:"mt-10",children:[(d==null?void 0:d.length)!=0&&t.jsx(H,{exportStatus:!1,columns:v,dataList:d}),t.jsx("div",{className:"w-full h-40"})]})]})}export{Z as default};
