import{_ as v}from"./jspdfAutotable-996315cc.js";import{a as l,J as P,D as L,p as B,q as _,j as r,a1 as S,a2 as k,Q as u}from"./react-2b0b979a.js";import{q as C,u as F,a as H,f as $,g as A,k as R,s as n,v as D,d as I,w as U,t as V}from"./index-17ffab0d.js";import"./dateFns-d8bde0f9.js";import"./material-d4b16f21.js";import"./mui-21ea0068.js";import"./reactEmotion-f996df66.js";import"./chart-475af344.js";import"./router-00804812.js";import"./lodash-612f78cf.js";import"./axios-ab898d10.js";/* empty css                */import"./moment-56196fff.js";import"./html2canvas-71958c39.js";import"./i18next-9a95e6a2.js";const E=l.lazy(()=>v(()=>import("./index-17ffab0d.js").then(s=>s.bf),["assets/index-17ffab0d.js","assets/react-2b0b979a.js","assets/material-d4b16f21.js","assets/dateFns-d8bde0f9.js","assets/jspdfAutotable-996315cc.js","assets/mui-21ea0068.js","assets/reactEmotion-f996df66.js","assets/chart-475af344.js","assets/react-309cf0b5.css","assets/router-00804812.js","assets/lodash-612f78cf.js","assets/axios-ab898d10.js","assets/moment-56196fff.js","assets/html2canvas-71958c39.js","assets/i18next-9a95e6a2.js","assets/index-e038d7e6.css","assets/animate-2d4c25b0.css"]));function le(){const{t:s}=P(),[x,M]=l.useState(),{type:t,filterParam:c,searchValueParam:i}=L();l.useState(!1),l.useState(),l.useState(!1),l.useContext(C),l.useState(!1);const[m,d]=l.useState(null),[h,y]=l.useState(0);F("Search Legacy Property");const{api_getWardListByLogin:T,api_filterPropertyDetails:b}=I();H();const g=B();_();const p=e=>{(e==null?void 0:e.filterBy)=="khataNo"?d({filteredBy:e==null?void 0:e.filterBy,khataNo:e==null?void 0:e.khataNo,plotNo:e==null?void 0:e.plotNo,maujaName:e==null?void 0:e.maujaName,isLegacy:!0}):d({filteredBy:e==null?void 0:e.filterBy,parameter:e==null?void 0:e.parameter,isLegacy:!0}),y(o=>o+1),U(`/property/search/fresh/${encodeURIComponent((e==null?void 0:e.parameter)==null||(e==null?void 0:e.parameter)==""?"direct":e==null?void 0:e.filterBy)}/${encodeURIComponent((e==null?void 0:e.parameter)==null||(e==null?void 0:e.parameter)==""?"direct":e==null?void 0:e.parameter)}`)},f=$({filterBy:A().required("This is a required field !")}),a=R({initialValues:{filterBy:"",parameter:"",khataNo:"",plotNo:"",maujaName:""},onSubmit:e=>{if(e.filterBy!="khataNo"){if(e.parameter==""){u.info("Enter any keyword...");return}}else if(!(e.khataNo!=""||e.plotNo!=""||e.maujaName!="")){u.info("Enter any keyword...");return}p(e)},validationSchema:f}),N=(e,o)=>{let w=`/holdingPropertyDetails/${o}`;V(e,w,g)},j=[{Header:"Sl No.",Cell:({row:e})=>r.jsx("div",{className:"pr-2",children:e.index+1})},{Header:`${s("mainLegacyPage.legacyWardNo.label")}`,accessor:"ward_name"},{Header:`${s("mainLegacyPage.legacyOwnersNm.label")}`,accessor:"owner_name"},{Header:`${s("mainLegacyPage.legacyHoldNo.label")}`,accessor:"holding_no",Cell:({cell:e})=>r.jsx("span",{children:n(e.row.original.holding_no)})},{Header:`${s("mainLegacyPage.legacyMobNo.label")}`,accessor:"mobile_no",Cell:({cell:e})=>r.jsx("span",{children:n(e.row.original.mobile_no)})},{Header:`${s("mainLegacyPage.legacyAddress.label")}`,accessor:"prop_address",Cell:({cell:e})=>r.jsx("span",{children:n(e.row.original.prop_address)})},{Header:`${s("mainLegacyPage.legacyStatus.label")}`,Cell:({cell:e})=>r.jsxs("div",{children:[e.row.original.active_status===1&&r.jsx("span",{className:"text-green-400 font-semibold",children:"Active"}),e.row.original.active_status===0&&r.jsx("span",{className:"text-red-400 font-semibold",children:"Disabled"})]})},{Header:`${s("mainLegacyPage.legacyAction.label")}`,accessor:"id",Cell:({cell:e})=>r.jsx("button",{onClick:o=>N(o,e.row.values.id),className:"bg-indigo-500 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-indigo-700 text-white",children:s("mainLegacyPage.legacyViewDues.label")})},{Header:`${s("mainLegacyPage.legacyAllModules.label")}`,Cell:({cell:e})=>r.jsx("button",{onClick:()=>g(`/allmodules-dues/${e.row.values.id}`),className:"px-2 py-1 border border-indigo-500 text-indigo-500 font-medium text-xs leading-tight uppercase rounded shadow-xl hover:bg-indigo-700 hover:text-white hover:shadow-lg  active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:s("mainLegacyPage.legacyViewDues.label")})}];return l.useEffect(()=>{i!="direct"&&(a.setFieldValue("filterBy",decodeURIComponent(c)),a.setFieldValue("parameter",decodeURIComponent(i)),p({filterBy:decodeURIComponent(c),parameter:decodeURIComponent(i)}))},[]),r.jsxs(r.Fragment,{children:[(t=="re"||t=="mu")&&r.jsxs("div",{className:"bg-amber-50 px-4 py-4 mb-4 text-lg rounded-lg shadow-lg text-amber-600 inline-block",children:[r.jsx(S,{className:"inline mr-2 text-3xl"}),"For ",r.jsx("span",{className:"font-semibold",children:t=="re"?"Re-Assessment":"Mutation"})," of property search the property and then apply for ",t=="re"?"Re-Assessment":"Mutation"]}),r.jsxs("div",{className:"border shadow-xl bg-white mt-6",children:[r.jsxs("div",{className:"hidden sm:flex  ml-5 mt-2 ",children:[r.jsx("img",{src:D,alt:"",className:"w-10 h-10"}),r.jsx("p",{className:"font-bold text-3xl ml-4 mt-1 text-gray-600",children:s("mainLegacyPage.legacyHomeHeadingText.label")})]}),r.jsx("form",{onSubmit:a.handleSubmit,children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center sm:space-x-8 my-5 m-10",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[s("mainLegacyPage.legacyFilterBy.label"),r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...a.getFieldProps("filterBy"),className:"cypress_filterBy cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[r.jsx("option",{value:"",children:s("mainLegacyPage.legacySelectBtn.label")}),r.jsx("option",{value:"holdingNo",children:s("mainLegacyPage.legacySearchHoldingNumber.label")}),r.jsx("option",{value:"ownerName",children:s("mainLegacyPage.legacySearchOwnerName.label")}),r.jsx("option",{value:"mobileNo",children:s("mainLegacyPage.legacySearchMobileNumber.label")}),r.jsx("option",{value:"address",children:s("mainLegacyPage.legacySearchAddress.label")}),r.jsx("option",{value:"khataNo",children:s("mainLegacyPage.legacySearchKhataNumber.label")})]}),r.jsx("p",{className:"text-red-500 text-xs",children:a.touched.filterBy&&a.errors.filterBy?a.errors.filterBy:null})]}),(a.values.filterBy==""||a.values.filterBy!="khataNo")&&r.jsxs("div",{className:"mt-3 sm:mt-0",children:[r.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[s("mainLegacyPage.legacySearchBy.label")," ",x," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...a.getFieldProps("parameter"),className:"cypress_parameter w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),r.jsx("p",{className:"text-red-500 text-xs",children:a.touched.parameter&&a.errors.parameter?a.errors.parameter:null})]}),a.values.filterBy=="khataNo"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mt-3 sm:mt-0",children:[r.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:s("mainLegacyPage.legacySearchKhataNumber.label")}),r.jsx("input",{type:"text",...a.getFieldProps("khataNo"),className:"cypress_parameter w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),r.jsx("p",{className:"text-red-500 text-xs",children:a.touched.khataNo&&a.errors.khataNo?a.errors.khataNo:null})]}),r.jsxs("div",{className:"mt-3 sm:mt-0",children:[r.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:s("mainLegacyPage.legacyPlotNo.label")}),r.jsx("input",{type:"text",...a.getFieldProps("plotNo"),className:"cypress_parameter w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),r.jsx("p",{className:"text-red-500 text-xs",children:a.touched.plotNo&&a.errors.plotNo?a.errors.plotNo:null})]}),r.jsxs("div",{className:"mt-3 sm:mt-0",children:[r.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:s("mainLegacyPage.legacyMaujaName.label")}),r.jsx("input",{type:"text",...a.getFieldProps("maujaName"),className:"cypress_parameter w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),r.jsx("p",{className:"text-red-500 text-xs",children:a.touched.maujaName&&a.errors.maujaName?a.errors.maujaName:null})]})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{type:"submit",className:"cypress_submit_holding_search w-full border rounded-md border-indigo-700 bg-indigo-600 hover:bg-indigo-700 text-white  shadow-lg text-base font-semibold px-5 sm:m-3 py-1",children:[" ",r.jsxs("p",{className:"flex",children:[" ",r.jsxs("span",{className:"mt-1 mr-2",children:[" ",r.jsx(k,{})," "]})," ",s("mainLegacyPage.legacySearchRecordBtn.label")]})]})})]})})]}),r.jsxs("div",{className:"mt-10",children:[m!=null&&r.jsx(E,{api:b,columns:j,requestBody:m,changeData:h}),r.jsx("div",{className:"w-full h-40"})]})]})}export{le as default};
