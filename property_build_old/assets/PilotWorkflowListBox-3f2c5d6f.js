import{J as nt,j as t,a as l,I as Bt,a2 as Ot,af as Mt,aP as zt,p as Ut,aQ as $t,Q as pe,M as Te,aK as rt,aR as Vt,ac as Et,aJ as ot,a7 as qt,E as vt,aS as Wt,a8 as yt,D as Jt,aT as Gt}from"./react-2b0b979a.js";import{P as xt}from"./material-d4b16f21.js";import{f as Dt,g as ft,k as jt,K as Yt,q as wt,A as mt,a as qe,B as Kt,s as He,I as Qt,N as Zt,r as ct,Z as Xt,z as At,H as Lt,G as St,_ as gt,n as ye,$ as pt,a0 as Rt,E as ea,C as Xe}from"./index-17ffab0d.js";/* empty css             */import{P as ta}from"./PilotWorkflowDocumentRow-b4622439.js";import{a as Ue}from"./axios-ab898d10.js";import{C as aa,e as bt,T as la,f as Ft,g as na}from"./mui-21ea0068.js";import{E as ia}from"./EmptyDetailsIllustration-5cf058f7.js";import{p as et}from"./photo-f9d7c0b5.js";/* empty css                */import{m as sa}from"./moment-56196fff.js";import{L as da}from"./router-00804812.js";function ht(e){var W;const{t:i}=nt();let u=[...e==null?void 0:e.COLUMNS];u=[...u,{Header:`${i("mainHoldingPage.holdingAction.label")}`,Cell:({cell:j})=>t.jsx("button",{onClick:()=>{var M,N,ee,se,o;e==null||e.fetchWorkflowPermission((M=j.row.original)==null?void 0:M.workflow_id),e.fun((ee=(N=j==null?void 0:j.row)==null?void 0:N.original)==null?void 0:ee.id,(o=(se=j==null?void 0:j.row)==null?void 0:se.original)==null?void 0:o.assessment)},className:`bg-sky-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 \r
            hover:text-white text-black`,children:i("mainHoldingPage.holdingView.label")})}];const[P,C]=l.useState({}),[U,I]=l.useState(0),[V,G]=l.useState(!1),[v,oe]=l.useState(!1),[q,_]=l.useState(),[p,$]=l.useState([]),Y=()=>{O.setFieldValue("searchBy",""),O.setFieldValue("entry",""),C({}),oe(!1),I(j=>j+1)},ge=Dt({searchBy:ft().required("Select filter type"),entry:ft().required("Enter the parameter")}),O=jt({initialValues:{searchBy:"",entry:""},onSubmit:j=>{B(j)},validationSchema:ge}),B=j=>{oe(!0),_(j),C({[j==null?void 0:j.searchBy]:j==null?void 0:j.entry}),I(M=>M+1)};l.useEffect(()=>{},[]);const E=j=>{var M;return(M=p==null?void 0:p.map(N=>N.jhirnama_status))==null?void 0:M.includes(j)};return t.jsxs(t.Fragment,{children:[t.jsx("form",{onSubmit:O.handleSubmit,onChange:O.handleChange,className:"bg-white poppins",children:t.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b",children:[t.jsxs("div",{className:"w-full md:w-[25%]",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[i("mainHoldingPage.holdingFilterBy.label"),t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{...O.getFieldProps("searchBy"),className:`${O.errors.searchBy?"text-red-500 font-semibold border border-solid border-red-600 placeholder-red-300 shadow-red-100 ":"text-gray-700 font-normal border border-solid border-gray-400 placeholder-gray-400 "} cursor-pointer w-full px-3 py-1.5 text-base  bg-white bg-clip-padding rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md`,children:[t.jsx("option",{value:"",children:i("mainHoldingPage.holdingSelectBtn.label")}),t.jsx("option",{value:"applicationNo",children:i("mainHoldingPage.applicationNum.label")}),t.jsx("option",{value:"name",children:i("mainHoldingPage.propertyFilterByNm.label")})]})]}),t.jsxs("div",{className:"w-full md:w-[25%] ",children:[t.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[i("mainHoldingPage.propertyParameter.label"),t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",...O.getFieldProps("entry"),placeholder:i("mainHoldingPage.propertyParamPlc.label"),className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),t.jsxs("div",{className:"mt-4 w-full md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:[t.jsx("div",{className:" ",children:V?t.jsx(t.Fragment,{children:!v&&t.jsx("div",{className:"flex justify-center",children:t.jsx(Bt,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):t.jsxs("button",{type:"submit",className:" flex items-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-lg rounded-sm  text-base px-5 py-1",children:[t.jsx("span",{className:"",children:t.jsx(Ot,{fontSize:""})}),t.jsx("span",{children:i("mainHoldingPage.searchHoldingRecord.label")})]})}),v&&t.jsx("div",{className:" ",onClick:()=>Y(),children:V?t.jsx("div",{className:"flex justify-center",children:t.jsx(Bt,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):t.jsx("div",{className:"cursor-pointer text-center w-full border border-indigo-600 bg-indigo-500 hover:bg-indigo-600 text-white shadow-lg rounded-sm text-base font-semibold px-5 py-1",children:i("mainHoldingPage.propertyAllApli.label")})})]})]})}),void 0,(E(2)||E(3)||E(4))&&t.jsxs("span",{className:"mt-1 text-[12px] px-32",children:["SAF No. colour as per Jahirnama status ( ",t.jsx("b",{children:"Black"}),"= Not Uploaded,  ",t.jsx("b",{className:"text-orange-600",children:" Orange"}),"= Uploaded and it is in period of 1 to 15 Days,   ",t.jsx("b",{className:"text-green-600",children:"Green"})," = 15 days over,  ",t.jsx("b",{className:"text-red-600",children:"Red"})," = Objection)"]}),t.jsx(Yt,{getData:!0,api:(W=e==null?void 0:e.api)==null?void 0:W.url,columns:u,requestBody:P,changeData:U,search:!1,allData:j=>$(j==null?void 0:j.data)})]})}function ca(e){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"relative w-full overflow-x-auto",children:[t.jsxs("div",{className:" mb-2 flex items-center w-full",children:[t.jsx("div",{style:{boxShadow:"2px 4px 2px gray"},className:(e.verificationStatus?"bg-green-400 border-2 border-green-500 shadow-lg":"bg-gray-200")+" z-1 flex flex-initial items-center order-1 w-5 h-5 sm:w-6 sm:h-6 rounded-full",children:t.jsxs("h1",{className:"mx-auto font-semibold text-sm text-white",children:[e.verificationStatus?t.jsx(Mt,{size:20}):"X",e.active&&t.jsx("span",{className:"absolute top-0 left-1",children:t.jsx(zt,{className:"text-red-500 text-xl"})})," "]})}),e.last?"":t.jsx("div",{className:(e.verificationStatus?"bg-green-300":"bg-gray-200")+" order-2 flex-initial w-10 sm:w-32",style:{height:"2px"}})]}),t.jsx("div",{className:"flex-initial text-xs text-left font-semibold pl-2",children:e.index}),t.jsx("div",{className:"flex-initial text-xs opacity-50 pl-0 sm:pl-2",children:e.level})]})})}function ra(e){var Ne,ce,Se,Qe,We,Je,Ge,Ze,je,Ie,ke,Ae,Ye,we,$e,Pe,Le,Ve,Re,ve,n,S,r,a,s,h,f,m,b;const{dataID:i}=l.useContext(wt),{t:u}=nt(),P=Ut(),{api_propertyNoCheck:C,api_propertyNoSave:U,api_getAppicationFullDetail:I,api_getStaticSafDetails:V,api_objectionAgainstJahirNama:G}=Zt(),[v,oe]=l.useState(!1),[q,_]=l.useState(!1),p=()=>{oe(!0)},$=()=>{oe(!1)},Y=c=>{$(),c.preventDefault()},[ge,O]=l.useState(""),[B,E]=l.useState(""),[W,j]=l.useState(""),[M,N]=l.useState(""),[ee,se]=l.useState(!1),[o,d]=l.useState(!1),[A,de]=l.useState(""),[te,ae]=l.useState(null),[z,X]=l.useState(null),K=c=>{const x=c.target.value;O(x),(W||M)&&(j(""),N(""))},F=()=>{var L,H;const c=ge.trim();if(!/^[0-9-]+$/.test(c)||c.length<4){N("Please enter a valid property number with at least four digits, allowing only numeric characters and hyphens."),j("");return}_(!0);const k={applicationId:e.id,wardId:(H=(L=e==null?void 0:e.applicationData)==null?void 0:L.data)==null?void 0:H.ward_mstr_id,propertyNo:c};mt.post(C,k,qe()).then(function(w){O(w.data.data),j(w.data.message),N(""),_(!1)}).catch(function(w){N("Error while checking property number availability."),j(""),_(!1)})},y=c=>{var L,H;_(!0);const x=c.trim(),k={applicationId:e.id,wardId:(H=(L=e==null?void 0:e.applicationData)==null?void 0:L.data)==null?void 0:H.ward_mstr_id,propertyNo:x};mt.post(U,k,qe()).then(function(w){O(w.data.data),N(""),_(!1),pe.success(w.data.message),w.data.status&&window.location.reload()}).catch(function(w){N("Error while checking property number availability."),j(""),_(!1)})};l.useEffect(()=>{_(!0),mt.post(I,{applicationId:e.id},qe()).then(function(c){var x;_(!1),X((x=c==null?void 0:c.data)==null?void 0:x.data)}).catch(function(c){_(!1)})},[i]);const De=()=>{_(!0);const c={applicationId:e.id};mt.post(V,c,qe()).then(function(x){E(x.data.data),N(""),_(!1),pe.success("Jahir Nama Generated Successfully"),x.data.status&&P("jahir-nama-format",{state:{data:x.data.data}})}).catch(function(x){N("Error while generating Jahir Nama."),j(""),_(!1)})},Ee=()=>{_(!0),mt.post(I,{applicationId:e.id},qe()).then(function(c){_(!1),X(c==null?void 0:c.data)}).catch(function(c){_(!1)})},J=async c=>{_(!0),c.preventDefault();const x=new FormData;x.append("applicationId",e.id),x.append("hasAnyObjection",o?"1":"0"),x.append("comment",A),o&&x.append("document",te),mt.post(G,x,qe()).then(function(k){$(),Ee(),N(""),_(!1),pe.success(k.data.message)}).catch(function(k){N("Error while generating Jahir Nama."),j(""),_(!1)})},fe=()=>{se(!0),d(!0)},le=()=>{se(!0),d(!1)},be=c=>{const x=c.target.files[0];ae(x)};return t.jsxs(t.Fragment,{children:[q&&t.jsx(Kt,{}),t.jsx("div",{className:"bg-white",children:t.jsxs("div",{className:"container mx-auto my-5 md:p-5",children:[t.jsxs("div",{className:"md:flex no-wrap md:-mx-2 ",children:[t.jsx("div",{className:"w-full md:w-3/12 mx-2 md:shadow-xl flex md:justify-center items-center ",children:t.jsxs("div",{className:"bg-white md:items-center my-auto ",children:[t.jsxs("div",{className:"image overflow-hidden md:text-center",children:[t.jsx("div",{className:"text-indigo-600 font-bold text-2xl leading-8",children:He((ce=(Ne=e==null?void 0:e.applicationData)==null?void 0:Ne.data)==null?void 0:ce.application_no)}),t.jsx("div",{className:"text-sm text-gray-600",children:u("mainHoldingPage.applicationNum.label")})]}),t.jsxs("div",{className:"image overflow-hidden md:text-center mt-3 md:mt-10",children:[t.jsx("div",{className:"text-gray-900 font-bold text-lg leading-8",children:Qt((Qe=(Se=e==null?void 0:e.applicationData)==null?void 0:Se.data)==null?void 0:Qe.apply_date)}),t.jsx("div",{className:"text-sm text-gray-600",children:u("mainHoldingPage.propertyApplyDate.label")})]})]})}),t.jsxs("div",{className:"w-full md:w-9/12 mx-2 h-auto",children:[t.jsxs("div",{className:"bg-white mt-6 md:p-3 md:shadow-xl rounded-sm",children:[t.jsxs("div",{className:"flex items-center md:pl-4 space-x-2 font-semibold text-gray-900 leading-8",children:[t.jsx("span",{clas:"text-green-500",children:t.jsx($t,{})}),t.jsx("span",{className:"tracking-wide",children:He((Ze=(Ge=(Je=(We=e==null?void 0:e.applicationData)==null?void 0:We.data)==null?void 0:Je.fullDetailsData)==null?void 0:Ge.cardArray)==null?void 0:Ze.headerTitle)}),((Ie=(je=e==null?void 0:e.applicationData)==null?void 0:je.data)==null?void 0:Ie.parked)==!0&&t.jsx("span",{className:"float-right text-right text-red-600 px-4  border border-red-500 rounded-lg",children:u("mainHoldingPage.propIndexBtnCstmTabBack.label")})]}),t.jsxs("div",{className:"text-gray-700 py-2 md:py-6",children:[t.jsx("div",{className:"grid md:grid-cols-2 text-sm",children:($e=(we=(Ye=(Ae=(ke=e==null?void 0:e.applicationData)==null?void 0:ke.data)==null?void 0:Ae.fullDetailsData)==null?void 0:Ye.cardArray)==null?void 0:we.data)==null?void 0:$e.map(c=>t.jsxs("div",{className:"grid grid-cols-2",children:[t.jsxs("div",{className:"md:px-4 py-2 font-semibold",children:[He(c==null?void 0:c.displayString)," :"," "]}),t.jsx("div",{className:"md:px-4 py-2",children:He(c==null?void 0:c.value)})]}))}),t.jsxs("div",{className:"pb-2 mt-2 pl-4 flex",children:[((Pe=e==null?void 0:e.permissions)==null?void 0:Pe.can_view_form)&&t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>{var c;return window.open(`${(c=e==null?void 0:e.workflow)==null?void 0:c.fullDetailsUrl}/${e==null?void 0:e.id}`,"_blank")},children:u("mainHoldingPage.propIndexBtnCstmTabView.label")}),((Le=e==null?void 0:e.permissions)==null?void 0:Le.can_assing_propety_no)&&((Re=(Ve=e==null?void 0:e.applicationData)==null?void 0:Ve.data)==null?void 0:Re.property_no)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:p,children:"Add New Property No."}),v&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-auto flex items-center justify-center",children:[t.jsx("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-70"}),t.jsx("div",{className:"modal-container bg-white w-[40rem] h-[14rem] rounded shadow-lg z-50 overflow-y-auto",children:t.jsxs("div",{className:"modal-content py-4 text-left px-6",children:[t.jsx("span",{className:"text-white mt-4 bg-red-500 text-lg cursor-pointer absolute top-72 right-96 p-4 rounded-full w-4 h-4 flex items-center justify-center",onClick:$,children:"×"}),t.jsxs("div",{children:[t.jsx("form",{onSubmit:Y,onClick:F,className:"",children:t.jsxs("div",{className:"bg-white",children:[t.jsxs("div",{className:"text-lg font-semibold ",children:[" ward No. -  ",t.jsxs("span",{children:[He((a=(r=(S=(n=(ve=e==null?void 0:e.applicationData)==null?void 0:ve.data)==null?void 0:n.fullDetailsData)==null?void 0:S.cardArray)==null?void 0:r.data[0])==null?void 0:a.value)," "]})," "]}),t.jsx("div",{className:"mt-2",children:t.jsxs("label",{className:"text-lg font-semibold flex",children:["Add New Property No.",t.jsx("input",{type:"text",placeholder:"Enter property no.",className:"border-2 ml-4 border-blue-400",value:ge,onChange:K}),W&&t.jsxs("p",{className:`ml-2 mt-2 ${W==="Available"?"text-green-600 text-sm":"text-red-600 text-sm"}`,children:["*",W]})]})}),M&&t.jsx("div",{className:"text-red-600 mt-2 text-xs font-semibold",children:M}),W==="Available"?t.jsx("button",{type:"submit",onClick:()=>y(ge),className:"bg-green-600 px-2 py-1 rounded-md text-white mt-4",children:"Submit"}):null]})}),t.jsxs("p",{className:"text-xs mt-4",children:["*Note:- ",t.jsx("span",{className:"text-indigo-600",children:"Enter the property number and tap on white screen to see the availability."})," "]})]})]})})]})]}),((s=e==null?void 0:e.permissions)==null?void 0:s.can_edit)&&((e==null?void 0:e.boxType)==="inbox"||(e==null?void 0:e.boxType)==="btcbox")&&t.jsx("button",{className:"float-right mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>{var c;return window.open(`${(c=e==null?void 0:e.workflow)==null?void 0:c.formUrl}/${e==null?void 0:e.id}`,"_blank")},children:u("mainHoldingPage.propIndexBtnCstmTabEdit.label")}),((h=e==null?void 0:e.permissions)==null?void 0:h.can_genrate_jahirnama)&&((m=(f=e==null?void 0:e.applicationData)==null?void 0:f.data)==null?void 0:m.can_jahirnama_genrate)&&t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:()=>De(),children:"Generate Jahir Nama"}),void 0,void 0,void 0,((b=e==null?void 0:e.permissions)==null?void 0:b.can_update_jahirnama_obj)&&(z==null?void 0:z.can_jahirnama_update)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"float-left mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm hover:bg-indigo-500 hover:text-white whitespace-nowrap",onClick:p,children:"Objection"}),v&&t.jsxs("div",{className:"fixed inset-0 z-50 overflow-auto flex items-center justify-center",children:[t.jsx("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-70"}),t.jsx("div",{className:"modal-container bg-white w-[56rem] h-[30rem] rounded shadow-lg z-50 overflow-y-auto",children:t.jsxs("div",{className:"modal-content py-4 text-left px-6",children:[t.jsx("span",{className:"text-white mt-4 bg-red-500 text-lg cursor-pointer absolute top-32 right-64 p-4 rounded-full w-4 h-4 flex items-center justify-center",onClick:$,children:"×"}),t.jsx("div",{children:t.jsx("form",{onSubmit:Y,className:" mx-auto mt-8 p-2 bg-gray-100 rounded-md",children:t.jsxs("div",{className:"bg-white p-4 rounded-md",children:[t.jsx("div",{className:"text-lg font-semibold",children:"Upload Objection Document"}),t.jsxs("div",{className:"mt-4 space-x-4",children:[t.jsx("button",{type:"button",onClick:fe,className:`bg-${o?"green-700":"green-500"} text-white px-4 py-2 rounded-md`,children:"Yes"}),t.jsx("button",{type:"button",onClick:le,className:`bg-${o?"red-500":"red-700"} text-white px-4 py-2 rounded-md`,children:"No"})]}),ee&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-semibold",children:"Comment:"}),t.jsx("textarea",{value:A,onChange:c=>de(c.target.value),className:"w-full border border-gray-300 p-2 rounded-md"})]}),o&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-semibold",children:"Upload Document:"}),t.jsx("input",{type:"file",onChange:be,className:"w-full border border-gray-300 p-2 rounded-md"})]}),t.jsx("button",{type:"submit",onClick:J,className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Save"})]})})})]})})]})]})]})]})]}),t.jsx("div",{className:"md:my-4"})]})]}),t.jsx("div",{})]})})]})}Te.setAppElement("#root");function ma(e){const{t:i}=nt(),[u,P]=l.useState(),[C,U]=l.useState(!1),[I,V]=l.useState("");l.useEffect(()=>{var E,W,j,M;U(!0);let B={applicationId:e==null?void 0:e.id};Ue[(W=(E=e==null?void 0:e.api)==null?void 0:E.api_documentList)==null?void 0:W.method]((M=(j=e==null?void 0:e.api)==null?void 0:j.api_documentList)==null?void 0:M.url,B,qe()).then(N=>{var ee,se;(ee=N==null?void 0:N.data)!=null&&ee.status?P((se=N==null?void 0:N.data)==null?void 0:se.data):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),U(!1)}).catch(N=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),U(!1)})},[]);const[G,v]=l.useState(!1),[oe,q]=l.useState(""),[_,p]=l.useState(!1),$=()=>v(!0),Y=()=>v(!1),ge=()=>{},O=(B,E,W)=>{q(B),V(E),p(W),$()};return t.jsxs(t.Fragment,{children:[C&&t.jsx(ct,{}),t.jsx("div",{className:"container mx-auto  max-w-3xl ml-0  px-1 py-1 shadow-lg rounded-lg",children:t.jsx("div",{className:"py-0",children:t.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:t.jsx("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:t.jsxs("table",{className:"min-w-full leading-normal",children:[t.jsx("thead",{className:"bg-sky-100",children:t.jsxs("tr",{className:"font-semibold",children:[t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"#"}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentView.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentRemark.label")})]})}),t.jsxs("tbody",{children:[(u==null?void 0:u.length)==0&&!C&&t.jsx("tr",{className:"mt-5",children:t.jsx("td",{colSpan:5,className:"text-center",children:t.jsx("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg",children:i("mainHoldingPage.nodocumentFnd.label")})})}),u==null?void 0:u.map((B,E)=>t.jsx(ta,{api:e==null?void 0:e.api,openModal:O,docList:B,index:E}))]})]})})})})}),t.jsx(Te,{isOpen:G,onAfterOpen:ge,onRequestClose:Y,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:Y,children:t.jsx(rt,{})}),_==!0||_=="true"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),t.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):t.jsxs(t.Fragment,{children:[I=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:oe,frameborder:"0"})}),I!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:oe,alt:"",srcset:"",className:" "})})})]})]})}),t.jsx("div",{className:"w-full mt-20"})]})}function xa(e){const[i,u]=l.useState(e==null?void 0:e.is_escalate),P=C=>{u(C.target.checked),e.fun(C.target.checked)};return t.jsxs(t.Fragment,{children:[t.jsx(aa,{checked:i,onChange:P,inputProps:{"aria-label":"controlled"}})," ",t.jsx("span",{className:"text-sm font-semibold",children:"Escalate"})]})}function oa(){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"absolute -top-6 -left-2",children:[t.jsx("div",{className:"bg-orange-600 w-5 h-5 rounded-full  animate-ping"}),t.jsxs("div",{className:" w-3 h-3 rounded-full absolute top-1 left-1",children:[" ",t.jsx(Vt,{color:"red"})]}),t.jsx("div",{className:"relative -top-4 left-6 text-black font-semibold text-xs",children:"This Application has been escalated"})]})})}function ua(e){return t.jsx(t.Fragment,{children:t.jsx("div",{className:"relative mb-4 h-full",children:t.jsx("textarea",{onChange:i=>e.commentFun(i.target.value),className:"shadow-lg w-full rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 h-full text-sm outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out "+e.bgColor+" focus:bg-white",children:e.value})})})}function Ht(e){var i,u,P,C,U,I,V;return t.jsx("div",{children:t.jsx("div",{className:"container bg-white mx-auto w-full",children:t.jsx("div",{className:"relative wrap overflow-hidden md:p-10 md:py-4 h-full",children:t.jsx("div",{className:"mb-0 flex justify-between items-center w-full right-timeline",children:t.jsxs("div",{className:"relative order-1 bg-sky-100 rounded-lg shadow-xl w-9/12 px-6 py-4",children:[t.jsx("div",{className:"z-1 flex items-center bg-sky-400 shadow-xl w-6 h-6 rounded-full absolute top-0 left-0",children:t.jsx("h1",{className:"mx-auto font-semibold text-sm text-white",children:(e==null?void 0:e.index)+1})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{className:"inline-block h-12 w-12 rounded-full",src:Xt,alt:"Img"}),t.jsxs("span",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:He((i=e==null?void 0:e.data)==null?void 0:i.name)}),(e==null?void 0:e.agency)&&t.jsx("span",{className:"text-sm font-medium text-gray-500",children:He((u=e==null?void 0:e.data)==null?void 0:u.commentedBy)})]})]}),(e==null?void 0:e.agency)&&t.jsxs("div",{className:"mb-1  ",children:[t.jsx("span",{className:"text-xs",children:"forwarded to"})," ",t.jsx("span",{className:"bg-gray-500 text-white px-2 rounded-sm font-normal py-1 text-xs",children:He((P=e==null?void 0:e.data)==null?void 0:P.forwarded_to)})]}),t.jsxs("p",{className:" leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:"Comment"})," : ",He((C=e==null?void 0:e.data)==null?void 0:C.message)," "]}),t.jsx("div",{children:t.jsxs("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:e!=null&&e.agency?"Received Date":"Date"})," : ",t.jsx("span",{className:"font-semibold",children:He((U=e==null?void 0:e.data)==null?void 0:U.track_date)})]})}),(e==null?void 0:e.agency)&&t.jsx("div",{children:t.jsxs("p",{className:"leading-snug tracking-wide text-gray-800 text-xs",children:[t.jsx("span",{className:"text-gray-600",children:"forward date"})," : ",t.jsxs("span",{className:"font-semibold",children:[He((I=e==null?void 0:e.data)==null?void 0:I.forward_date)," ",He((V=e==null?void 0:e.data)==null?void 0:V.forward_time)]})]})})]})})})})})}const ha={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Te.setAppElement("#root");function ga(e){var A,de,te,ae,z,X,K,F,y,De,Ee,J,fe,le,be,Ne,ce,Se,Qe,We,Je,Ge,Ze,je,Ie,ke,Ae,Ye,we,$e,Pe,Le,Ve,Re,ve,n,S;const{t:i}=nt(),[u,P]=l.useState(!1),[C,U]=l.useState("");l.useState("");const[I,V]=l.useState(""),[G,v]=l.useState(!1);l.useState();const[oe,q]=l.useState(),[_,p]=l.useState(!1);l.useState(!1);const[$,Y]=l.useState(null),[ge,O]=l.useState(null);function B(){p(!1)}const E=qe(),W=()=>{Y(null),O(null),p(!1)},j=r=>{U(r)},M=()=>{var a,s,h,f;if(C==""){e==null||e.toast("Please enter comment","error");return}v(!0);let r={applicationId:e==null?void 0:e.id,comment:C};Ue[(s=(a=e==null?void 0:e.api)==null?void 0:a.api_independentComment)==null?void 0:s.method]((f=(h=e==null?void 0:e.api)==null?void 0:h.api_independentComment)==null?void 0:f.url,r,E).then(function(m){var b;(b=m==null?void 0:m.data)!=null&&b.status?e.toast("comment recorded successfully","escalated"):e==null||e.activateBottomErrorCard(!0,"Some error occured while sending comment. Please try again later"),v(!1)}).catch(function(m){e==null||e.activateBottomErrorCard(!0,"Some error occured while sending comment. Please try again later"),v(!1)})},N=r=>{var h,f,m,b,c,x,k,L,H,w,ue,ne;if((h=e==null?void 0:e.permissions)!=null&&h.can_comment&&C==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}v(!0);let a;r.target.id=="btn_forward"&&(a="forward"),r.target.id=="btn_back"&&(a="backward"),r.target.id=="btn_backToDa"&&(a="backward");let s;r.target.id=="btn_backToDa"?s={applicationId:e==null?void 0:e.id,comment:C,senderRoleId:(b=(m=(f=e==null?void 0:e.applicationData)==null?void 0:f.data)==null?void 0:m.roleDetails)==null?void 0:b.wf_role_id,receiverRoleId:r.target.value,action:"backward",isBtd:(c=e==null?void 0:e.permissions)==null?void 0:c.can_bt_da}:s={applicationId:e==null?void 0:e.id,comment:C,senderRoleId:(L=(k=(x=e==null?void 0:e.applicationData)==null?void 0:x.data)==null?void 0:k.roleDetails)==null?void 0:L.wf_role_id,receiverRoleId:r.target.value,action:a},Ue[(w=(H=e==null?void 0:e.api)==null?void 0:H.api_sendLevel)==null?void 0:w.method]((ne=(ue=e==null?void 0:e.api)==null?void 0:ue.api_sendLevel)==null?void 0:ne.url,s,E).then(function(g){var D,re,ie;(D=g==null?void 0:g.data)!=null&&D.status?(e.showTabFun(!1),e.toast("comment recorded successfully","escalated"),r.target.id=="btn_forward"&&e.toast("Application is forwarded successfully !","escalated"),r.target.id=="btn_back"&&e.toast("Application send backward successfully","de-escalated"),r.target.id=="btn_backToDa"&&e.toast("Application send back to Dealing Assistant successfully !","de-escalated"),r.target.id=="btn_independent_level"&&e.toast("Application send back to Dealing Assistant successfully !","de-escalated"),e==null||e.fun(null,0)):(e.toast((re=g==null?void 0:g.data)==null?void 0:re.message,"error"),e==null||e.activateBottomErrorCard(!0,(ie=g==null?void 0:g.data)==null?void 0:ie.message)),v(!1)}).catch(function(g){let D;r.target.id=="btn_forward"&&(D="Some error occured while forwarding. Please try again later"),r.target.id=="btn_back"&&(D="Some error occured while sending backward. Please try again later"),r.target.id=="btn_backToDa"&&(D="Some error occured while sending back to dealing assistant. Please try again later"),r.target.id=="btn_independent_level"&&(D="Some error occured while forwarding. Please try again later"),e==null||e.activateBottomErrorCard(!0,D),v(!1)})},ee=async r=>{var h,f,m,b;W(),v(!0);let a;r&&(a=1),!r&&(a=0);let s={escalateStatus:a,applicationId:e==null?void 0:e.id};Ue[(f=(h=e==null?void 0:e.api)==null?void 0:h.api_escalate)==null?void 0:f.method]((b=(m=e==null?void 0:e.api)==null?void 0:m.api_escalate)==null?void 0:b.url,s,E).then(function(c){var x;if((x=c==null?void 0:c.data)!=null&&x.status)a==1&&e.toast("Application Escalated Successfully!","escalated"),a==0&&e.toast("Application De-Escalated Successfully!","de-escalated");else{let k;a==1?k="Something went wrong while escalting application. Please try again later.":k="Something went wrong while De-Ecalting application. Please try again later.",e==null||e.activateBottomErrorCard(!0,k)}v(!1)}).catch(function(c){e==null||e.activateBottomErrorCard(!0,msg),v(!1)})},se=r=>{P(r),ee(r)},o=r=>{var s,h,f,m,b,c,x,k,L,H;if(C==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}v(!0);let a={applicationId:e==null?void 0:e.id,workflowId:(f=(h=(s=e==null?void 0:e.applicationData)==null?void 0:s.data)==null?void 0:h.roleDetails)==null?void 0:f.workflow_id,comment:C,currentRoleId:(c=(b=(m=e==null?void 0:e.applicationData)==null?void 0:m.data)==null?void 0:b.roleDetails)==null?void 0:c.wf_role_id};Ue[(k=(x=e==null?void 0:e.api)==null?void 0:x.api_btc)==null?void 0:k.method]((H=(L=e==null?void 0:e.api)==null?void 0:L.api_btc)==null?void 0:H.url,a,E).then(function(w){var ue,ne;(ue=w==null?void 0:w.data)!=null&&ue.status?(e.showTabFun(!1),r.target.id=="btn_backToCitizen"&&e.toast("Application is forwarded to BTC successfully","escalated"),e==null||e.fun(null,0)):e==null||e.activateBottomErrorCard(!0,(ne=w==null?void 0:w.data)==null?void 0:ne.message),v(!1)}).catch(function(w){e==null||e.activateBottomErrorCard(!0,"Something went wrong while sending application back to citizen. Please try again later."),v(!1)})},d=r=>{var s,h,f,m,b,c,x,k,L,H;if(C==""){e==null||e.activateBottomErrorCard(!0,"Please write some comment");return}v(!0);let a={applicationId:e==null?void 0:e.id,workflowId:(f=(h=(s=e==null?void 0:e.applicationData)==null?void 0:s.data)==null?void 0:h.roleDetails)==null?void 0:f.workflow_id,roleId:(c=(b=(m=e==null?void 0:e.applicationData)==null?void 0:m.data)==null?void 0:b.roleDetails)==null?void 0:c.wf_role_id,status:r.target.value,comment:C};Ue[(k=(x=e==null?void 0:e.api)==null?void 0:x.api_approveReject)==null?void 0:k.method]((H=(L=e==null?void 0:e.api)==null?void 0:L.api_approveReject)==null?void 0:H.url,a,E).then(function(w){var ue,ne,g;if((ue=w==null?void 0:w.data)!=null&&ue.status)e==null||e.openModal((ne=w==null?void 0:w.data)==null?void 0:ne.message),r.target.value=="1"&&e.toast("Application is Approved ","escalated"),r.target.value=="0"&&e.toast("Application is Rejected","de-escalated"),e.showTabFun(!1),e==null||e.setpropertyDetails((g=w==null?void 0:w.data)==null?void 0:g.data);else{let D;r.target.value=="1"?D="Something went wrong while approving application. Please try again later.":D="Something went wrong while rejecting application. Please try again later.",e==null||e.activateBottomErrorCard(!0,D)}v(!1)}).catch(function(w){e.toast("Oops! Something went wrong","error"),v(!1)})};return t.jsxs(t.Fragment,{children:[G&&t.jsx(ct,{}),t.jsxs("div",{className:" grid grid-cols-12 shadow-lg border-2 border-gray-200 relative overflow-hidden h-auto",children:[e.showTabs&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-gray-200 col-span-12 md:col-span-5 h-auto",children:[t.jsxs("h1",{className:"bg-sky-200  text-black font-semibold text-center py-2 mb-8",children:[i("mainHoldingPage.propIndexBtnMembrs.label")," ",u?t.jsx(oa,{}):""]}),t.jsx("div",{className:"px-2 hidden",children:t.jsx("select",{className:"shadow-lg h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-pointer",children:(te=(de=(A=e==null?void 0:e.applicationData)==null?void 0:A.data)==null?void 0:de.time_line)!=null&&te.length?(z=(ae=e==null?void 0:e.applicationData)==null?void 0:ae.data)==null?void 0:z.time_line.map(r=>t.jsx("option",{value:r.id,children:r.designation})):""})}),t.jsxs("div",{className:"px-2 mt-4 h-auto",children:[((X=e==null?void 0:e.permissions)==null?void 0:X.can_comment)&&t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-xs",children:i("mainHoldingPage.propIndexBtnCmmnts.label")}),t.jsx("div",{className:"h-28",children:t.jsx(ua,{commentFun:j,bgColor:"bg-gray-100",value:C})}),t.jsxs("div",{className:"flex mt-2 w-full",children:[t.jsx("div",{className:"flex-1",children:t.jsx("button",{className:"bg-sky-400 text-white rounded-sm px-2 py-0 hover:shadow-lg",children:t.jsxs("a",{className:"",style:{fontSize:"10px"},target:"_blank",href:"https://www.google.com/inputtools/try/",children:[i("mainHoldingPage.propIndexBtnHnTy.label")," →"]})})}),t.jsx("div",{className:"flex-1",children:t.jsx("button",{onClick:M,style:{fontSize:"10px"},className:"bg-sky-400 text-white rounded-sm px-2 hover:shadow-lg py-1 float-right",children:i("mainHoldingPage.propIndexBtnCmmntsSend.label")})})]})]}),((K=e==null?void 0:e.permissions)==null?void 0:K.can_escalate)&&t.jsx("div",{children:t.jsx(xa,{is_escalate:(y=(F=e==null?void 0:e.applicationData)==null?void 0:F.data)==null?void 0:y.is_escalate,fun:se})}),((De=e==null?void 0:e.permissions)==null?void 0:De.allow_full_list)==!0&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"form-group mb-6 col-span-5 md:col-span-1 px-2",children:[t.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsSelect.label")}),t.jsx("select",{onChange:r=>q(r.target.value),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter new ward no.",children:(Ee=e==null?void 0:e.workflowInfo)==null?void 0:Ee.members.map(r=>t.jsx("option",{value:r==null?void 0:r.role_id,children:r==null?void 0:r.role_name}))})]}),t.jsx("div",{className:"flex justify-center items-center",children:t.jsx("button",{id:"btn_independent_level",value:oe,onClick:N,type:"button",className:"hover:scale-105 px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexBtnCmmntsSendApp.label")})})]}),t.jsxs("div",{className:"flex space-x-2",children:[((J=e==null?void 0:e.permissions)==null?void 0:J.can_backward)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_back",value:(le=(fe=e==null?void 0:e.applicationData)==null?void 0:fe.data)==null?void 0:le.roleDetails.backward_role_id,className:"w-full bg-indigo-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-indigo-600 hover:text-white my-4 text-center",onClick:N,children:i("mainHoldingPage.propIndexBtnCmmntsBackward.label")})}),((be=e==null?void 0:e.permissions)==null?void 0:be.can_forward)&&t.jsx("div",{className:"flex-initial",children:t.jsx("button",{type:"button",id:"btn_forward",value:(Se=(ce=(Ne=e==null?void 0:e.applicationData)==null?void 0:Ne.data)==null?void 0:ce.roleDetails)==null?void 0:Se.forward_role_id,className:"w-full bg-indigo-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-indigo-600 hover:text-white my-4 text-center",onClick:N,children:i("mainHoldingPage.propIndexBtnCmmntsForward.label")})})]}),((Qe=e==null?void 0:e.permissions)==null?void 0:Qe.can_bt_da)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_backToDa",value:I,className:"bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4 text-center",onClick:N,children:i("mainHoldingPage.propIndexBtnCmmntsBackToDA.label")})}),((We=e==null?void 0:e.permissions)==null?void 0:We.can_btc)&&t.jsx("div",{className:"flex-initial ",children:t.jsx("button",{type:"button",id:"btn_backToCitizen",value:I,className:" bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4 text-center",onClick:o,children:i("mainHoldingPage.propIndexBtnCmmntsBackToCitizen.label")})}),((Je=e==null?void 0:e.permissions)==null?void 0:Je.can_reject)&&t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-1 pr-10",children:t.jsx("button",{type:"button",id:"btn_approve",value:1,className:"block w-full bg-green-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-green-600 hover:text-white my-4",onClick:d,children:i("mainHoldingPage.propIndexBtnCmmntsApprove.label")})}),t.jsx("div",{className:"flex-1 pl-10",children:t.jsx("button",{type:"button",id:"btn_reject",value:0,className:"block w-full bg-red-500 border-2  shadow-lg text-white text-sm font-semibold rounded-lg  focus:outline-none focus:shadow-outline  hover:shadow-xs p-3 py-2 hover:bg-red-600 hover:text-white my-4",onClick:d,children:i("mainHoldingPage.propIndexBtnCmmntsReject.label")})})]})]})]})}),t.jsxs("div",{className:"col-span-12 md:col-span-7 bg-white oveflow-y-scroll",children:[t.jsx("h1",{className:"text-center bg-gray-200 h-10 grid items-center font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsTimeline.label")}),t.jsx("div",{className:"pl-10 font-semibold mt-5",children:i("mainHoldingPage.propIndexBtnCmmntsCitizen.label")}),Array.isArray((Ze=(Ge=e==null?void 0:e.applicationData)==null?void 0:Ge.data)==null?void 0:Ze.citizenComment)&&((ke=(Ie=(je=e==null?void 0:e.applicationData)==null?void 0:je.data)==null?void 0:Ie.citizenComment)==null?void 0:ke.length)===0&&t.jsx("div",{className:"w-full text-center mt-4",children:t.jsx("span",{className:"text-red-400 font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsNoComment.label")})}),(we=(Ye=(Ae=e==null?void 0:e.applicationData)==null?void 0:Ae.data)==null?void 0:Ye.citizenComment)==null?void 0:we.map((r,a)=>t.jsx(Ht,{agency:!1,data:r,index:a})),t.jsx("div",{className:"px-10",children:t.jsx("hr",{})}),t.jsx("div",{className:"pl-10 font-semibold mt-5",children:i("mainHoldingPage.propIndexBtnCmmntsLevel.label")}),Array.isArray((Pe=($e=e==null?void 0:e.applicationData)==null?void 0:$e.data)==null?void 0:Pe.levelComment)&&((Re=(Ve=(Le=e==null?void 0:e.applicationData)==null?void 0:Le.data)==null?void 0:Ve.levelComment)==null?void 0:Re.length)===0&&t.jsx("div",{className:"w-full text-center mt-4",children:t.jsx("span",{className:"text-red-400 font-semibold",children:i("mainHoldingPage.propIndexBtnCmmntsNoComment.label")})}),(S=(n=(ve=e==null?void 0:e.applicationData)==null?void 0:ve.data)==null?void 0:n.levelComment)==null?void 0:S.map((r,a)=>t.jsx(Ht,{agency:!0,data:r,index:a}))]})]}),t.jsx("div",{className:"w-full h-20"}),t.jsx(Te,{isOpen:_,onRequestClose:B,style:ha,contentLabel:"Example Modal",children:t.jsxs("div",{class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[t.jsx("button",{onClick:W,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white",children:t.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:t.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),t.jsxs("div",{class:"p-6 text-center",children:[t.jsxs("div",{className:"w-full flex h-10",children:[" ",t.jsx("span",{className:"mx-auto",children:t.jsx(Et,{size:30})})]}),t.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:$}),t.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:"",children:i("mainHoldingPage.propIndexBtnCmmntsYes.label")})]})]})})]})}const fa={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Te.setAppElement("#root");function ba(e){var z,X,K,F,y,De,Ee,J,fe,le,be,Ne,ce,Se,Qe,We,Je,Ge,Ze,je,Ie,ke,Ae,Ye,we,$e,Pe,Le,Ve,Re,ve,n,S,r,a,s,h,f,m,b,c,x,k,L,H,w,ue,ne,g,D,re,ie,me,R;const[i,u]=l.useState([]),{notify:P}=l.useContext(wt),[C,U]=l.useState(!1),[I,V]=l.useState(0),[G,v]=l.useState(""),[oe,q]=l.useState(),[_,p]=l.useState(null),[$,Y]=l.useState(),[ge,O]=l.useState(!1),[B,E]=l.useState(""),W=T=>{T=="Verified"&&P("Document Verified Successfully!","success"),T=="Rejected"&&P("Document Rejected Successfully!","error")},j=()=>U(!0),M=()=>{U(!1),A(!1)},N=()=>{},ee=(T,Q)=>{V(T),q(Q),M(),se()},se=()=>{j()},o=()=>A(!0),[d,A]=l.useState(!1),de=(T,Q,Ce)=>{o(),Y(T),E(Q),p(Ce)},te=()=>{var Q,Ce,Oe,Me;if(I!="Verified"&&G==""){P("Please enter comment.","error");return}O(!0);let T={applicationId:e==null?void 0:e.id,id:oe,docStatus:I,docRemarks:G};M(),Ue[(Ce=(Q=e==null?void 0:e.api)==null?void 0:Q.api_verifyDocuments)==null?void 0:Ce.method]((Me=(Oe=e==null?void 0:e.api)==null?void 0:Oe.api_verifyDocuments)==null?void 0:Me.url,T,qe()).then(_e=>{var ze;(ze=_e==null?void 0:_e.data)!=null&&ze.status?(W(I),e.refresh()):e==null||e.activateBottomErrorCard(!0,"Some error occured while verifying document. Please try again later"),v(""),O(!1)}).catch(_e=>{v(""),O(!1),e==null||e.activateBottomErrorCard(!0,"Some error occured while verifying document. Please try again later")})},ae=T=>i==null?void 0:i.some(Q=>Q==T);return t.jsxs(t.Fragment,{children:[ge&&t.jsx(ct,{}),t.jsxs("tr",{children:[t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:e.index+1})}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:He((z=e==null?void 0:e.docList)==null?void 0:z.doc_code)})}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm cursor-pointer",onClick:()=>{var T,Q,Ce,Oe,Me,_e,ze;return de(`${(T=e==null?void 0:e.docList)==null?void 0:T.doc_path}`,(_e=(Q=e==null?void 0:e.docList)==null?void 0:Q.doc_path)==null?void 0:_e.split(".")[((Me=(Oe=(Ce=e==null?void 0:e.docList)==null?void 0:Ce.doc_path)==null?void 0:Oe.split("."))==null?void 0:Me.length)-1],(ze=e==null?void 0:e.docList)==null?void 0:ze.id)},children:t.jsxs("div",{className:"flex items-center",children:[(((De=(X=e==null?void 0:e.docList)==null?void 0:X.doc_path)==null?void 0:De.split(".")[((y=(F=(K=e==null?void 0:e.docList)==null?void 0:K.doc_path)==null?void 0:F.split("."))==null?void 0:y.length)-1])=="pdf"||((be=(Ee=e==null?void 0:e.docList)==null?void 0:Ee.doc_path)==null?void 0:be.split(".")[((le=(fe=(J=e==null?void 0:e.docList)==null?void 0:J.doc_path)==null?void 0:fe.split("."))==null?void 0:le.length)-1])=="pdf/")&&t.jsx("div",{className:"flex-shrink-0 text-[28px] shadow-xl",children:t.jsx(ot,{})}),(((We=(Ne=e==null?void 0:e.docList)==null?void 0:Ne.doc_path)==null?void 0:We.split(".")[((Qe=(Se=(ce=e==null?void 0:e.docList)==null?void 0:ce.doc_path)==null?void 0:Se.split("."))==null?void 0:Qe.length)-1])=="jpg"||((Ie=(Je=e==null?void 0:e.docList)==null?void 0:Je.doc_path)==null?void 0:Ie.split(".")[((je=(Ze=(Ge=e==null?void 0:e.docList)==null?void 0:Ge.doc_path)==null?void 0:Ze.split("."))==null?void 0:je.length)-1])=="jpg/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>u(T=>{var Q;return[...T,(Q=e==null?void 0:e.docList)==null?void 0:Q.id]}),src:ae((ke=e==null?void 0:e.docList)==null?void 0:ke.id)?et:`${(Ae=e==null?void 0:e.docList)==null?void 0:Ae.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),(((Le=(Ye=e==null?void 0:e.docList)==null?void 0:Ye.doc_path)==null?void 0:Le.split(".")[((Pe=($e=(we=e==null?void 0:e.docList)==null?void 0:we.doc_path)==null?void 0:$e.split("."))==null?void 0:Pe.length)-1])=="jpeg"||((S=(Ve=e==null?void 0:e.docList)==null?void 0:Ve.doc_path)==null?void 0:S.split(".")[((n=(ve=(Re=e==null?void 0:e.docList)==null?void 0:Re.doc_path)==null?void 0:ve.split("."))==null?void 0:n.length)-1])=="jpeg/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>u(T=>{var Q;return[...T,(Q=e==null?void 0:e.docList)==null?void 0:Q.id]}),src:ae((r=e==null?void 0:e.docList)==null?void 0:r.id)?et:`${(a=e==null?void 0:e.docList)==null?void 0:a.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),(((b=(s=e==null?void 0:e.docList)==null?void 0:s.doc_path)==null?void 0:b.split(".")[((m=(f=(h=e==null?void 0:e.docList)==null?void 0:h.doc_path)==null?void 0:f.split("."))==null?void 0:m.length)-1])=="png"||((H=(c=e==null?void 0:e.docList)==null?void 0:c.doc_path)==null?void 0:H.split(".")[((L=(k=(x=e==null?void 0:e.docList)==null?void 0:x.doc_path)==null?void 0:k.split("."))==null?void 0:L.length)-1])=="png/")&&t.jsx("div",{className:"flex-shrink-0 shadow-xl p-1",children:t.jsx("img",{onError:()=>u(T=>{var Q;return[...T,(Q=e==null?void 0:e.docList)==null?void 0:Q.id]}),src:ae((w=e==null?void 0:e.docList)==null?void 0:w.id)?et:`${(ue=e==null?void 0:e.docList)==null?void 0:ue.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})}),t.jsxs("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:[((ne=e==null?void 0:e.docList)==null?void 0:ne.doc_code)=="PHOTOGRAPH"&&t.jsx("p",{className:"whitespace-no-wrap",children:"NA"}),((g=e==null?void 0:e.docList)==null?void 0:g.doc_code)!="PHOTOGRAPH"&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((D=e==null?void 0:e.docList)==null?void 0:D.verify_status)==0&&t.jsx(t.Fragment,{children:"Pending"})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((re=e==null?void 0:e.docList)==null?void 0:re.verify_status)==1&&t.jsx(t.Fragment,{children:"Verified"})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((ie=e==null?void 0:e.docList)==null?void 0:ie.verify_status)==2&&t.jsx(t.Fragment,{children:"Rejected"})})]})]}),t.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:t.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:He((me=e==null?void 0:e.docList)==null?void 0:me.remarks)})})]}),t.jsx(Te,{isOpen:C,onAfterOpen:N,onRequestClose:M,style:fa,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 bg-white md:ml-32 py-4 px-8 md:px-4 flex flex-col items-center justify-center gap-y-4 w-full md:w-[30vw] animate__animated animate__zoomIn animate__faster",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:M,children:t.jsx(rt,{})}),t.jsxs("div",{className:"flex flex-wrap font-semibold gap-4 justify-center items-center",children:[t.jsx("span",{children:t.jsx(qt,{})}),I=="Verified"&&t.jsx("span",{children:"Verify Document ?"}),I=="Rejected"&&t.jsx("span",{children:"Reject Document ?"})]}),t.jsxs("div",{className:"flex flex-col flex-wrap gap-1 justify-center w-full px-4",children:[t.jsx("span",{className:"text-sm font-semibold",children:"Comment :"}),t.jsx("textarea",{type:"text",name:"docRemarks",id:"",className:"form-control block px-3 py-1.5 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md text-xs",placeholder:"Enter your comments here...",rows:2,onChange:T=>v(T.target.value)})]}),t.jsxs("div",{className:"flex flex-wrap justify-center items-center px-6 md:px-10",children:[I=="Verified"&&t.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out",onClick:()=>te(),children:"Verify"}),I=="Rejected"&&t.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-800 active:shadow-lg transition duration-150 ease-in-out",onClick:()=>te(),children:"Reject"})]})]})}),t.jsx(Te,{isOpen:d,onAfterOpen:N,onRequestClose:M,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 bg-white border-gray-200 md:ml-32 p-4 animate__animated animate__zoomIn animate__faster  w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:M,children:t.jsx(rt,{})}),ae(_)?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:"Error"}),t.jsx("div",{className:"pl-4",children:"Document not visible"})]})}):t.jsxs(t.Fragment,{children:[B=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:$,frameborder:"0"})}),B!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:$,alt:"",srcset:""})})})]}),t.jsx("div",{className:"absolute bottom-10 text-center left-[26.5vw] text-sm",children:((R=e==null?void 0:e.docList)==null?void 0:R.verify_status)==0&&t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{var T;return ee("Verified",(T=e==null?void 0:e.docList)==null?void 0:T.id)},className:"flex-initial bg-green-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white text-black flex items-center",children:"Verify"}),t.jsx("button",{onClick:()=>{var T;return ee("Rejected",(T=e==null?void 0:e.docList)==null?void 0:T.id)},className:"flex-initial bg-red-200 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black items-center flex",children:"Reject"})]})})]})})]})}const ja={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Te.setAppElement("#root");function wa(e){const{t:i}=nt(),[u,P]=l.useState(),[C,U]=l.useState(!1),[I,V]=l.useState(""),[G,v]=l.useState(""),[oe,q]=l.useState(!1),[_,p]=l.useState(0),$=()=>U(!0),Y=()=>U(!1),ge=()=>{};l.useEffect(()=>{var E,W,j,M;q(!0);let B={applicationId:e==null?void 0:e.id};Ue[(W=(E=e==null?void 0:e.api)==null?void 0:E.api_documentList)==null?void 0:W.method]((M=(j=e==null?void 0:e.api)==null?void 0:j.api_documentList)==null?void 0:M.url,B,qe()).then(N=>{var ee,se,o;P((ee=N==null?void 0:N.data)==null?void 0:ee.data),e==null||e.setallDocumentVerifyStatus((o=(se=N==null?void 0:N.data)==null?void 0:se.message)==null?void 0:o.docVerifyStatus),q(!1)}).catch(N=>{q(!1)})},[_]);const O=(B,E)=>{V(B),v(E),$()};return t.jsxs(t.Fragment,{children:[oe&&t.jsx(ct,{}),t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsx("span",{})}),t.jsx("div",{className:"container mx-auto  max-w-3xl ml-0  px-1 py-1 shadow-lg rounded-lg",children:t.jsx("div",{className:"py-0",children:t.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 overflow-x-auto",children:t.jsx("div",{className:"inline-block min-w-full rounded-lg overflow-hidden",children:t.jsxs("table",{className:"min-w-full leading-normal",children:[t.jsx("thead",{className:"bg-sky-100",children:t.jsxs("tr",{className:"font-semibold",children:[t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:"#"}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentName.label")}),t.jsxs("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:[i("mainHoldingPage.propIndexDoVewVef.label"),t.jsx("div",{className:"font-normal text-xs",children:i("mainHoldingPage.propIndexDoClkVrfy.label")})]}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm capitalize",children:i("mainHoldingPage.documentRemark.label")})]})}),t.jsxs("tbody",{children:[(u==null?void 0:u.length)==0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"text-center",children:t.jsx("span",{className:"bg-red-200 text-sm text-red-400 italic my-4 px-4 py-2 rounded-md shadow-lg",children:"No Document Found !!"})})}),u==null?void 0:u.map((B,E)=>t.jsx(ba,{activateBottomErrorCard:e==null?void 0:e.activateBottomErrorCard,api:e==null?void 0:e.api,openModal:O,id:e==null?void 0:e.id,docList:B,index:E,refresh:()=>p(_+1)}))]})]})})})})}),t.jsx(Te,{isOpen:C,onAfterOpen:ge,onRequestClose:Y,style:ja,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-100 ml-32 p-4 animate__animated animate__zoomIn animate__faster",style:{width:"60vw",height:"80vh"},children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:Y,children:t.jsx(rt,{})}),G=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:I,frameborder:"0"})}),G!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("img",{src:I,alt:"",srcset:""})})})]})}),t.jsx("div",{className:"w-full mt-20"})]})}const ya={content:{top:"50%",left:"52%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"none"}};Te.setAppElement("#root");function Na(e){var n,S,r;const{t:i}=nt();l.useContext(wt);const[u,P]=l.useState(!1);l.useState(),l.useState(),l.useState();const[C,U]=l.useState(null),[I,V]=l.useState("");l.useState(null),l.useState(0);const[G,v]=l.useState(0),[oe,q]=l.useState(!1);l.useState();const[_,p]=l.useState(""),[$,Y]=l.useState(1),[ge,O]=l.useState(0);l.useState(0);const[B,E]=l.useState(),[W,j]=l.useState(""),[M,N]=l.useState(!0),[ee,se]=l.useState(!1);l.useState(null);const[o,d]=l.useState(),[A,de]=l.useState(),[te,ae]=l.useState(""),[z,X]=l.useState(null),[K,F]=l.useState(null),[y,De]=l.useState(null),[Ee,J]=l.useState(""),[fe,le]=l.useState([]),be=l.useRef([]),Ne=l.useRef([]),ce=l.useRef([]),Se=l.useRef([]),[Qe,We]=l.useState(!1),[Je,Ge]=l.useState(!1),Ze=()=>Ge(!0),je=()=>{},Ie=(a,s)=>{Re(s),X(a),O(ge+1),q(!0),We(!0)},ke=()=>{X(null),se(!1),We(!1),q(!1),Ge(!1),Y($+1),be.current=[],ce.current=[],Ne.current=[],Se.current=[]};l.useEffect(()=>{Ae()},[]);const Ae=()=>{var a,s,h,f;P(!0),Ue[(s=(a=e==null?void 0:e.api)==null?void 0:a.api_uploadDocumentShow)==null?void 0:s.method]((f=(h=e==null?void 0:e.api)==null?void 0:h.api_uploadDocumentShow)==null?void 0:f.url,{applicationId:e==null?void 0:e.id},qe()).then(m=>{var b,c,x,k;(b=m==null?void 0:m.data)!=null&&b.status?(d((c=m==null?void 0:m.data)==null?void 0:c.data),e==null||e.setallDocumentUploadStatus((k=(x=m==null?void 0:m.data)==null?void 0:x.data)==null?void 0:k.docUploadStatus)):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),P(!1)}).catch(m=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),q(!1),P(!1)})},Ye=Dt({docId:At().required("Select document type"),docUpload:ft().required("Select document")}),we=jt({initialValues:{docId:"",docUpload:"",docName:""},onSubmit:async a=>{Pe()},validationSchema:Ye}),$e=(a,s,h)=>{var m,b;let f=a.target.files[0];j(a.target.name),E(URL.createObjectURL(a.target.files[0])),U(a.target.files[0]),s=="owner"?ce.current[h]=(m=a.target.files[0])==null?void 0:m.name:Se.current[h]=(b=a.target.files[0])==null?void 0:b.name,we.setFieldValue("docUpload",URL.createObjectURL(a.target.files[0])),(f==null?void 0:f.name).substring((f==null?void 0:f.name).lastIndexOf(".")+1)=="pdf"?N(!1):N(!0)},Pe=(a,s,h)=>{var c,x,k,L;let f;h==="property"?f=Ne.current:f=be.current;const m=f.map((H,w)=>w===s?H.value:"");if(m[s]===null||m[s]==="Select"||m[s]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${a}`),X(null),F(null);return}if(m[s]===null||m[s]==="Select"||m[s]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${a}`),X(null),F(null);return}if(h=="owner"&&(ce.current[s]==null||ce.current[s]==""||ce.current[s]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`),ce.current[s]=null;return}if(h=="property"&&(Se.current[s]==null||Se.current[s]==""||Se.current[s]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`),Se.current[s]=null;return}if(C==null){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${a}`);return}if(!Lt(C)){e==null||e.activateBottomErrorCard(!0,`File is too large for ${a}`),U(null);return}if((y==null?void 0:y.toLowerCase())=="others"&&te==""){e==null||e.activateBottomErrorCard(!0,`Document name is required for type ${a}`);return}let b=new FormData;e==null||e.id,m[s],(y==null?void 0:y.toLowerCase())=="others",b.append("applicationId",e==null?void 0:e.id),z!=null&&b.append("ownerId",z),b.append("docCode",m[s]),b.append("document",C),b.append("docName",a),b.append("docCategory",(y==null?void 0:y.toLowerCase())=="others"?te:y),C!=null?(ke(),P(!0),Ue[(x=(c=e==null?void 0:e.api)==null?void 0:c.api_uploadDocument)==null?void 0:x.method]((L=(k=e==null?void 0:e.api)==null?void 0:k.api_uploadDocument)==null?void 0:L.url,b,St()).then(H=>{var w;(w=H==null?void 0:H.data)!=null&&w.status?(pe.success("Document Uploaded Successfully !!"),q(!1),V(""),U(""),P(!1),v(G+1),j(""),we.setFieldValue("docUpload",""),e.refresh(),X(null),F(null),De(null),Ae()):e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),P(!1)}).catch(H=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),q(!1),P(!1)})):e==null||e.activateBottomErrorCard(!0,"Please select file")},Le=(a,s)=>{a==""&&pe.error("File not uploaded !!!"),a!=""&&(p(a),J(s),Ze(),Y($+1))},Ve=(a,s)=>{F(a.target.value),De(s)},Re=a=>{let s=o==null?void 0:o.ownerDocs[a];de(s)},ve=a=>fe==null?void 0:fe.some(s=>s==a);return t.jsxs(t.Fragment,{children:[t.jsx(vt,{position:"top-right",autoClose:2e3}),u&&t.jsx("div",{className:"inline",children:t.jsx(ct,{})}),t.jsxs("div",{className:"overflow-x-auto ",children:[t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsxs("span",{children:[t.jsx("img",{src:gt,alt:"pin",className:"w-8 inline"})," ",i("mainHoldingPage.propIndexBoDocUp.label")]})}),t.jsxs("div",{className:"bg-white",children:[void 0,(o==null?void 0:o.ownerDocs)&&t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-10",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsx("h1",{className:"text-md font-semibold",children:i("mainHoldingPage.propIndexBtnOwnrDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.propIndexBtnApplImg.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.propertyApplicantNm.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.holdingOwnerGuardianName.label")}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.holdingOwnerMobileNum.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.holdingAction.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white ",children:(n=o==null?void 0:o.ownerDocs)==null?void 0:n.map((a,s)=>{var h,f,m,b,c,x,k,L,H,w,ue;return t.jsxs("tr",{className:"border-b border-gray-200 ",children:[t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center justify-center",children:[((h=a==null?void 0:a.ownerDetails)==null?void 0:h.uploadedDoc)!=""&&t.jsx("div",{className:"text-center cursor-pointer ",onClick:()=>{var ne,g;return Le(`${(ne=a==null?void 0:a.ownerDetails)==null?void 0:ne.uploadedDoc}`,"jpg",(g=a==null?void 0:a.ownerDetails)==null?void 0:g.docId)},children:t.jsx("img",{src:ve((f=a==null?void 0:a.ownerDetails)==null?void 0:f.uploadedDocId)?et:`${(m=a==null?void 0:a.ownerDetails)==null?void 0:m.uploadedDoc}`,alt:"",className:"md:w-[3vw] w-[5vw]",srcset:""})}),((b=a==null?void 0:a.ownerDetails)==null?void 0:b.uploadedDoc)==""&&t.jsx("span",{className:"text-red-500 font-semibold",children:"Not Uploaded"})]})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:ye((c=a==null?void 0:a.ownerDetails)==null?void 0:c.name)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:ye((x=a==null?void 0:a.ownerDetails)==null?void 0:x.guardian)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:ye((k=a==null?void 0:a.ownerDetails)==null?void 0:k.mobile)})})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:`font-medium ${((L=a==null?void 0:a.ownerDetails)==null?void 0:L.reqDocCount)===((H=a==null?void 0:a.ownerDetails)==null?void 0:H.uploadedDocCount)?"text-green-400":"text-red-400"}`,children:["Uploaded ",ye((w=a==null?void 0:a.ownerDetails)==null?void 0:w.uploadedDocCount)," of ",ye((ue=a==null?void 0:a.ownerDetails)==null?void 0:ue.reqDocCount)]})})}),t.jsx("td",{className:"py-3 px-6",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"",children:!u&&t.jsx("button",{onClick:()=>{var ne;return Ie((ne=a==null?void 0:a.ownerDetails)==null?void 0:ne.ownerId,s)},type:"button",className:`px-4 py-1 ${pt}`,children:i("mainHoldingPage.holdingView.label")})})})})]},s)})})]})})]})}),t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsx("h1",{className:"text-md font-semibold",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentRemark.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexDocUpld.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(S=o==null?void 0:o.listDocs)==null?void 0:S.map((a,s)=>{var h,f,m,b,c,x,k,L,H,w,ue,ne,g,D,re,ie,me,R,T,Q,Ce,Oe,Me,_e,ze,tt,at,lt,Z,Be,it,xe,Fe,st,dt,ut;return t.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:we.handleSubmit,onChange:we.handleChange,children:[t.jsx("td",{className:"py-3 px-6 font-semibold",children:s+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:gt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",value:a==null?void 0:a.docName,children:[ye(a==null?void 0:a.docName),((a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:(a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R"?t.jsx("span",{className:"font-semibold text-red-400",children:i("mainHoldingPage.propIndexDoRqrd.label")}):t.jsx("span",{children:i("mainHoldingPage.propIndexDoOptnl.label")})}),t.jsx("td",{className:"py-3 px-6",children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsxs("select",{ref:he=>Ne.current[s]=he,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(o==null?void 0:o.isCitizen)!=!0&&(o==null?void 0:o.isCitizen)!="true"),onChange:he=>Ve(he,a==null?void 0:a.docName),children:[t.jsx("option",{value:null,selected:!0,children:i("mainHoldingPage.holdingSelectBtn.label")}),(h=a==null?void 0:a.masters)==null?void 0:h.map((he,Ke)=>t.jsx("option",{value:he==null?void 0:he.documentCode,children:he==null?void 0:he.docVal}))]})}),((f=a==null?void 0:a.docName)==null?void 0:f.toLowerCase())=="others"&&(y==null?void 0:y.toLowerCase())=="others"&&t.jsx("input",{type:"text",name:"otherDocumentName",value:te,onChange:he=>ae(he.target.value),className:`${Rt} capitalize m-1`,placeholder:"Enter document Name",required:!0})]})}),t.jsx("td",{className:"py-3 px-6 text-center relative",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var he,Ke,kt,Ct,_t,It,Pt;return Le(`${(he=a==null?void 0:a.uploadedDoc)==null?void 0:he.docPath}`,(It=(Ke=a==null?void 0:a.uploadedDoc)==null?void 0:Ke.docPath)==null?void 0:It.split(".")[((_t=(Ct=(kt=a==null?void 0:a.uploadedDoc)==null?void 0:kt.docPath)==null?void 0:Ct.split("."))==null?void 0:_t.length)-1],(Pt=a==null?void 0:a.uploadedDoc)==null?void 0:Pt.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((k=(m=a==null?void 0:a.uploadedDoc)==null?void 0:m.docPath)==null?void 0:k.split(".")[((x=(c=(b=a==null?void 0:a.uploadedDoc)==null?void 0:b.docPath)==null?void 0:c.split("."))==null?void 0:x.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(ot,{})}),((ne=(L=a==null?void 0:a.uploadedDoc)==null?void 0:L.docPath)==null?void 0:ne.split(".")[((ue=(w=(H=a==null?void 0:a.uploadedDoc)==null?void 0:H.docPath)==null?void 0:w.split("."))==null?void 0:ue.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>le(he=>{var Ke;return[...he,(Ke=a==null?void 0:a.uploadedDoc)==null?void 0:Ke.uploadedDocId]}),src:ve((g=a==null?void 0:a.uploadedDoc)==null?void 0:g.uploadedDocId)?et:`${(D=a==null?void 0:a.uploadedDoc)==null?void 0:D.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((T=(re=a==null?void 0:a.uploadedDoc)==null?void 0:re.docPath)==null?void 0:T.split(".")[((R=(me=(ie=a==null?void 0:a.uploadedDoc)==null?void 0:ie.docPath)==null?void 0:me.split("."))==null?void 0:R.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>le(he=>{var Ke;return[...he,(Ke=a==null?void 0:a.uploadedDoc)==null?void 0:Ke.uploadedDocId]}),src:ve((Q=a==null?void 0:a.uploadedDoc)==null?void 0:Q.uploadedDocId)?et:`${(Ce=a==null?void 0:a.uploadedDoc)==null?void 0:Ce.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((tt=(Oe=a==null?void 0:a.uploadedDoc)==null?void 0:Oe.docPath)==null?void 0:tt.split(".")[((ze=(_e=(Me=a==null?void 0:a.uploadedDoc)==null?void 0:Me.docPath)==null?void 0:_e.split("."))==null?void 0:ze.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>le(he=>{var Ke;return[...he,(Ke=a==null?void 0:a.uploadedDoc)==null?void 0:Ke.uploadedDocId]}),src:ve((at=a==null?void 0:a.uploadedDoc)==null?void 0:at.uploadedDocId)?et:`${(lt=a==null?void 0:a.uploadedDoc)==null?void 0:lt.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((Z=a==null?void 0:a.uploadedDoc)==null?void 0:Z.verifyStatus)==0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoPnd.label")})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((Be=a==null?void 0:a.uploadedDoc)==null?void 0:Be.verifyStatus)==1&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoVrf.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:((it=a==null?void 0:a.uploadedDoc)==null?void 0:it.verifyStatus)==2&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoRjct.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(a==null?void 0:a.btcStatus)===!0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoRjct.label")})})]})}),t.jsx("td",{className:"py-3 px-6 text-center",children:((xe=a==null?void 0:a.uploadedDoc)==null?void 0:xe.remarks)==""||((Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.remarks)==null?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):(st=a==null?void 0:a.uploadedDoc)==null?void 0:st.remarks}),t.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:(o==null?void 0:o.isCitizen)!=!0&&(o==null?void 0:o.isCitizen)!="true"?t.jsx(t.Fragment,{children:e!=null&&e.isBtc||e!=null&&e.isBtc&&((dt=a==null?void 0:a.uploadedDoc)==null?void 0:dt.verifyStatus)==2||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)?t.jsxs("div",{className:"font-semibold text-sm",children:[void 0,t.jsx("div",{className:""}),((ut=a==null?void 0:a.uploadedDoc)==null?void 0:ut.verifyStatus)!=1?t.jsxs("div",{className:"mt-2",children:[void 0,!u&&t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"file",name:a==null?void 0:a.docName,onChange:he=>$e(he,"property",s),accept:(a==null?void 0:a.docName)==="Layout sanction Map"?".png, .jpg, .jpeg":".pdf, .png, .jpg, .jpeg",className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36"}),t.jsx("button",{onClick:()=>Pe(a==null?void 0:a.docName,s,"property"),className:" px-4 py-1.5 bg-blue-400 text-white text-xs leading-tight rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexDocUpld.label")})]})]}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoUplded.label")})})]}):t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoUplded.label")})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})]})})]})}),t.jsxs("div",{className:"col-span-5 grid grid-cols-3 px-4",children:[t.jsx("div",{className:"md:pl-0"}),t.jsx("div",{className:"md:px-4 text-center"}),t.jsx("div",{className:"md:pl-10 text-right"})]})]})]}),t.jsx(Te,{isOpen:Qe,onRequestClose:ke,style:ya,contentLabel:"Example Modal",children:t.jsxs("div",{class:"relative overflow-x-auto bg-white rounded-lg shadow-xl border-2 border-gray-50 animate__animated animate__zoomIn animate__faster",children:[t.jsx("div",{className:"absolute top-5 right-5 bg-red-200 hover:bg-red-300 rounded-full p-2 cursor-pointer",onClick:ke,children:t.jsx(rt,{})}),t.jsx("div",{className:"flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full lg:w-4/6",children:[t.jsxs("div",{className:"font-semibold w-full flex",children:[t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"flex-1 text-center",children:t.jsx("span",{className:"float-none",children:i("mainHoldingPage.propIndexDoUpldDoc.label")})})]}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-left",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentRemark.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.holdingAction.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(r=A==null?void 0:A.documents)==null?void 0:r.map((a,s)=>{var h,f,m,b,c,x,k,L,H,w,ue,ne,g,D,re,ie,me,R,T,Q,Ce,Oe,Me,_e,ze,tt,at,lt,Z,Be,it;return t.jsx(t.Fragment,{children:t.jsxs("tr",{className:"border-b border-gray-200 ",children:[t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:s+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2 ",children:t.jsx("img",{src:gt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",children:[ye(a==null?void 0:a.docName),((a==null?void 0:a.docType)=="OR"||(a==null?void 0:a.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"font-semibold text-sm",children:t.jsx("div",{className:"",children:t.jsxs("select",{ref:xe=>be.current[s]=xe,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(o==null?void 0:o.isCitizen)!=!0&&(o==null?void 0:o.isCitizen)!="true"),onChange:xe=>Ve(xe,a==null?void 0:a.docName),children:[t.jsx("option",{value:null,children:i("mainHoldingPage.holdingSelectBtn.label")}),(h=a==null?void 0:a.masters)==null?void 0:h.map((xe,Fe)=>t.jsx("option",{value:xe==null?void 0:xe.documentCode,children:xe==null?void 0:xe.docVal}))]})})})})}),t.jsx("td",{className:"py-3 px-6 text-center",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var xe,Fe,st,dt,ut,he,Ke;return Le(`${(xe=a==null?void 0:a.uploadedDoc)==null?void 0:xe.docPath}`,(he=(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.docPath)==null?void 0:he.split(".")[((ut=(dt=(st=a==null?void 0:a.uploadedDoc)==null?void 0:st.docPath)==null?void 0:dt.split("."))==null?void 0:ut.length)-1],(Ke=a==null?void 0:a.uploadedDoc)==null?void 0:Ke.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((x=(f=a==null?void 0:a.uploadedDoc)==null?void 0:f.docPath)==null?void 0:x.split(".")[((c=(b=(m=a==null?void 0:a.uploadedDoc)==null?void 0:m.docPath)==null?void 0:b.split("."))==null?void 0:c.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(ot,{})}),((ue=(k=a==null?void 0:a.uploadedDoc)==null?void 0:k.docPath)==null?void 0:ue.split(".")[((w=(H=(L=a==null?void 0:a.uploadedDoc)==null?void 0:L.docPath)==null?void 0:H.split("."))==null?void 0:w.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>le(xe=>{var Fe;return[...xe,(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.uploadedDocId]}),src:ve((ne=a==null?void 0:a.uploadedDoc)==null?void 0:ne.uploadedDocId)?et:`${(g=a==null?void 0:a.uploadedDoc)==null?void 0:g.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((R=(D=a==null?void 0:a.uploadedDoc)==null?void 0:D.docPath)==null?void 0:R.split(".")[((me=(ie=(re=a==null?void 0:a.uploadedDoc)==null?void 0:re.docPath)==null?void 0:ie.split("."))==null?void 0:me.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>le(xe=>{var Fe;return[...xe,(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.uploadedDocId]}),src:ve((T=a==null?void 0:a.uploadedDoc)==null?void 0:T.uploadedDocId)?et:`${(Q=a==null?void 0:a.uploadedDoc)==null?void 0:Q.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((ze=(Ce=a==null?void 0:a.uploadedDoc)==null?void 0:Ce.docPath)==null?void 0:ze.split(".")[((_e=(Me=(Oe=a==null?void 0:a.uploadedDoc)==null?void 0:Oe.docPath)==null?void 0:Me.split("."))==null?void 0:_e.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>le(xe=>{var Fe;return[...xe,(Fe=a==null?void 0:a.uploadedDoc)==null?void 0:Fe.uploadedDocId]}),src:ve((tt=a==null?void 0:a.uploadedDoc)==null?void 0:tt.uploadedDocId)?et:`${(at=a==null?void 0:a.uploadedDoc)==null?void 0:at.docPath}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:(a==null?void 0:a.uploadedDoc)==""?t.jsx("span",{className:"text-red-500 font-semibold",children:i("mainHoldingPage.propIndexDoNtUplded.label")}):t.jsxs(t.Fragment,{children:[(a==null?void 0:a.docName)=="Photograph"&&t.jsx("p",{className:"whitespace-no-wrap"}),(a==null?void 0:a.docName)!="Photograph"&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"whitespace-no-wrap",children:((lt=a==null?void 0:a.uploadedDoc)==null?void 0:lt.verifyStatus)==0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoPnd.label")})}),t.jsx("p",{className:"text-green-500 whitespace-no-wrap",children:((Z=a==null?void 0:a.uploadedDoc)==null?void 0:Z.verifyStatus)==1&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoVrf.label")})}),t.jsx("p",{className:"text-red-500 whitespace-no-wrap",children:(a==null?void 0:a.btcStatus)===!0&&t.jsx(t.Fragment,{children:i("mainHoldingPage.propIndexDoRjct.label")})})]})]})}),t.jsxs("td",{className:"py-3 px-6",children:[((Be=a==null?void 0:a.uploadedDoc)==null?void 0:Be.remarks)==""?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):(it=a==null?void 0:a.uploadedDoc)==null?void 0:it.remarks,(a==null?void 0:a.uploadedDoc)==""&&t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")})]}),t.jsx("td",{className:"py-3 px-6",children:(o==null?void 0:o.isCitizen)!=!0&&(o==null?void 0:o.isCitizen)!="true"?t.jsx(t.Fragment,{children:e!=null&&e.isBtc&&(a!=null&&a.btcStatus)||!(e!=null&&e.isBtc)&&!(a!=null&&a.btcStatus)&&(a==null?void 0:a.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||e!=null&&e.isBtc&&(e!=null&&e.canUpload)?t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{accept:s==0?".png,.jpg,.jpeg":".pdf,.png,.jpg,.jpeg",type:"file",onChange:xe=>$e(xe,"owner",s),className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36 cursor-pointer"})}),t.jsx("div",{className:"mt-2",children:!u&&t.jsx("button",{onClick:()=>Pe(a==null?void 0:a.docName,s,"owner"),type:"button",className:" px-6 py-1.5 bg-blue-400 text-white font-medium text-xs leading-tight capitalize rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexDocUpld.label")})})]}):t.jsx("div",{className:"font-semibold text-green-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoUplded.label")})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})})]})})]})})]})}),t.jsx(Te,{isOpen:Je,onAfterOpen:je,onRequestClose:ke,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:ke,children:t.jsx(rt,{})}),fe==!0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:i("mainHoldingPage.propIndexDoErr.label")}),t.jsx("div",{className:"pl-4",children:i("mainHoldingPage.propIndexDoNtVsbl.label")})]})}):t.jsxs(t.Fragment,{children:[Ee=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:_,frameborder:"0"})}),Ee!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:_,alt:"",srcset:"",className:""})})})]})]})}),t.jsx("h1",{className:"w-full mt-20"})]})}const va={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Te.setAppElement("#root");function Da(e){const[i,u]=l.useState(!1),[P,C]=l.useState([]),[U,I]=l.useState(!0),[V,G]=l.useState(),[v,oe]=l.useState(),[q,_]=l.useState(0),[p,$]=l.useState(""),Y=jt({initialValues:{remarks:"",document:""},onSubmit:d=>{if(d.remarks==""){pe.error("Please write some comment");return}ge(d)}}),ge=d=>{var de,te,ae,z,X,K,F;let A=new FormData;A.append("applicationId",e==null?void 0:e.id),A.append("customFor",(ae=(te=(de=e==null?void 0:e.applicationData)==null?void 0:de.data)==null?void 0:te.timelineData)==null?void 0:ae.customFor),A.append("remarks",d.remarks),A.append("document",P),d.remarks==""&&V==null?pe.error("Please fill any field.."):(u(!0),Ue[(X=(z=e==null?void 0:e.api)==null?void 0:z.api_postDepartmentalData)==null?void 0:X.method]((F=(K=e==null?void 0:e.api)==null?void 0:K.api_postDepartmentalData)==null?void 0:F.url,A,St()).then(y=>{var De;(De=y==null?void 0:y.data)!=null&&De.status?(_(q+1),I(!0),pe.success("Message Submitted Successfully..."),Y.resetForm()):e==null||e.activateBottomErrorCard(!0,"Some error occured while saving message. Please try again later."),u(!1)}).catch(y=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while saving message. Please try again later."),u(!1)}))},O=d=>{d.target.name=="document"&&(d.target.files[0],G(d.target.files[0]),C(d.target.files[0]))};l.useEffect(()=>{_(q+1)},[]),l.useEffect(()=>{var d,A,de,te,ae,z,X;(e==null?void 0:e.roleId)==11&&$("Back Office"),(e==null?void 0:e.roleId)==6&&$("Dealing Assistant"),u(!0),Ue[(A=(d=e==null?void 0:e.api)==null?void 0:d.api_getDepartmentalData)==null?void 0:A.method]((te=(de=e==null?void 0:e.api)==null?void 0:de.api_getDepartmentalData)==null?void 0:te.url,{applicationId:e==null?void 0:e.id,customFor:(X=(z=(ae=e==null?void 0:e.applicationData)==null?void 0:ae.data)==null?void 0:z.timelineData)==null?void 0:X.customFor},qe()).then(K=>{var F;u(!1),oe((F=K==null?void 0:K.data)==null?void 0:F.data)}).catch(K=>{u(!1)})},[q]);const[B,E]=l.useState(!1),[W,j]=l.useState(""),M=()=>E(!0),N=()=>E(!1),ee=()=>{},se=d=>{j(d),M()},o=d=>sa(d).format("lll");return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"container mx-auto ml-0  px-1 py-1 shadow-lg rounded-lg w-full",children:[i&&t.jsx("div",{className:"inline",children:t.jsx(ct,{})}),U?t.jsxs("div",{className:"pb-4 visible text-xs text-gray-600 px-4 pt-2 w-full flex flex-col space-y-2 poppins",children:[t.jsx("div",{className:"flex md:flex-row flex-col w-full md:justify-end items-between mt-2 mb-4 ",children:t.jsx("div",{onClick:()=>I(!1),className:"cursor-pointer px-4 py-1.5 mx-6 rounded-sm bg-sky-400 text-white hover:bg-sky-500 shadow-lg text-xs",children:"Comment"})}),v<1&&t.jsx("div",{className:"flex justify-center items-center w-full",children:t.jsx("span",{className:"bg-red-100 px-4 py-1.5 rounded-sm shadow-sm",children:"👉Click comment to add comment on this application.👈"})}),t.jsx("div",{className:"w-full flex flex-wrap justify-evenly timeline-container text-xs text-gray-800 poppins",children:v==null?void 0:v.map(d=>{var A,de,te,ae,z,X,K,F,y;return t.jsxs(t.Fragment,{children:[(d==null?void 0:d.type)=="text"&&(d==null?void 0:d.customFor)==((te=(de=(A=e==null?void 0:e.applicationData)==null?void 0:A.data)==null?void 0:de.timelineData)==null?void 0:te.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:p}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",o(d==null?void 0:d.date)]})]}),t.jsxs("div",{children:["Remarks : ",t.jsx("span",{className:"font-semibold",children:He(d==null?void 0:d.remarks)})," "]}),t.jsx("span",{className:"circle"})]})}),(d==null?void 0:d.type)=="file"&&(d==null?void 0:d.customFor)==((X=(z=(ae=e==null?void 0:e.applicationData)==null?void 0:ae.data)==null?void 0:z.timelineData)==null?void 0:X.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:p}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",He(d==null?void 0:d.date)]})]}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[t.jsxs("span",{className:"text-xs",children:["Document :"," "]}),t.jsx("div",{className:"font-semibold cursor-pointer text-2xl",onClick:()=>se(d==null?void 0:d.docUrl),children:t.jsx(ot,{className:"bg-white rounded-lg shadow-xl"})})," "]}),t.jsx("span",{className:"circle"})]})}),(d==null?void 0:d.type)=="both"&&(d==null?void 0:d.customFor)==((y=(F=(K=e==null?void 0:e.applicationData)==null?void 0:K.data)==null?void 0:F.timelineData)==null?void 0:y.customFor)&&t.jsx("div",{className:"timeline-item",children:t.jsxs("div",{className:"timeline-item-content bg-sky-100 mb-2 mr-2  px-4 py-1 pt-1.5 rounded-md shadow-lg w-[70%]   justify-center",children:[t.jsx("span",{className:"tag"}),t.jsx("div",{className:"capitalize text-[14px] mb-1 font-semibold",children:p}),t.jsxs("time",{children:["Date : ",t.jsxs("span",{className:"font-semibold",children:[" ",He(d==null?void 0:d.date)]})]}),t.jsxs("p",{children:["Remarks : ",t.jsx("span",{className:"font-semibold",children:He(d==null?void 0:d.remarks)})]}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[t.jsxs("span",{className:"text-xs",children:["Document :"," "]}),t.jsx("div",{className:"font-semibold cursor-pointer text-2xl",onClick:()=>se(d==null?void 0:d.docUrl),children:t.jsx(ot,{className:"bg-white rounded-lg p-1 shadow-xl"})})," "]}),t.jsx("span",{className:"circle"})]})})]})})})]}):t.jsxs("form",{className:"pb-4 visible poppins",onSubmit:Y.handleSubmit,children:[t.jsx("div",{onClick:()=>I(!0),className:"cursor-pointer px-4 py-1.5 mx-6 mt-4 rounded-sm bg-gray-400 text-white hover:bg-gray-500 shadow-lg text-xs w-max mb-4",children:"Comment List"}),t.jsxs("div",{className:"flex flex-wrap md:flex-row flex-col md:justify-evenly items-evenly space-y-2 ",children:[t.jsxs("div",{className:"flex flex-col  w-[40%] space-y-2 mb-2",children:[t.jsx("label",{htmlFor:"remarks",className:"text-zinc-500 capitalize text-xs font-semibold",children:"Remarks"}),t.jsx("textarea",{name:"remarks",onChange:Y.handleChange,className:"bg-gray-100 text-xs border-2 border-gray-400 rounded-md px-4 py-2 shadow-md",placeholder:"Write your remarks here..."})]}),t.jsxs("div",{className:"flex flex-col w-[40%] space-y-2",children:[t.jsxs("label",{className:"text-zinc-500 capitalize text-xs font-semibold",htmlFor:"document",children:["Document :"," "]}),t.jsx("input",{accept:".pdf,.jpg,.jpeg",type:"file",name:"document",id:"document",onChange:O,className:"form-control block w-full px-3 py-1.5 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md "})]})]}),t.jsxs("div",{className:"flex md:flex-row flex-col md:justify-between items-between",children:[t.jsx("div",{}),t.jsx("button",{type:"submit",className:"px-4 py-1.5 mx-6 mt-4 rounded-lg bg-sky-400 hover:bg-sky-500 text-white shadow-lg text-xs",children:"Submit"})]})]})]}),t.jsx(Te,{isOpen:B,onAfterOpen:ee,onRequestClose:N,style:va,contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 ml-32 px-0",style:{width:"60vw",height:"80vh"},children:[t.jsx("div",{className:"absolute top-10 bg-red-200 hover:bg-red-300 right-10 rounded-full p-2 cursor-pointer",onClick:N,children:t.jsx(Wt,{})}),t.jsx("iframe",{className:"w-full h-full",src:W,frameborder:"0"})]})}),t.jsx("div",{className:"w-full mt-20"})]})}function Sa(e){var i,u,P,C,U,I,V,G,v,oe,q,_,p,$,Y,ge,O,B,E,W,j,M,N,ee,se,o,d,A,de,te,ae,z,X,K,F,y,De,Ee;return l.useState(!1),l.useState(!1),l.useState(!0),l.useState([]),l.useState([]),t.jsx(t.Fragment,{children:t.jsxs("div",{class:"rounded-lg pt-4 z-50 w-full h-full",children:[t.jsxs("div",{className:"",children:[(C=(P=(u=(i=e==null?void 0:e.applicationData)==null?void 0:i.data)==null?void 0:u.fullDetailsData)==null?void 0:P.dataArray)==null?void 0:C.map(J=>{var fe;return t.jsx("div",{className:"w-full md:w-[69vw] ",children:t.jsx("div",{className:"container mx-auto mb-0 mt-1 p-2 md:p-5 py-1 ",children:t.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:t.jsx("div",{className:"w-full md:mx-2 ",children:t.jsxs("div",{className:"md:p-3  rounded-sm",children:[t.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:t.jsxs("div",{className:"tracking-wide flex-1",children:[t.jsx(yt,{className:"inline font-semibold"})," ",ye(J==null?void 0:J.headerTitle)]})}),t.jsx("div",{className:" rounded-lg  py-6 bg-sky-50 shadow-xl",children:t.jsx("div",{className:"grid grid-cols-10 space-y-2  pl-4 ",children:(fe=J==null?void 0:J.data)==null?void 0:fe.map(le=>t.jsxs("div",{className:"col-span-5 md:col-span-2 text-xs",children:[t.jsx("div",{className:"font-bold text-sm",children:ye(le==null?void 0:le.value)}),t.jsx("div",{className:"text-gray-500 flex",children:ye(le==null?void 0:le.displayString)})]}))})})]})})})})})}),(G=(V=(I=(U=e==null?void 0:e.applicationData)==null?void 0:U.data)==null?void 0:I.fullDetailsData)==null?void 0:V.tableArray)==null?void 0:G.map(J=>{var fe,le;return t.jsx("div",{className:"w-full md:w-[69vw] overflow-x-auto",children:t.jsx("div",{className:"container mx-auto mb-0 mt-1 md:p-5 py-1 ",children:t.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:t.jsx("div",{className:"w-full md:mx-2 ",children:t.jsxs("div",{className:"px-1 md:p-3 rounded-sm",children:[t.jsx("div",{className:"flex items-center pl-0 space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:t.jsxs("span",{className:"tracking-wide",children:[t.jsx(yt,{className:"inline font-semibold"})," ",ye(J==null?void 0:J.headerTitle)]})}),t.jsx(t.Fragment,{children:t.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-sky-50 shadow-xl",children:[t.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50 text-gray-600",children:t.jsx("tr",{children:(fe=J==null?void 0:J.tableHead)==null?void 0:fe.map(be=>t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:ye(be)}))})}),t.jsx("tbody",{className:"text-sm",children:t.jsx(t.Fragment,{children:(le=J==null?void 0:J.tableData)==null?void 0:le.map((be,Ne)=>t.jsx("tr",{className:"bg-sky-50  border-b border-gray-200",children:be==null?void 0:be.map(ce=>t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye(ce)}))}))})})]})})]})})})})})}),((q=(oe=(v=e==null?void 0:e.applicationData)==null?void 0:v.data)==null?void 0:oe.DocDetail)==null?void 0:q.applied_by)=="TC"&&t.jsx("div",{className:"w-full md:w-[69vw] overflow-x-auto",children:t.jsx("div",{className:"container mx-auto mb-0 mt-1 md:p-5 py-1 ",children:t.jsx("div",{className:"md:flex no-wrap md:-mx-2 ",children:t.jsx("div",{className:"w-full md:mx-2 ",children:t.jsxs("div",{className:"px-1 md:p-3 rounded-sm",children:[t.jsx("div",{className:"flex items-center pl-0  space-x-2 font-semibold text-gray-900 leading-8 mb-2",children:t.jsxs("div",{className:"tracking-wide flex-1",children:[t.jsx(yt,{className:"inline font-semibold"}),"Received Documents"]})}),t.jsx(t.Fragment,{children:t.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-sky-50 shadow-xl",children:[t.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50 text-gray-600",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"Application Form"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"ID Proof"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"Photo"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"Measurement Sheet"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"Sale Deed"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"Layout Sanction"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"NA Order"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"Namuna"}),t.jsx("th",{className:"px-2 py-3 border-b border-gray-200  text-xs capitalize text-left",children:"Other Document"})]})}),t.jsx("tbody",{className:"text-sm",children:t.jsx(t.Fragment,{children:t.jsxs("tr",{children:[t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye(($=(p=(_=e==null?void 0:e.applicationData)==null?void 0:_.data)==null?void 0:p.DocDetail)==null?void 0:$.is_application_form_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((O=(ge=(Y=e==null?void 0:e.applicationData)==null?void 0:Y.data)==null?void 0:ge.DocDetail)==null?void 0:O.is_id_proof_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((W=(E=(B=e==null?void 0:e.applicationData)==null?void 0:B.data)==null?void 0:E.DocDetail)==null?void 0:W.is_photo_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((N=(M=(j=e==null?void 0:e.applicationData)==null?void 0:j.data)==null?void 0:M.DocDetail)==null?void 0:N.is_measurement_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((o=(se=(ee=e==null?void 0:e.applicationData)==null?void 0:ee.data)==null?void 0:se.DocDetail)==null?void 0:o.is_sale_deed_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((de=(A=(d=e==null?void 0:e.applicationData)==null?void 0:d.data)==null?void 0:A.DocDetail)==null?void 0:de.is_layout_section_map_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((z=(ae=(te=e==null?void 0:e.applicationData)==null?void 0:te.data)==null?void 0:ae.DocDetail)==null?void 0:z.is_na_order_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((F=(K=(X=e==null?void 0:e.applicationData)==null?void 0:X.data)==null?void 0:K.DocDetail)==null?void 0:F.is_namuna_doc)}),t.jsx("td",{className:"px-2 py-2 text-sm text-left",children:ye((Ee=(De=(y=e==null?void 0:e.applicationData)==null?void 0:y.data)==null?void 0:De.DocDetail)==null?void 0:Ee.is_other_doc)})]})})})]})})]})})})})})]}),t.jsx("div",{className:"h-40 w-full"})]})})}Te.setAppElement("#root");function ka(e){var ve;const{t:i}=nt(),{notify:u,setDataID:P,dataID:C}=l.useContext(wt),[U,I]=l.useState(!1);l.useState(),l.useState(),l.useState();const[V,G]=l.useState(null),[v,oe]=l.useState("");l.useState(null),l.useState(0);const[q,_]=l.useState(0),[p,$]=l.useState(!1);l.useState();const[Y,ge]=l.useState(""),[O,B]=l.useState(1);l.useState(0),l.useState(0);const[E,W]=l.useState(),[j,M]=l.useState(""),[N,ee]=l.useState(!0),[se,o]=l.useState(!1);l.useState(null);const[d,A]=l.useState();l.useState();const[de,te]=l.useState(""),[ae,z]=l.useState(null),[X,K]=l.useState(null),[F,y]=l.useState(null),[De,Ee]=l.useState(""),[J,fe]=l.useState([]),le=l.useRef([]),be=l.useRef([]),Ne=l.useRef([]),ce=l.useRef([]),[Se,Qe]=l.useState(!1),[We,Je]=l.useState(!1),Ge=()=>Je(!0),Ze=()=>{},je=()=>{z(null),o(!1),Qe(!1),$(!1),Je(!1),B(O+1),le.current=[],Ne.current=[],be.current=[],ce.current=[]},ke=new Date().toISOString().split("T")[0];l.useEffect(()=>{Ae()},[]);const Ae=()=>{var n,S,r,a;I(!0),Ue[(S=(n=e==null?void 0:e.api)==null?void 0:n.api_getJahirNamaUploadList)==null?void 0:S.method]((a=(r=e==null?void 0:e.api)==null?void 0:r.api_getJahirNamaUploadList)==null?void 0:a.url,{applicationId:e==null?void 0:e.id},qe()).then(s=>{var h,f,m,b;(h=s==null?void 0:s.data)!=null&&h.status?(A((f=s==null?void 0:s.data)==null?void 0:f.data),e==null||e.setallDocumentUploadStatus((b=(m=s==null?void 0:s.data)==null?void 0:m.data)==null?void 0:b.docUploadStatus)):e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),I(!1)}).catch(s=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while fetching document list. Please try again later"),$(!1),I(!1)})},Ye=Dt({docId:At().required("Select document type"),docUpload:ft().required("Select document")}),we=jt({initialValues:{docId:"",docUpload:"",docName:"",generationDate:""},onSubmit:async n=>{Pe()},validationSchema:Ye}),$e=(n,S,r)=>{var s,h;let a=n.target.files[0];M(n.target.name),W(URL.createObjectURL(n.target.files[0])),G(n.target.files[0]),S=="owner"?Ne.current[r]=(s=n.target.files[0])==null?void 0:s.name:ce.current[r]=(h=n.target.files[0])==null?void 0:h.name,we.setFieldValue("docUpload",URL.createObjectURL(n.target.files[0])),(a==null?void 0:a.name).substring((a==null?void 0:a.name).lastIndexOf(".")+1)=="pdf"?ee(!1):ee(!0)},Pe=(n,S,r)=>{var f,m,b,c;let a;r==="property"?a=be.current:a=le.current;const s=a.map((x,k)=>k===S?x.value:"");if(s[S]===null||s[S]==="Select"||s[S]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${n}`),z(null),K(null);return}if(s[S]===null||s[S]==="Select"||s[S]===""){e==null||e.activateBottomErrorCard(!0,`Select document type for ${n}`),z(null),K(null);return}if(r=="owner"&&(Ne.current[S]==null||Ne.current[S]==""||Ne.current[S]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${n}`),Ne.current[S]=null;return}if(r=="property"&&(ce.current[S]==null||ce.current[S]==""||ce.current[S]==null)){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${n}`),ce.current[S]=null;return}if(V==null){e==null||e.activateBottomErrorCard(!0,`Select document to upload for ${n}`);return}if(!Lt(V)){e==null||e.activateBottomErrorCard(!0,`File is too large for ${n}`),G(null);return}if((F==null?void 0:F.toLowerCase())=="others"&&de==""){e==null||e.activateBottomErrorCard(!0,`Document name is required for type ${n}`);return}let h=new FormData;e==null||e.id,s[S],(F==null?void 0:F.toLowerCase())=="others",h.append("applicationId",e==null?void 0:e.id),ae!=null&&h.append("ownerId",ae),h.append("docCode",s[S]),h.append("document",V),h.append("docName",n),h.append("docCategory",(F==null?void 0:F.toLowerCase())=="others"?de:F),h.append("generationDate",we.values.generationDate),V!=null?(je(),I(!0),Ue[(m=(f=e==null?void 0:e.api)==null?void 0:f.api_uploadJahirNama)==null?void 0:m.method]((c=(b=e==null?void 0:e.api)==null?void 0:b.api_uploadJahirNama)==null?void 0:c.url,h,St()).then(x=>{var k,L;(k=x==null?void 0:x.data)!=null&&k.status?(pe.success("Document Uploaded Successfully !!"),$(!1),oe(""),G(""),I(!1),_(q+1),M(""),we.setFieldValue("docUpload",""),e.refresh(),z(null),K(null),y(null),Ae(),P(!C)):e==null||e.activateBottomErrorCard(!0,(L=x.data)==null?void 0:L.message),I(!1)}).catch(x=>{e==null||e.activateBottomErrorCard(!0,"Some error occured while uploading document. Please try again later"),$(!1),I(!1)})):e==null||e.activateBottomErrorCard(!0,"Please select file")},Le=(n,S)=>{n==""&&pe.error("File not uploaded !!!"),n!=""&&(ge(n),Ee(S),Ge(),B(O+1))},Ve=(n,S)=>{K(n.target.value),y(S)},Re=n=>J==null?void 0:J.some(S=>S==n);return t.jsxs(t.Fragment,{children:[t.jsx(vt,{position:"top-right",autoClose:2e3}),U&&t.jsx("div",{className:"inline",children:t.jsx(ct,{})}),t.jsxs("div",{className:"overflow-x-auto ",children:[t.jsx("div",{className:"px-4 font-semibold font-serif w-full",children:t.jsxs("span",{children:[t.jsx("img",{src:gt,alt:"pin",className:"w-8 inline"})," ATS Jahirnama Upload"]})}),t.jsxs("div",{className:"bg-white",children:[void 0,void 0,t.jsx("div",{className:" flex md:pl-4 bg-white font-sans overflow-x-auto mt-6",children:t.jsxs("div",{className:"w-full ",children:[t.jsx("h1",{className:"text-md font-semibold",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("div",{className:"bg-white shadow-md rounded my-2",children:t.jsxs("table",{className:"min-w-max w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-sky-100 text-gray-600 capitalize text-sm leading-normal",children:[t.jsx("th",{className:"py-3 px-6 text-center",children:"#"}),t.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:i("mainHoldingPage.documentName.label")}),t.jsx("th",{className:"py-3 px-6 text-left",children:i("mainHoldingPage.propIndexDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDocTyp.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexPropDoc.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Uploaded On"}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.documentStatus.label")}),t.jsx("th",{className:"py-3 px-6 text-center",children:"Date"}),t.jsx("th",{className:"py-3 px-6 text-center",children:i("mainHoldingPage.propIndexDocUpld.label")})]})}),t.jsx("tbody",{className:"text-gray-600 text-sm font-light bg-white",children:(ve=d==null?void 0:d.listDocs)==null?void 0:ve.map((n,S)=>{var r,a,s,h,f,m,b,c,x,k,L,H,w,ue,ne,g,D,re,ie,me,R,T,Q,Ce,Oe,Me,_e,ze,tt,at,lt;return t.jsxs("tr",{className:"border-b border-gray-200 ",onSubmit:we.handleSubmit,onChange:we.handleChange,children:[t.jsx("td",{className:"py-3 px-6 font-semibold",children:S+1}),t.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-2 bg-white shadow-lg rounded-full p-2",children:t.jsx("img",{src:gt,alt:"rain",className:"w-4"})}),t.jsxs("span",{className:"font-medium",value:n==null?void 0:n.docName,children:[ye(n==null?void 0:n.docName),((n==null?void 0:n.docType)=="OR"||(n==null?void 0:n.docType)=="R")&&t.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]})]})}),t.jsx("td",{td:!0,className:"py-3 px-6 text-left whitespace-nowrap",children:(n==null?void 0:n.docType)=="OR"||(n==null?void 0:n.docType)=="R"?t.jsx("span",{className:"font-semibold text-red-400",children:i("mainHoldingPage.propIndexDoRqrd.label")}):t.jsx("span",{children:i("mainHoldingPage.propIndexDoOptnl.label")})}),t.jsx("td",{className:"py-3 px-6",children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsxs("select",{ref:Z=>be.current[S]=Z,className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36",name:"docId",disabled:!(e!=null&&e.isBtc&&(n!=null&&n.btcStatus)||!(e!=null&&e.isBtc)&&!(n!=null&&n.btcStatus)&&(n==null?void 0:n.uploadedDoc)==""||!(e!=null&&e.isBtc)&&(e!=null&&e.canUpload)||(d==null?void 0:d.isCitizen)!=!0&&(d==null?void 0:d.isCitizen)!="true"),onChange:Z=>Ve(Z,n==null?void 0:n.docName),children:[t.jsx("option",{value:null,selected:!0,children:i("mainHoldingPage.holdingSelectBtn.label")}),void 0,n==null?void 0:n.masters.map((Z,Be)=>t.jsx("option",{value:Z==null?void 0:Z.documentCode,children:Z==null?void 0:Z.docVal}))]})}),((r=n==null?void 0:n.docName)==null?void 0:r.toLowerCase())=="others"&&(F==null?void 0:F.toLowerCase())=="others"&&t.jsx("input",{type:"text",name:"otherDocumentName",value:de,onChange:Z=>te(Z.target.value),className:`${Rt} capitalize m-1`,placeholder:"Enter document Name",required:!0})]})}),void 0,t.jsx("td",{className:"py-3 px-6 text-center relative",children:(n==null?void 0:n.uploadedDoc)==null?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):t.jsx("div",{className:"flex items-center justify-center font-semibold text-[26px] cursor-pointer",onClick:()=>{var Z,Be,it,xe,Fe,st,dt;return Le(`${(Z=n==null?void 0:n.uploadedDoc)==null?void 0:Z.doc_path}`,(st=(Be=n==null?void 0:n.uploadedDoc)==null?void 0:Be.doc_path)==null?void 0:st.split(".")[((Fe=(xe=(it=n==null?void 0:n.uploadedDoc)==null?void 0:it.doc_path)==null?void 0:xe.split("."))==null?void 0:Fe.length)-1],(dt=n==null?void 0:n.uploadedDoc)==null?void 0:dt.uploadedDocId)},children:t.jsxs("div",{className:"flex items-center",children:[((m=(a=n==null?void 0:n.uploadedDoc)==null?void 0:a.doc_path)==null?void 0:m.split(".")[((f=(h=(s=n==null?void 0:n.uploadedDoc)==null?void 0:s.doc_path)==null?void 0:h.split("."))==null?void 0:f.length)-1])=="pdf"&&t.jsx("div",{className:"flex-shrink-0 text-[28px] ",children:t.jsx(ot,{})}),((L=(b=n==null?void 0:n.uploadedDoc)==null?void 0:b.doc_path)==null?void 0:L.split(".")[((k=(x=(c=n==null?void 0:n.uploadedDoc)==null?void 0:c.doc_path)==null?void 0:x.split("."))==null?void 0:k.length)-1])=="jpg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>fe(Z=>{var Be;return[...Z,(Be=n==null?void 0:n.uploadedDoc)==null?void 0:Be.uploadedDocId]}),src:Re((H=n==null?void 0:n.uploadedDoc)==null?void 0:H.uploadedDocId)?et:`${(w=n==null?void 0:n.uploadedDoc)==null?void 0:w.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((re=(ue=n==null?void 0:n.uploadedDoc)==null?void 0:ue.doc_path)==null?void 0:re.split(".")[((D=(g=(ne=n==null?void 0:n.uploadedDoc)==null?void 0:ne.doc_path)==null?void 0:g.split("."))==null?void 0:D.length)-1])=="jpeg"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>fe(Z=>{var Be;return[...Z,(Be=n==null?void 0:n.uploadedDoc)==null?void 0:Be.uploadedDocId]}),src:Re((ie=n==null?void 0:n.uploadedDoc)==null?void 0:ie.uploadedDocId)?et:`${(me=n==null?void 0:n.uploadedDoc)==null?void 0:me.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})}),((Oe=(R=n==null?void 0:n.uploadedDoc)==null?void 0:R.doc_path)==null?void 0:Oe.split(".")[((Ce=(Q=(T=n==null?void 0:n.uploadedDoc)==null?void 0:T.doc_path)==null?void 0:Q.split("."))==null?void 0:Ce.length)-1])=="png"&&t.jsx("div",{className:"flex-shrink-0 ",children:t.jsx("img",{onError:()=>fe(Z=>{var Be;return[...Z,(Be=n==null?void 0:n.uploadedDoc)==null?void 0:Be.uploadedDocId]}),src:Re((Me=n==null?void 0:n.uploadedDoc)==null?void 0:Me.uploadedDocId)?et:`${(_e=n==null?void 0:n.uploadedDoc)==null?void 0:_e.doc_path}`,className:"md:w-[2vw] w-[5vw]",alt:"",srcset:""})})]})})}),void 0,t.jsx("td",{className:"py-3 px-6 text-center font-semibold",children:((ze=n==null?void 0:n.uploadedDoc)==null?void 0:ze.generation_date)||"NA"}),t.jsx("td",{className:"py-3 px-6 text-center",children:((tt=n==null?void 0:n.masters[0])==null?void 0:tt.remarks)==""||((at=n==null?void 0:n.masters[0])==null?void 0:at.remarks)==null?t.jsx("i",{className:"font-semibold not-italic",children:i("mainHoldingPage.propIndexDoNa.label")}):(lt=n==null?void 0:n.masters[0])==null?void 0:lt.remarks}),t.jsx("td",{className:"py-3 px-6 text-center text-xl",children:t.jsx("input",{type:"date",max:ke,required:!0,name:"generationDate",className:"border-2 border-orange-400 font-semibold",...we.getFieldProps("generationDate")})}),t.jsx("td",{className:"py-3 px-6 flex flex-wrap gap-2",children:(d==null?void 0:d.isCitizen)!=!0&&(d==null?void 0:d.isCitizen)!="true"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"font-semibold text-sm",children:[t.jsx("div",{className:"",children:t.jsx("input",{type:"file",name:n==null?void 0:n.docName,onChange:Z=>$e(Z,"property",S),accept:(n==null?void 0:n.docName)==="Layout sanction Map"?".png, .jpg, .jpeg":".pdf, .png, .jpg, .jpeg",className:"form-control block w-full px-3 py-1 text-base md:text-xs font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md w-36"})}),t.jsx("div",{className:"mt-2",children:!U&&t.jsx("button",{onClick:()=>Pe(n==null?void 0:n.docName,S,"property"),className:" px-4 py-1.5 bg-blue-400 text-white text-xs leading-tight rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out",children:i("mainHoldingPage.propIndexDocUpld.label")})})]})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"font-semibold text-red-500 text-center text-sm",children:i("mainHoldingPage.propIndexDoByCtzn.label")})})})]})})})]})})]})}),t.jsxs("div",{className:"col-span-5 grid grid-cols-3 px-4",children:[t.jsx("div",{className:"md:pl-0"}),t.jsx("div",{className:"md:px-4 text-center"}),t.jsx("div",{className:"md:pl-10 text-right"})]})]})]}),t.jsx(Te,{isOpen:We,onAfterOpen:Ze,onRequestClose:je,className:"w-screen h-screen flex justify-center items-center",contentLabel:"Example Modal",children:t.jsxs("div",{class:" rounded-lg shadow-xl border-2 border-gray-200 bg-white md:ml-32 p-4 animate__animated animate__zoomIn animate__faster w-full md:w-[60vw] h-[80vh]",children:[t.jsx("div",{className:"absolute top-2 font-normal bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:je,children:t.jsx(rt,{})}),J==!0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-gray-200",children:[t.jsx("div",{className:"border-r-2 border-gray-200 pr-4",children:i("mainHoldingPage.propIndexDoErr.label")}),t.jsx("div",{className:"pl-4",children:i("mainHoldingPage.propIndexDoNtVsbl.label")})]})}):t.jsxs(t.Fragment,{children:[De=="pdf"&&t.jsx(t.Fragment,{children:t.jsx("iframe",{className:"w-full h-full",src:Y,frameborder:"0"})}),De!="pdf"&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full h-[77vh] overflow-auto flex flex-wrap items-center justify-center",children:t.jsx("img",{src:Y,alt:"",srcset:"",className:""})})})]})]})}),t.jsx("h1",{className:"w-full mt-20"})]})}const Ca={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};Te.setAppElement("#modal");xt.node,xt.number.isRequired,xt.number.isRequired;function _a(e){var ke,Ae,Ye,we,$e,Pe,Le,Ve,Re,ve,n,S,r,a,s,h,f,m,b,c,x,k,L,H,w,ue,ne;const{t:i}=nt(),[u,P]=l.useState(!1),[C,U]=l.useState(!0),[I,V]=l.useState(!1),[G,v]=l.useState(""),[oe,q]=l.useState(),[_,p]=l.useState({}),[$,Y]=l.useState({}),[ge,O]=l.useState(0),[B,E]=l.useState({}),[W,j]=l.useState({}),[M,N]=l.useState(0),[ee,se]=l.useState(0),[o,d]=l.useState(0),[A,de]=l.useState(),[te,ae]=l.useState(0),[z,X]=l.useState(),[K,F]=l.useState(),[y,De]=l.useState(0),[Ee,J]=l.useState(!1),[fe,le]=l.useState(null),be=[11,6,5,7,9,10];function Ne(g){v(g),P(!0)}function ce(){P(!1),e==null||e.fun(null,0)}const Se=(g,D)=>{O(D),q(D)},Qe=(g,D)=>{pe.dismiss(),D=="escalated"&&pe.success(g),D=="de-escalated"&&pe.warn(g),D=="error"&&pe.error(g)};l.useEffect(()=>{Je()},[e.id,ee,(ke=e==null?void 0:e.workflowInfo)==null?void 0:ke.members]),l.useEffect(()=>{var g,D,re,ie;de(e==null?void 0:e.id),Ue[(D=(g=e==null?void 0:e.api)==null?void 0:g.api_uploadDocumentShow)==null?void 0:D.method]((ie=(re=e==null?void 0:e.api)==null?void 0:re.api_uploadDocumentShow)==null?void 0:ie.url,{applicationId:e==null?void 0:e.id},qe()).then(me=>{var R;p((R=me==null?void 0:me.data)==null?void 0:R.data)}).catch(me=>{})},[]),l.useEffect(()=>{var g,D,re,ie;de(e==null?void 0:e.id),Ue[(D=(g=e==null?void 0:e.api)==null?void 0:g.api_getJahirNamaUploadList)==null?void 0:D.method]((ie=(re=e==null?void 0:e.api)==null?void 0:re.api_getJahirNamaUploadList)==null?void 0:ie.url,{applicationId:e==null?void 0:e.id},qe()).then(me=>{var R;Y((R=me==null?void 0:me.data)==null?void 0:R.data)}).catch(me=>{})},[]);const We=g=>{N(be.indexOf(g))},Je=()=>{var D,re,ie,me;V(!0);const g=qe();Ue[(re=(D=e==null?void 0:e.api)==null?void 0:D.api_details)==null?void 0:re.method]((me=(ie=e==null?void 0:e.api)==null?void 0:ie.api_details)==null?void 0:me.url,{applicationId:e==null?void 0:e.id},g).then(function(R){var T,Q,Ce,Oe,Me,_e,ze,tt,at,lt,Z;E(R==null?void 0:R.data),Ge((Ce=(Q=(T=R==null?void 0:R.data)==null?void 0:T.data)==null?void 0:Q.timelineData)==null?void 0:Ce.wfRoleId),We((Me=(Oe=R==null?void 0:R.data)==null?void 0:Oe.data)==null?void 0:Me.current_role),d((ze=(_e=R==null?void 0:R.data)==null?void 0:_e.data)==null?void 0:ze.current_role),X((at=(tt=R==null?void 0:R.data)==null?void 0:tt.data)==null?void 0:at.doc_upload_status),F((Z=(lt=R==null?void 0:R.data)==null?void 0:lt.data)==null?void 0:Z.doc_verify_status),V(!1)}).catch(function(R){V(!1)})},Ge=g=>{var ie;let re=((ie=e==null?void 0:e.workflowInfo)==null?void 0:ie.members.map((me,R)=>me==null?void 0:me.role_id)).indexOf(g);ae(re)};if(e.id=="")return t.jsx(ia,{fun:e.fun,title:"No Application Selected !"});const Ze=g=>{q(g)},je=g=>{De(g)},Ie=(g,D)=>{le(D),J(g)};return t.jsxs(t.Fragment,{children:[Ee&&t.jsx(ea,{activateBottomErrorCard:Ie,errorTitle:fe}),I&&t.jsx(ct,{}),t.jsx(vt,{position:"top-right",autoClose:5e3}),t.jsxs("div",{className:"",children:[t.jsx("div",{className:"flex",children:(Ye=(Ae=e==null?void 0:e.workflowInfo)==null?void 0:Ae.members)==null?void 0:Ye.map((g,D)=>{var re,ie;return t.jsx("div",{children:t.jsx(ca,{index:D+1,level:g==null?void 0:g.role_name,verificationStatus:D<te,last:D==((ie=(re=e==null?void 0:e.workflowInfo)==null?void 0:re.members)==null?void 0:ie.length)-1,active:D==te,backStatus:!1,btc:!1})},D)})}),t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDataCard",children:t.jsx(ra,{boxType:e==null?void 0:e.boxType,permissions:(we=e==null?void 0:e.workflowInfo)==null?void 0:we.permissions,tabIndex:e==null?void 0:e.tabIndex,workflow:e==null?void 0:e.workflow,id:e==null?void 0:e.id,applicationData:B,index:Ze})}),t.jsxs("div",{className:" ",children:[t.jsxs("div",{className:"flex space-x-4 uppercase text-gray-600 text-sm pl-4 border-b border-gray-200 mb-6 w-full overflow-x-auto whitespace-nowrap",children:[t.jsx("div",{onClick:()=>je(0),className:`pb-3 flex-initial cursor-pointer ${y==0?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnDtls.label")})}),(((Pe=($e=e==null?void 0:e.workflowInfo)==null?void 0:$e.permissions)==null?void 0:Pe.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>je(1),className:`pb-3 flex-initial cursor-pointer ${y==1?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnVewDcmt.label")})}),((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>je(2),className:`pb-3 flex-initial cursor-pointer ${y==2?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.holdingAction.label")})}),((Ve=(Le=e==null?void 0:e.workflowInfo)==null?void 0:Le.permissions)==null?void 0:Ve.can_upload_document)==!0&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx("div",{onClick:()=>je(3),className:`pb-3 flex-initial cursor-pointer ${y==3?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnUpldDcmt.label")})}),((ve=(Re=e==null?void 0:e.workflowInfo)==null?void 0:Re.permissions)==null?void 0:ve.can_verify_document)==!0&&(e==null?void 0:e.boxType)=="inbox"&&t.jsx("div",{onClick:()=>je(4),className:`pb-3 flex-initial cursor-pointer ${y==4?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnVrfyDcmt.label")})}),((S=(n=e==null?void 0:e.workflowInfo)==null?void 0:n.permissions)==null?void 0:S.allow_free_communication)==!0&&t.jsx("div",{onClick:()=>je(5),className:`pb-3 flex-initial cursor-pointer ${y==5?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnDprtComm.label")})}),void 0,((a=(r=e==null?void 0:e.workflowInfo)==null?void 0:r.permissions)==null?void 0:a.can_genrate_jahirnama)==!0&&t.jsx("div",{onClick:()=>je(6),className:`pb-3 flex-initial cursor-pointer ${y==6?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:"Jahir Nama"})}),(e==null?void 0:e.customTabs)!=null&&t.jsx("div",{onClick:()=>je(6),className:`pb-3 flex-initial cursor-pointer ${y==6?"border-b-2 border-blue-500 text-blue-500":"no-underline border-none"}`,children:t.jsx("span",{children:i("mainHoldingPage.propIndexBtnCstmTab.label")})})]}),t.jsxs(bt,{sx:{width:"100%"},children:[y==0&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowFullDetailsTab",children:t.jsx(Sa,{applicationData:B,id:A})}),y==1&&(((h=(s=e==null?void 0:e.workflowInfo)==null?void 0:s.permissions)==null?void 0:h.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentViewTab",children:t.jsx(ma,{applicationData:B,api:e==null?void 0:e.api,id:A})}),y==2&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowActions",children:t.jsx(ga,{allDocumentUploadStatus:z,allDocumentVerifyStatus:K,handleChangeTabs:Se,api:e==null?void 0:e.api,toast:Qe,assessmentType:e==null?void 0:e.assessmentType,permissions:(f=e==null?void 0:e.workflowInfo)==null?void 0:f.permissions,workflowInfo:e==null?void 0:e.workflowInfo,applicationData:B,setpropertyDetails:j,members:e.members,showTabFun:U,showTabs:C,openModal:Ne,id:A,setrefresh:se,refresh:ee,fun:e==null?void 0:e.fun,activateBottomErrorCard:Ie})}),y==3&&((b=(m=e==null?void 0:e.workflowInfo)==null?void 0:m.permissions)==null?void 0:b.can_upload_document)==!0&&((e==null?void 0:e.boxType)=="inbox"||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentUpload",children:t.jsx(Na,{canUpload:e==null?void 0:e.canUpload,allDocumentUploadStatus:z,setallDocumentUploadStatus:X,allDocumentVerifyStatus:K,handleChangeTabs:Se,api:e==null?void 0:e.api,id:A,applicationData:B,applicationData2:_,refresh:()=>se(ee+1),activateBottomErrorCard:Ie,isBtc:(e==null?void 0:e.boxType)=="btcbox"})}),y==4&&((x=(c=e==null?void 0:e.workflowInfo)==null?void 0:c.permissions)==null?void 0:x.can_verify_document)==!0&&(e==null?void 0:e.boxType)=="inbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentVerify",children:t.jsx(wa,{allDocumentUploadStatus:z,allDocumentVerifyStatus:K,setallDocumentVerifyStatus:F,handleChangeTabs:Se,api:e==null?void 0:e.api,id:A,activateBottomErrorCard:Ie})}),y==5&&((L=(k=e==null?void 0:e.workflowInfo)==null?void 0:k.permissions)==null?void 0:L.allow_free_communication)==!0&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDepartmentalCommunication",children:t.jsx(Da,{workflow:e==null?void 0:e.workflow,permissions:(H=e==null?void 0:e.workflowInfo)==null?void 0:H.permissions,applicationData:B,departmentalPost:(w=B==null?void 0:B.data)==null?void 0:w.departmentalPost,api:e==null?void 0:e.api,id:A,roleId:o,activateBottomErrorCard:Ie})}),y==6&&(((ne=(ue=e==null?void 0:e.workflowInfo)==null?void 0:ue.permissions)==null?void 0:ne.can_view_document)==!0||(e==null?void 0:e.boxType)=="btcbox")&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowDocumentViewTab",children:t.jsx(ka,{canUpload:e==null?void 0:e.canUpload,allDocumentUploadStatus:z,setallDocumentUploadStatus:X,allDocumentVerifyStatus:K,handleChangeTabs:Se,api:e==null?void 0:e.api,id:A,applicationData:B,applicationData3:$,refresh:()=>se(ee+1),activateBottomErrorCard:Ie,isBtc:(e==null?void 0:e.boxType)=="btcbox"})})]})]})]}),t.jsx(Te,{isOpen:u,onRequestClose:ce,style:Ca,contentLabel:"Example Modal",children:t.jsxs("div",{style:{zIndex:1e4},class:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[t.jsx("button",{onClick:ce,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white"}),t.jsxs("div",{class:"p-6 text-center",children:[t.jsxs("div",{className:"w-full flex h-10",children:[" ",t.jsx("span",{className:`mx-auto text-${G=="Application Rejected Successfully"?"red":"green"}-500 text-xl font-semibold`,children:t.jsx(Et,{size:30})})]}),t.jsx("h3",{className:`mb-5 text-lg font-semibold ${G=="Application Rejected Successfully"?"text-red-500":"text-green-600"} dark:text-gray-400`,children:G}),t.jsx("button",{type:"button",className:"text-white bg-green-400  hover:bg-sky-800 focus:ring-4 focus:outline-none focus:ring-sky-300 dark:focus:ring-sky-800 font-medium rounded-lg text-sm inline-flex items-center px-8 py-2.5 text-center mr-2",onClick:ce,children:i("mainHoldingPage.propIndexDoPgBck.label")}),G!=="Application Rejected Successfully"?t.jsx("button",{className:"text-white bg-cyan-700  hover:bg-sky-800 focus:ring-4 focus:outline-none focus:ring-sky-300 dark:focus:ring-sky-800 font-medium rounded-lg text-sm inline-flex items-center px-8 py-2.5 text-center mr-2",children:t.jsx(da,{to:`/holdingPropertyDetails/${W==null?void 0:W.propId}`,children:" View Property"})}):null]})]})})]})}function Nt(e){const{children:i,value:u,index:P,...C}=e;return t.jsx("div",{role:"tabpanel",hidden:u!==P,id:`simple-tabpanel-${P}`,"aria-labelledby":`simple-tab-${P}`,...C,children:u===P&&t.jsx(bt,{sx:{p:3},children:t.jsx(na,{children:i})})})}Nt.propTypes={children:xt.node,index:xt.number.isRequired,value:xt.number.isRequired};function Tt(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function za(e){var oe,q,_,p,$,Y,ge;const{t:i}=nt();Jt();const[u,P]=l.useState(0),[C,U]=l.useState(""),[I,V]=l.useState(""),G=(O,B)=>{P(B)},v=(O,B)=>{U(O),G(O,1),V(B)};return t.jsx(t.Fragment,{children:t.jsxs(bt,{sx:{width:"100%",paddingLeft:"20px"},children:[t.jsx(bt,{sx:{borderBottom:1,borderColor:"divider"},children:t.jsxs(la,{value:u,onChange:G,"aria-label":"basic tabs example",children:[t.jsx(Ft,{label:`${i("mainHoldingPage.propIndexBtnLst.label")}`,...Tt(0)}),t.jsx(Ft,{label:`${i("mainHoldingPage.propIndexBtnDtls.label")}`,...Tt(1)}),t.jsxs("div",{className:"text-right float-right absolute right-4 top-4 text-white justify-center flex gap-4",children:[(e==null?void 0:e.isSpecial)&&t.jsx("div",{className:" items-center",children:t.jsxs("span",{className:"bg-yellow-600 px-4 shadow-lg font-mono font-semibold italic rounded-l-xl",children:[" ",t.jsx(Gt,{className:"inline text-red-100 animate-bounce"})," special"]})}),t.jsx("div",{})]})]})}),t.jsxs(Nt,{value:u,index:0,children:[e.boxType=="inbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowInboxList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(oe=e==null?void 0:e.api)==null?void 0:oe.api_inboxList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:v})}),e.boxType=="outbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowOutboxList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(q=e==null?void 0:e.api)==null?void 0:q.api_outboxList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:v})}),e.boxType=="specialbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowSpecialList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(_=e==null?void 0:e.api)==null?void 0:_.api_specialList,COLUMNS:e==null?void 0:e.COLUMNS,boxType:e.boxType,fun:v})}),e.boxType=="btcbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowBtcList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:(p=e==null?void 0:e.api)==null?void 0:p.apt_btcList,boxType:e.boxType,COLUMNS:e==null?void 0:e.COLUMNS,fun:v})}),e.boxType=="fieldbox"&&t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowFieldVerificationList",children:t.jsx(ht,{fetchWorkflowPermission:e==null?void 0:e.fetchWorkflowPermission,api:($=e==null?void 0:e.api)==null?void 0:$.api_fieldVerificationList,boxType:e.boxType,COLUMNS:e==null?void 0:e.COLUMNS,fun:v})})]}),t.jsx(Nt,{value:u,index:1,children:t.jsx(Xe,{errorMsg:"Bug in PilotWorkflowTabs",children:t.jsx(_a,{assessmentType:I,canUpload:(ge=(Y=e==null?void 0:e.workflowInfo)==null?void 0:Y.permissions)==null?void 0:ge.can_upload_document,tabIndex:e==null?void 0:e.tabIndex,workflow:e==null?void 0:e.workflow,workflowInfo:e==null?void 0:e.workflowInfo,api:e==null?void 0:e.api,fun:G,id:C,members:e.workflowCandidates,customTabs:e==null?void 0:e.customTabs,boxType:e.boxType,boxTypeFun:e.boxType=="outbox"})})})]})})}export{za as P};
