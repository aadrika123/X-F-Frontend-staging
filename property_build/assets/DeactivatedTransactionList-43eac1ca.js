import{_ as U}from"./jspdfAutotable-996315cc.js";import{a as s,D as T,J as $,p as J,Q as B,j as e,I as G,a2 as K}from"./react-2b0b979a.js";import{f as X,g as _,u as ee,k as ae,A as h,a as f,P as te,s as o,i as le}from"./index-17ffab0d.js";import{h as v}from"./moment-56196fff.js";import"./dateFns-d8bde0f9.js";import"./material-d4b16f21.js";import"./mui-21ea0068.js";import"./reactEmotion-f996df66.js";import"./chart-475af344.js";import"./router-00804812.js";import"./lodash-612f78cf.js";import"./axios-ab898d10.js";/* empty css                */import"./html2canvas-71958c39.js";import"./i18next-9a95e6a2.js";const se=s.lazy(()=>U(()=>import("./index-17ffab0d.js").then(j=>j.bf),["assets/index-17ffab0d.js","assets/react-2b0b979a.js","assets/material-d4b16f21.js","assets/dateFns-d8bde0f9.js","assets/jspdfAutotable-996315cc.js","assets/mui-21ea0068.js","assets/reactEmotion-f996df66.js","assets/chart-475af344.js","assets/react-309cf0b5.css","assets/router-00804812.js","assets/lodash-612f78cf.js","assets/axios-ab898d10.js","assets/moment-56196fff.js","assets/html2canvas-71958c39.js","assets/i18next-9a95e6a2.js","assets/index-e038d7e6.css","assets/animate-2d4c25b0.css"])),Te=()=>{s.useRef();const[j,N]=s.useState(null),[ne,I]=s.useState(""),[re,P]=s.useState("");s.useState(null),s.useState(null),s.useState("");const[M,c]=s.useState(!1),[oe,g]=s.useState(!1),[de,L]=s.useState(!1),[ce,H]=s.useState(""),[b,z]=s.useState(null);T(),s.useState(""),s.useState(null),s.useRef(),T();const{t:n}=$();J(),s.useState("null");const[x,E]=s.useState([]);let O=new Date().toLocaleDateString("in-IN"),D=v(O).format("DD-MM-YYYY");const[m,F]=s.useState([]);s.useState(!0),s.useState();const[q,k]=s.useState(0),d="form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",{collectionReportDaily:ie,searchTransaction:ue,get_collectorList:Z,api_newWardByZoneId:R,api_filterPropertyDetails:xe,tranDeactivedList:w}=te(),p=(a,l)=>{L(a),H(l)},W=X({fromDate:_().required("Field Required"),uptoDate:_().required("Field Required")});ee("Deactivated Transaction");const t=ae({initialValues:{fromDate:v(new Date).format("yy-MM-DD"),uptoDate:v(new Date).format("yy-MM-DD"),paymentMode:"",zoneId:"",wardId:"",userId:"",transactionNo:"",tranType:""},onSubmit:a=>{y(),z(a),k(l=>l+1)},validationSchema:W}),y=()=>{c(!0);let a={fromDate:t.values.fromDate,uptoDate:t.values.uptoDate,paymentMode:t.values.paymentMode,zoneId:t.values.zoneId,wardId:t.values.wardId,userId:t.values.userId,transactionNo:t.values.tranNo,tranType:t.values.selectedModuleOption};h.post(w,a,f()).then(l=>{var r,i,u,C,S;(r=l==null?void 0:l.data)!=null&&r.status?N((u=(i=l==null?void 0:l.data)==null?void 0:i.data)==null?void 0:u.data):(p(!0,(C=l==null?void 0:l.data)==null?void 0:C.message),B.error((S=l==null?void 0:l.data)==null?void 0:S.message)),c(!1)}).catch(l=>{p(!0,"Oops! Something went wrong."),B.error("Oops! Something went wrong."),c(!1)})};s.useEffect(()=>{y()},[]);const V=a=>{c(!0),t.setFieldValue("wardId","");let l={zoneId:a};h.post(R,l,f()).then(function(r){E(r.data.data),c(!1)}).catch(function(r){c(!1)})},Y=a=>{c(!0),t.setFieldValue("wardId","");let l={userId:t.values.userId};h.post(Z,l,f()).then(r=>{var i,u;((i=r==null?void 0:r.data)==null?void 0:i.status)==!0&&F((u=r==null?void 0:r.data)==null?void 0:u.data),g(!1)}).catch(r=>g(!1))};s.useEffect(()=>{Y()},[]);const Q=[{Header:"Zone",accessor:"zone_name",Cell:({cell:a})=>e.jsxs("div",{children:[e.jsx("span",{children:a.row.original.zone_name=="A"&&"A-East Zone"}),e.jsx("span",{children:a.row.original.zone_name=="B"&&"B-West Zone"}),e.jsx("span",{children:a.row.original.zone_name=="C"&&"C-North Zone"}),e.jsx("span",{children:a.row.original.zone_name=="D"&&"D-South Zone"})]})},{Header:"Ward No.",accessor:"ward_name",Cell:a=>o(a==null?void 0:a.value)},{Header:"Holding No.",accessor:"app_no",Cell:a=>o(a==null?void 0:a.value)},{Header:"Application No.",accessor:"application_no",Cell:a=>o(a==null?void 0:a.value)},{Header:"Tran. No.",accessor:"tran_no",Cell:a=>o(a==null?void 0:a.value)},{Header:"Tran. Date",accessor:"tran_date",Cell:a=>o(a==null?void 0:a.value)},{Header:"Tran. Mode",accessor:"payment_mode",Cell:a=>o(a==null?void 0:a.value)},{Header:"Cheque/DD No.",accessor:"cheque_no",Cell:a=>o(a==null?void 0:a.value)},{Header:"Bank Name",accessor:"bank_name",Cell:a=>o(a==null?void 0:a.value)},{Header:"Branch Name",accessor:"branch_name",Cell:a=>o(a==null?void 0:a.value)},{Header:"Deactive Date",accessor:"deactive_date",Cell:a=>o(a==null?void 0:a.value)},{Header:"Deactive Reason",accessor:"reason",Cell:a=>o(a==null?void 0:a.value)},{Header:"Deactive By",accessor:"tran_deactivated_by",Cell:a=>o(a==null?void 0:a.value)},{Header:"Amount",accessor:"amount",Cell:a=>le(a==null?void 0:a.value)}];s.useEffect(()=>{},[]);const A=a=>{let l=a.target.name,r=a.target.value;l=="zoneId"&&V(r)};return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onChange:t.handleChange,onSubmit:t.handleSubmit,className:"mb-4 bg-white shadow-lg rounded-md ",children:[e.jsx("h1",{className:"text-xl w-full font-bold px-8 pt-4 text-gray-700",children:"Search Deactivated Transaction"}),e.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[e.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[e.jsxs("div",{className:"col-span-6 font-semibold",children:[n("tranActualTaxBillPage.fromDate.label")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"col-span-6",children:e.jsx("input",{type:"date",name:"fromDate",value:t.values.fromDate,id:"fromDate",className:d,defaultValue:D})}),e.jsx("div",{className:"col-span-12 text-end",children:t.touched.fromDate&&t.errors.fromDate&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-red-600 text-xs",children:t.errors.fromDate})})})]}),e.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[e.jsxs("div",{className:"col-span-6 font-semibold",children:[n("tranActualTaxBillPage.uptoDate.label")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"col-span-6",children:e.jsx("input",{type:"date",name:"uptoDate",value:t.values.uptoDate,id:"uptoDate",className:d,defaultValue:D})}),e.jsx("div",{className:"col-span-12 text-end",children:t.touched.uptoDate&&t.errors.uptoDate&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-red-600 text-xs",children:t.errors.uptoDate})})})]}),e.jsxs("div",{className:'className="flex flex-col w-full md:w-[20%]',children:[e.jsxs("div",{className:"col-span-6 font-semibold",children:[n("tranActualTaxBillPage.zoneLabel.label"),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"zoneId",onChange:A,className:d,children:[e.jsx("option",{value:"",children:n("tranActualTaxBillPage.AllZones.label")}),e.jsx("option",{value:"1",children:n("tranActualTaxBillPage.ZoneAEast.label")}),e.jsx("option",{value:"2",children:n("tranActualTaxBillPage.ZoneBWest.label")}),e.jsx("option",{value:"3",children:n("tranActualTaxBillPage.ZoneCNorth.label")}),e.jsx("option",{value:"4",children:n("tranActualTaxBillPage.ZoneDSouth.label")})]}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.zoneId&&t.errors.zoneId?t.errors.zoneId:null})]}),e.jsxs("div",{className:'className="flex flex-col w-full md:w-[20%]',children:[e.jsxs("div",{className:"col-span-6 font-semibold",children:[n("tranActualTaxBillPage.wardNoLabel.label"),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"wardId",onChange:A,className:d,children:[e.jsx("option",{value:"",children:n("tranActualTaxBillPage.AllWard.label")}),x==null?void 0:x.map((a,l)=>e.jsx("option",{value:a.id,children:a.ward_name},l))]}),e.jsx("p",{className:"text-red-500 text-xs",children:t.touched.wardNo&&t.errors.wardNo?t.errors.wardNo:null})]}),e.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[e.jsx("div",{className:"col-span-6 font-semibold",children:n("tranActualTaxBillPage.paymentMode.label")}),e.jsx("div",{className:"col-span-6",children:e.jsxs("select",{name:"paymentMode",id:"",onChange:t.handleChange,className:d,children:[e.jsx("option",{value:"ALL",children:n("tranActualTaxBillPage.All.label")}),e.jsx("option",{value:"CASH",children:n("tranActualTaxBillPage.Cash.label")}),e.jsx("option",{value:"CHEQUE",children:n("tranActualTaxBillPage.Cheque.label")}),e.jsx("option",{value:"DD",children:n("tranActualTaxBillPage.DD.label")}),e.jsx("option",{value:"ONLINE",children:n("tranActualTaxBillPage.Online.label")})]})})]}),e.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[e.jsx("div",{className:"col-span-6 font-semibold",children:n("tranActualTaxBillPage.collectorName.label")}),e.jsx("div",{className:"col-span-6",children:e.jsxs("select",{name:"userId",id:"",className:d,onChange:t.handleChange,children:[e.jsx("option",{value:"",children:n("tranActualTaxBillPage.All.label")}),m==null?void 0:m.map(a=>e.jsx(e.Fragment,{children:e.jsx("option",{value:a==null?void 0:a.id,children:e.jsx("span",{className:"capitalize",children:a==null?void 0:a.user_name})})}))]})})]}),e.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[e.jsxs("div",{className:"col-span-12 md:col-span-6 font-semibold",children:["Module Name",e.jsx("span",{className:"text-red-500 text-xs",children:"*"})]}),e.jsxs("select",{value:t.values.selectedModuleOption,name:"selectedModuleOption",onChange:a=>P(a.target.value),className:d,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Property",children:"Property"}),e.jsx("option",{value:"Water",children:"Water"}),e.jsx("option",{value:"Trade",children:"Trade"})]}),e.jsx("div",{className:"col-span-12 text-end",children:t.touched.selectedModuleOption&&t.errors.selectedModuleOption&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-red-600 text-xs",children:t.errors.selectedModuleOption})})})]}),e.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[e.jsxs("div",{className:"col-span-12 md:col-span-6 font-semibold",children:["Transaction No.",e.jsx("span",{className:"text-red-500 text-xs",children:"*"})]}),e.jsx("div",{className:"col-span-12 md:col-span-6",children:e.jsx("input",{type:"text",value:t.values.tranNo,name:"tranNo",tranNo:a=>I(a.target.value),id:"",className:d})}),e.jsx("div",{className:"col-span-12 text-end",children:t.touched.tranNo&&t.errors.tranNo&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-red-600 text-xs",children:t.errors.tranNo})})})]}),e.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-end",children:M?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-start items-end",children:e.jsx(G,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):e.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",e.jsx("span",{className:"mr-2",children:e.jsx(K,{})})," ",n("tranActualTaxBillPage.searchLabel.label")]})})]})]}),e.jsx("div",{className:"mt-10",children:b!==null?e.jsx(se,{getData:!0,allData:a=>N(a),type:"old",api:w,columns:Q,requestBody:b,changeData:q}):e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 text-center rounded relative mt-2",children:e.jsx("span",{className:"block sm:inline",children:"No any transaction found today."})})})]})};export{Te as default};
