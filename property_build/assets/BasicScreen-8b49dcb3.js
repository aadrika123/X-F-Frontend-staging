import{D as k,a as x,j as a,aL as $,aD as q,aM as G}from"./react-2b0b979a.js";import{D as c,i as z,n as i,A as M,a as O,N as J}from"./index-17ffab0d.js";import{C as K,A as Q,p as U,a as V}from"./chart-475af344.js";K.register(Q,U,V);function X(t){var d;const{id:E,type:m}=k(),[L,A]=x.useState(),[l,n]=x.useState();x.useEffect(()=>{var r,T,C,f,h,u,y;m=="saf"?(A([c((r=t==null?void 0:t.data)==null?void 0:r.lateAssessmentPenalty),c((T=t==null?void 0:t.data)==null?void 0:T.additionalTax),c((C=t==null?void 0:t.data)==null?void 0:C.totalOnePercPenalty),c((f=t==null?void 0:t.data)==null?void 0:f.totalTax)]),n(["Late Assesment Penalty","RWH Penalty","1% Penalty","Total Tax"])):(A([c((h=t==null?void 0:t.data)==null?void 0:h.additionalTax),c((u=t==null?void 0:t.data)==null?void 0:u.onePercPenalty),c((y=t==null?void 0:t.data)==null?void 0:y.totalDues)]),n(["RWH Penalty","1% Penalty","Total Tax"]))},[m,t==null?void 0:t.data]);const B={responsive:!0,animation:{duration:2e3},plugins:{legend:{position:"bottom"}}},s={labels:l,datasets:[{label:"Demand Details (â‚¹)",data:L,backgroundColor:["#EC4456","#22C55E","#6366F1","#EC4899"]}]};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"relative h-[50vh] flex ",children:[a.jsxs("div",{className:"text-xs absolute top-[42%] left-[42%] flex flex-col justify-center items-center",children:[a.jsx("span",{className:"font-semibold text-sm",children:z((d=t==null?void 0:t.data)==null?void 0:d.payableAmount)}),a.jsx("span",{children:"Total Dues"})]}),a.jsx($,{data:s,options:B,className:" h-[15rem]"})]})})}const aa=t=>{var f,h,u,y,S,D,H,I,F,R,W;const{id:E,type:m}=k(),{api_getsafDemandById:L,api_getHoldingDemandById:A}=J(),[l,n]=x.useState(),[B,s]=x.useState(!1),[d,r]=x.useState([]),T=()=>{s(!0),M.post(`${A}`,{propId:E},O()).then(function(e){var g,v,j,N,b,o,w,_,P;(g=e==null?void 0:e.data)!=null&&g.status?(n((v=e==null?void 0:e.data)==null?void 0:v.data),t==null||t.demand((N=(j=e==null?void 0:e.data)==null?void 0:j.data)==null?void 0:N.demandList),r((o=(b=e==null?void 0:e.data)==null?void 0:b.data)==null?void 0:o.duesList),t==null||t.dueList((_=(w=e==null?void 0:e.data)==null?void 0:w.data)==null?void 0:_.duesList)):t==null||t.activateBottomErrorCard(!0,(P=e==null?void 0:e.data)==null?void 0:P.message),s(!1)}).catch(function(e){t==null||t.activateBottomErrorCard(!0,"Please try again later !!!"),s(!1)})},C=()=>{s(!0),M.post(L,{id:E},O()).then(function(e){var g,v,j,N,b,o,w,_,P;(g=e==null?void 0:e.data)!=null&&g.status?(n((v=e==null?void 0:e.data)==null?void 0:v.data),t==null||t.demand((N=(j=e==null?void 0:e.data)==null?void 0:j.data)==null?void 0:N.details),r((o=(b=e==null?void 0:e.data)==null?void 0:b.data)==null?void 0:o.amounts),t==null||t.dueList((_=(w=e==null?void 0:e.data)==null?void 0:w.data)==null?void 0:_.amounts)):t==null||t.activateBottomErrorCard(!0,(P=e==null?void 0:e.data)==null?void 0:P.message),s(!1)}).catch(function(e){t==null||t.activateBottomErrorCard(!0,"Please try again later !!!"),s(!1)})};return x.useEffect(()=>{m=="saf"?C():T()},[m]),B?a.jsx(a.Fragment,{children:a.jsxs("div",{className:"my-4 w-screen flex-col items-center justify-center",children:[a.jsx(q,{radius:"9",color:"#4338ca",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0}),a.jsx("span",{className:"italic",children:"Application Details Fetching..."})," "]})}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"w-full mb-6 mt-4 flex flex-row flex-wrap gap-4 h-max ",children:[a.jsxs("div",{className:"w-full  md:w-[49%] p-4 flex flex-wrap gap-0 bg-white border-2 border-indigo-200 shadow-lg shadow-indigo-200  animate__animated animate__fadeInLeft transition-all duration-200 ease-in-out ",children:[a.jsxs("div",{className:"w-full font-semibold border-b-2 flex justify-between items-center pb-2 md:pb-0",children:[a.jsxs("div",{className:"flex gap-2 items-center text-xl text-indigo-500",children:[a.jsx("span",{className:"text-blue-600",children:a.jsx(G,{})})," Basic Details"]}),a.jsx("div",{className:"text-xs font-normal w-1/2 flex justify-end items-center",children:a.jsxs("div",{className:"w-max rounded-md border-l-2 border-r-2 bg-green-50 px-4 border-green-400 py-2  transition-all duration-200 ",children:["Current Demand: ",a.jsx("span",{className:"font-semibold text-md",children:z(d==null?void 0:d.payableAmount)})]})})]}),m=="saf"?a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((f=l==null?void 0:l.basicDetails)==null?void 0:f.saf_no)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"SAF No."})]}):a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((h=l==null?void 0:l.basicDetails)==null?void 0:h.holding_no)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Holding No."})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((u=l==null?void 0:l.basicDetails)==null?void 0:u.old_ward_no)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Ward No."})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((y=l==null?void 0:l.basicDetails)==null?void 0:y.old_ward_no)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"New Ward No"})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((S=l==null?void 0:l.basicDetails)==null?void 0:S.ownership_type)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Ownership Type"})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((D=l==null?void 0:l.basicDetails)==null?void 0:D.property_type)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Property Type"})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((H=l==null?void 0:l.basicDetails)==null?void 0:H.holding_type)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Holding Type"})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((I=l==null?void 0:l.basicDetails)==null?void 0:I.is_mobile_tower)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Property has Mobile Tower(s) ?"})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsxs("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:[i((F=l==null?void 0:l.basicDetails)==null?void 0:F.is_hoarding_board)," "]}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Property has Hoarding Board(s) ?"})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((R=l==null?void 0:l.basicDetails)==null?void 0:R.is_petrol_pump)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Is property a Petrol Pump ?"})]}),a.jsxs("div",{className:"w-1/2 flex flex-col-reverse my-1 md:my-0",children:[a.jsx("div",{className:"text-gray-800 uppercase font-semibold text-sm",children:i((W=l==null?void 0:l.basicDetails)==null?void 0:W.is_water_harvesting)}),a.jsx("div",{className:"text-gray-700 text-xs",children:"Rainwater harvesting provision ?"})]})]}),a.jsx("div",{className:"w-full md:w-[49%]   flex justify-center items-center py-4 animate__animated animate__fadeInRight transition-all duration-200 ease-in-out ",children:a.jsx(X,{data:d})})]})})};export{aa as B};
