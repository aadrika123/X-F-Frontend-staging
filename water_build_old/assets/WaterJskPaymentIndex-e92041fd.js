import{l as o,y as H,m as Q,z as $,W as V,B as U,D as v,E as K,q as G,j as e,o as W,a4 as X,k as t,G as J,a5 as Y,a6 as Z,x as D,v as F,A as ee}from"./index-87ab868f.js";function re(s){const[T,j]=o.useState(""),[y,r]=o.useState("no");o.useState();const[w,B]=o.useState(),[z,L]=o.useState(0),[O,m]=o.useState();o.useState();const[k,b]=o.useState(!1),{notify:x}=o.useContext(H);o.useState(!1),o.useState(!1);const[p,_]=o.useState(!1),C=Q(),c=s==null?void 0:s.data,i=s==null?void 0:s.installment,S=s==null?void 0:s.applicationId,I=s==null?void 0:s.connCat,g=s==null?void 0:s.amount;$("Payment Page");const{api_waterPayConnectionCharges:M,header:A}=V(),P=U({paymentMode:v().required("select payment mode"),remarks:v().required("Enter remarks"),branchName:v(),cheque_dd_no:v(),cheque_dd_date:v()}),d=K({enableReinitialize:!0,initialValues:{paymentMode:"",remarks:"",bankName:"",branchName:"",cheque_dd_no:"",cheque_dd_date:"",applicationId:S,chargeCategory:I,selectInstallment:"",isInstallmentRadio:"no"},onSubmit:(a,l)=>{q(a),b(!0)},validationSchema:P}),N=()=>{_(!p)},q=a=>{console.log("items",a);const l={paymentMode:a==null?void 0:a.paymentMode,remarks:a==null?void 0:a.remarks,bankName:a==null?void 0:a.bankName,branchName:a==null?void 0:a.branchName,chequeNo:a==null?void 0:a.cheque_dd_no,chequeDate:a==null?void 0:a.cheque_dd_date,amount:g,isInstallment:y,penaltyAmount:c==null?void 0:c.penalty,applicationId:a==null?void 0:a.applicationId,penaltyIds:O,chargeCategory:a==null?void 0:a.chargeCategory};console.log("Final Payload",l),G.post(M,l,A).then(n=>{var u,f,h;((u=n==null?void 0:n.data)==null?void 0:u.status)==!0?(b(!1),C(`/water-payment-receipt/${(h=(f=n==null?void 0:n.data)==null?void 0:f.data)==null?void 0:h.tranNo}/application`),console.log("Payment Done",n),x("Payment Done Successfully","success")):(b(!1),x("Error While Payment","error"))}).catch(n=>{b(!1),x("Something Went Wrong","error"),console.log("Expecption while payment",n)})},E=a=>{console.log("This..",a.target.selectedIndex,i[0].id),a.target.selectedIndex==1&&m([i[0].id]),a.target.selectedIndex==2&&m([i[0].id,i[1].id]),a.target.selectedIndex==3&&(m([i[0].id,i[1].id,i[2].id]),r("no"),m(void 0))},R=a=>{let l=a.target.name,n=a.target.value;console.log(l,n),l=="paymentMode"&&B(n),l=="selectInstallment"&&E(a),l=="selectInstallment"&&a.target.selectedIndex==3&&r("no"),l=="selectInstallment"&&L(Number(n)),l=="isInstallmentRadio"&&r(a.target.value)};return T==!0?e(W,{children:e(X,{})}):(console.log("connId",s.connId),t(W,{children:[k&&e(J,{}),e(Y,{position:"top-right",autoClose:2e3}),e("div",{className:" block p-4 mt-4 w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto  overflow-x-auto mb-20 ",children:e("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto ",children:t("form",{onSubmit:d.handleSubmit,onChange:R,className:"p-4 relative",children:[(c==null?void 0:c.chargeCatagoryId)===2&&(c==null?void 0:c.paidStatus)==0&&e("div",{className:"text-center text-green-600 font-semibold pb-2",children:"Note: 10% rebate on penalty in case whole penalty is paid"}),t("div",{className:"grid grid-cols-12",children:[t("div",{className:"bg-white col-span-12 grid grid-cols-12 pt-6 mb-4 border border-gray-200",children:[t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[e("span",{children:"Connection Fee :"})," ",e("span",{className:"font-mono font-semibold",children:g})]}),e("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:t("div",{className:"w-full",children:[e("span",{children:"Total Payable Amount :"})," ",t("span",{className:"font-mono font-semibold text-xl",children:[" ₹",g]})]})})]}),t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),t("select",{...d.getFieldProps("paymentMode"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),e("option",{value:"CASH",children:"Cash"}),e("option",{value:"CHEQUE",children:"Cheque"}),e("option",{value:"DD",children:"DD"})]}),e("span",{className:"text-red-600 absolute text-xs",children:d.touched.paymentMode&&d.errors.paymentMode?d.errors.paymentMode:null})]}),t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Remarks"]}),e("input",{...d.getFieldProps("remarks"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter remarks"}),e("span",{className:"text-red-600 absolute text-xs",children:d.touched.remarks&&d.errors.remarks?d.errors.remarks:null})]}),(w=="CHEQUE"||w=="DD")&&t(W,{children:[t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),e("input",{...d.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter Bank Name."}),e("span",{className:"text-red-600 absolute text-xs",children:d.touched.bankName&&d.errors.bankName?d.errors.bankName:null})]}),t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),e("input",{...d.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter Branch Name"}),e("span",{className:"text-red-600 absolute text-xs",children:d.touched.branchName&&d.errors.branchName?d.errors.branchName:null})]}),t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No"]}),e("input",{...d.getFieldProps("cheque_dd_no"),type:"text",placeholder:"Enter Check/DD",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("span",{className:"text-red-600 absolute text-xs",children:d.touched.cheque_dd_no&&d.errors.cheque_dd_no?d.errors.cheque_dd_no:null})]}),t("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[e("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD Date"]}),e("input",{...d.getFieldProps("cheque_dd_date"),type:"date",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",placeholder:"Enter new ward no."}),e("span",{className:"text-red-600 absolute text-xs",children:d.touched.cheque_dd_date&&d.errors.cheque_dd_date?d.errors.cheque_dd_date:null})]})]}),e("div",{className:"col-span-12"}),e("div",{className:"col-span-12 grid grid-cols-2 mt-10",children:e("div",{className:""})})]}),t("div",{children:[e("div",{className:"",children:e("h1",{className:"underline text-1xl text-blue-600 cursor-pointer font-semibold",onClick:N,children:"View Rate Chart"})}),e("div",{className:"md:pl-10 flex justify-between",children:e("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer ml-[80%]",children:"Pay Tax"})}),p&&t("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e("div",{className:"absolute inset-0 bg-black opacity-50"}),e("div",{className:"bg-white p-7 rounded-lg shadow-md relative z-10",children:t("div",{children:[e("button",{onClick:N,className:" text-black underline ml-[98%] text-2xl bg-gray-300 hover:bg-red-500",children:e(Z,{})}),t("div",{children:[e("h2",{className:"text-xl font-bold mb-4 text-center text-gray-800",children:"Tap Size Wise Rate Chart"}),t("table",{className:"w-full text-sm font-semibold border-collapse border border-gray-300 shadow-lg",children:[e("thead",{children:t("tr",{className:"bg-gray-200 text-center",children:[e("th",{className:"px-4 py-2 border border-gray-300",children:"Sl.No."}),e("th",{className:"px-4 py-2 border border-gray-300",children:"Charge Category"}),e("th",{className:"px-4 py-2 border border-gray-300",children:"15 MM"}),e("th",{className:"px-4 py-2 border border-gray-300",children:"20 MM"}),e("th",{className:"px-4 py-2 border border-gray-300",children:"25 MM"}),e("th",{className:"px-4 py-2 border border-gray-300",children:"50 MM"})]})}),t("tbody",{children:[t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"1"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Anamat Amount"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹1,500"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹3,000"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹9,000"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹20,000"})]}),t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"2"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Bore Charge"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"})]}),t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"3"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Inspection Fee"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹500"})]}),t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"4"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Pipe Connection Charge"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹750"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹750"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹750"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹750"})]}),t("tr",{className:"bg-gray-200 font-bold text-gray-900",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"5"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"TOTAL"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹3,250"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹4,750"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹10,750"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹21,750"})]})]})]})]}),t("table",{className:"w-full text-sm font-semibold border-collapse border border-gray-300 mt-1",children:[t("thead",{children:[e("tr",{className:"bg-gray-200 text-center",children:e("th",{className:"px-6 py-1 border border-gray-300 text-lg",colSpan:"3",children:"Road Cutter Charge"})}),t("tr",{className:"bg-gray-100 text-gray-700",children:[e("th",{className:"px-4 py-2 border border-gray-300",children:"Sl.No."}),e("th",{className:"px-4 py-2 border border-gray-300",children:"Road Type"}),e("th",{className:"px-4 py-2 border border-gray-300",children:"Amount"})]})]}),t("tbody",{children:[t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"1"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Damber Road (Per Meter)"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹1,500"})]}),t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"2"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Concrete Road (Per Meter)"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹2,300"})]}),t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"3"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Khadikaran Road (Per Meter)"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹300"})]}),t("tr",{className:"hover:bg-gray-50",children:[e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"4"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"Muddy Road (Per Meter)"}),e("td",{className:"px-4 py-2 border border-gray-300 text-center",children:"₹80"})]})]})]})]})})]})]})]})})})]}))}function ae(s){var m,k,b,x,p,_,C,c,i,S,I,g,M,A,P,d,N,q,E,R,a,l,n,u,f;const{t:T}=D(),[j,y]=o.useState(!1),[r,w]=o.useState(),{id:B}=F(),{notify:z}=o.useContext(H),{api_WaterGetDetailsById:L}=V();$(`${T("tranWaterHomePage.waterApplicationPaymentLabel.label")}`);const O=()=>{y(!0),console.log("before fetch property details in deactivation"),G.post(L,{applicationId:B},ee()).then(function(h){console.log("view water details by id...",h.data.data),w(h.data.data),y(!1)}).catch(function(h){console.log("==2 details by id error...",h),y(!1),z("Something Went Wrong","error")})};return o.useEffect(()=>{O()},[]),console.log("applicationFullData?.applicationDetails",(m=r==null?void 0:r.applicationDetails)==null?void 0:m.connection_type_id),t(W,{children:[j&&e(J,{}),e("div",{className:"w-full bg-white shadow-xl mb-6",children:e("div",{className:"",children:t("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-lg p-4",children:[t("div",{className:"flex space-x-5 pl-4 ",children:[t("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(k=r==null?void 0:r.applicationDetails)!=null&&k.application_no?(b=r==null?void 0:r.applicationDetails)==null?void 0:b.application_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Application No"})]}),t("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(x=r==null?void 0:r.applicationDetails)!=null&&x.category?(p=r==null?void 0:r.applicationDetails)==null?void 0:p.category:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Category"})]}),t("div",{className:"flex-1",children:[t("div",{className:"font-semibold text-md",children:[(_=r==null?void 0:r.applicationDetails)!=null&&_.address?(C=r==null?void 0:r.applicationDetails)==null?void 0:C.address:"N/A"," "]}),e("div",{className:"text-gray-500 text-xs",children:"Address"})]}),t("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(c=r==null?void 0:r.applicationDetails)!=null&&c.charge_category?(i=r==null?void 0:r.applicationDetails)==null?void 0:i.charge_category:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Charge Category"})]}),t("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(S=r==null?void 0:r.applicationDetails)!=null&&S.property_no?(I=r==null?void 0:r.applicationDetails)==null?void 0:I.property_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Property No"})]})]}),t("div",{className:"flex space-x-10  pl-4 mt-4",children:[t("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(g=r==null?void 0:r.applicationDetails)!=null&&g.mobile_no?(M=r==null?void 0:r.applicationDetails)==null?void 0:M.mobile_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Mobile No"})]}),t("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(A=r==null?void 0:r.applicationDetails)!=null&&A.apply_date?(P=r==null?void 0:r.applicationDetails)==null?void 0:P.apply_date:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Apply Date"})]}),t("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(d=r==null?void 0:r.applicationDetails)!=null&&d.landmark?(N=r==null?void 0:r.applicationDetails)==null?void 0:N.landmark:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Land Mark"})]}),t("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(q=r==null?void 0:r.applicationDetails)!=null&&q.amount?(E=r==null?void 0:r.applicationDetails)==null?void 0:E.amount:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Amount"})]}),t("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(R=r==null?void 0:r.applicationDetails)!=null&&R.building_type?(a=r==null?void 0:r.applicationDetails)==null?void 0:a.building_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Building Type"})]})]})]})})}),e("div",{children:e(re,{amount:(l=r==null?void 0:r.applicationDetails)==null?void 0:l.amount,connId:(n=r==null?void 0:r.applicationDetails)==null?void 0:n.connection_type_id,connCat:(u=r==null?void 0:r.applicationDetails)==null?void 0:u.connection_type,applicationId:(f=r==null?void 0:r.applicationDetails)==null?void 0:f.id,installment:r==null?void 0:r.penaltyInstallments,data:r==null?void 0:r.calculation})}),e("div",{className:"w-full h-40 md:none"})]})}export{ae as default};
