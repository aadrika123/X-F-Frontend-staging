import{c as M,b as R,m as L,j as e,I as E}from"./index-ABtNobbS.js";import{P as Z}from"./index-K1Uo3fNv.js";import{r as l}from"./tailwind-nPCoKmcy.js";import{T as z}from"./TextField-V1GwBDzF.js";import{e as q,d as t}from"./router-vSHQYlWC.js";import"./TranslateField-ZNAbS05X.js";import{S as G}from"./PaginationState-5abtER4d.js";import"./reactQuery-xwoMMF6K.js";import"./axios-lPgvryBG.js";import"./reactIcons-jqXmw8S_.js";import"./headlessui-kWR29u24.js";import"./formik.esm-feHG9Gj_.js";import"./customInputValidation-jhKsg103.js";import"./ArrowRightIcon-FriVY7EG.js";function ce(){var i,h,j,m,f,p,N,u,b,g;const d=q(),[x,I]=t.useState(new Date().toISOString().split("T")[0]),[o,B]=t.useState(new Date().toISOString().split("T")[0]),[n,F]=t.useState(1),[r,O]=t.useState(10),c=M(),a=R({api:(i=L)==null?void 0:i.ListTcVisit,config:{userId:(h=c==null?void 0:c.user)==null?void 0:h.id,fromDate:x,uptoDate:o,page:n,perPage:r},value:[n,r],options:{enabled:!0}}),V=()=>{a.refetch()};return a.isLoading?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(E,{})}):e.jsx(Z,{title:"Market Visiting List",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(l.Button,{color:"blue",size:"sm",className:"rounded-md py-1.5",onClick:()=>d("/amc-app/adv-municipal-rental/add-shop-visit"),children:e.jsx("small",{children:"Add New visit"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(z,{className:"w-full",label:"From Date",type:"date",value:x,onChange:s=>I(s.target.value)})}),e.jsx("div",{className:"w-full",children:e.jsx(z,{className:"w-full",label:"To Date",type:"date",value:o,onChange:s=>B(s.target.value)})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(l.Button,{onClick:()=>V(),className:"bg-blue-500 text-white px-3 py-1.5 rounded-md",children:e.jsx("h1",{className:"font-bold text-xs",children:"Search"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),((f=(m=(j=a==null?void 0:a.data)==null?void 0:j.data)==null?void 0:m.data)==null?void 0:f.length)>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"flex flex-wrap justify-between",children:[(u=(N=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:N.data)==null?void 0:u.map((s,H)=>{var v,y,w,A,D,S,k,C;return e.jsx(l.Card,{className:"w-full mb-5",children:e.jsxs(l.CardBody,{children:[e.jsx("div",{className:"flex items-center justify-between -mt-1",children:e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"font-bold text-xs",children:"Details"})})}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Owner name:"}),e.jsx("p",{className:"text-xs text-end",children:(v=s==null?void 0:s.shop_owner_name)!=null?v:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Allottee:"}),e.jsx("p",{className:"text-xs text-end",children:(y=s==null?void 0:s.allottee)!=null?y:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Shop type:"}),e.jsx("p",{className:"text-xs text-end",children:(w=s==null?void 0:s.shop_category)!=null?w:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Zone:"}),e.jsx("p",{className:"text-xs text-end",children:(A=s==null?void 0:s.zone)!=null?A:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Market name:"}),e.jsx("p",{className:"text-xs text-end",children:(D=s==null?void 0:s.market_name)!=null?D:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Mobile:"}),e.jsx("p",{className:"text-xs text-end truncate w-60",children:(S=s==null?void 0:s.mobile_no)!=null?S:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Remarks:"}),e.jsx("p",{className:"text-xs font-semibold whitespace-pre-wrap",children:(k=s==null?void 0:s.tc_remark)!=null?k:"NA"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-1 whitespace-pre-wrap",children:[e.jsx("h1",{className:"text-xs font-semibold",children:"Citizen Comment:"}),e.jsx("p",{className:"text-xs font-semibold",children:(C=s==null?void 0:s.citizen_remark)!=null?C:"NA"})]}),e.jsx("div",{className:"my-2 border-b-2 bg-indigo-800 text-blue-gray-600"}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(l.Button,{color:"green",size:"sm",onClick:()=>{var _,P,T,$;return d("/amc-app/water/tc-visit-map?consumer-no=".concat((_=s==null?void 0:s.consumer_no)!=null?_:"NA","&mobile-no=").concat((P=s==null?void 0:s.mobile_no)!=null?P:"NA","&name=").concat((T=s==null?void 0:s.applicant_name)!=null?T:"NA","&address=").concat(($=s==null?void 0:s.address)!=null?$:"NA","&lat=").concat(s==null?void 0:s.latitude,"&lng=").concat(s==null?void 0:s.longitude))},children:e.jsx("small",{children:"View Location"})})})]})},s==null?void 0:s.id)}),e.jsx(G,{page:n,setPage:F,perPage:r,setPerPage:O,noOfPage:(g=(b=a==null?void 0:a.data)==null?void 0:b.data)==null?void 0:g.last_page})]})}):e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-400",children:"No Data Found"})})]})})}export{ce as default};
