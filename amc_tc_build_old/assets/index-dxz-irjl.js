import{j as e,b as Ba,d as Ca,c as De,p as Qe,w as ka,S as Na,Q as G,I as qa}from"./index-TLHB8MJb.js";import{d as Ge,u as Sa,f as Ta,e as $a,r as wa}from"./router-vn-0iGwJ.js";import{u as Va,F as za}from"./formik.esm-ilDmhU_v.js";import{c as me,a as j,f as Ra,b as Fa}from"./index.esm-19LW8OGO.js";import{F as Aa}from"./FormProvider-TB4mpk7Q.js";import{T as V}from"./TextField-z1dBPyCl.js";import{S as k}from"./SelectField-6zAD91jo.js";import{R as C}from"./RadioButton-5duzTmYS.js";import"./index-9INnh4Fj.js";import{r as w}from"./tailwind-umh7vczy.js";import{P as Ia}from"./index-qLF931ix.js";import{u as La}from"./useErrorFocusFields-f_sEGw1K.js";import{O as Ya}from"./OverLayLoader-Mt5HoIPR.js";import{u as Wa}from"./usePathWisePermission-NUL2ZR7s.js";import"./reactQuery-VYMV1vFj.js";import"./reactQueryDevtools-6dm9iask.js";import"./axios-lPgvryBG.js";import"./reactIcons-lANGEfNm.js";import"./headlessui-pLs_kC1m.js";import"./customInputValidation-8tSUGdUh.js";import"./module-6gRLwyrl.js";const Ea=me().shape({floorNo:j().required("Floor No is required"),usagesTypeId:j().required("Usages Type is required"),occupancyTypeId:j().required("Occupancy Type is required"),rentAmount:j().when("occupancyTypeId",{is:B=>B==="2",then:()=>j().required("Rent Amount is required")}),rentAgreementDate:j().when("occupancyTypeId",{is:B=>B==="2",then:()=>j().required("Rent Agreement Date is required")}),constructionTypeId:j().required("Construction Type is required"),builtUpArea:j().required("Built Up Area is required"),dateFrom:j().required("Date From is required")});function Ua({open:B,setOpen:Je,addFloorData:p,masterData:A,safData:S}){var Xe,Ne,ve,fe,f,Q,d,b,X,F,we,a,Oe,Me,Fe,Ve,Ae,He,N,Pe,Be;const O=()=>Je(!B),q=Va({enableReinitialize:!0,initialValues:{floorNo:"",floorName:"",usagesTypeId:"",usagesTypeName:"",occupancyTypeId:"",occupancyTypeName:"",rentAmount:"",rentAgreementDate:"",constructionTypeId:"",constructionTypeName:"",builtUpArea:"",dateFrom:"",dateTo:""},validationSchema:Ea,onSubmit:(x,{resetForm:Ze})=>{var Ce;p.setFieldValue("addFloor",[...(Ce=p==null?void 0:p.values)==null?void 0:Ce.addFloor,x]),Ze(),O()}});return e.jsxs(Aa,{formik:q,children:[B&&e.jsx("div",{onClick:O,className:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40"}),e.jsx("div",{id:"authentication-modal",tabIndex:-1,"aria-hidden":"true",className:"".concat(B?"flex":"hidden"," overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"),children:e.jsx("div",{className:"relative p-4 w-full max-w-md max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Floor"}),e.jsxs("button",{onClick:O,type:"button",className:"end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"authentication-modal",children:[e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{className:"p-4 md:p-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{children:e.jsxs(k,{name:"floorNo",selectedText:"floorName",label:"Floor No",formik:q,children:[e.jsx("option",{value:"",children:"Select Floor No"}),(ve=(Ne=(Xe=A==null?void 0:A.data)==null?void 0:Xe.data)==null?void 0:Ne.floor_type)==null?void 0:ve.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.floor_name},x==null?void 0:x.id))]})}),e.jsx("div",{children:e.jsxs(k,{name:"usagesTypeId",selectedText:"usagesTypeName",label:"Usages Type",formik:q,children:[e.jsx("option",{value:"",children:"Select Usages Type"}),(Q=(f=(fe=A==null?void 0:A.data)==null?void 0:fe.data)==null?void 0:f.usage_type)==null?void 0:Q.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.usage_type},x==null?void 0:x.id))]})}),e.jsx("div",{children:e.jsxs(k,{name:"occupancyTypeId",selectedText:"occupancyTypeName",label:"Occupancy Type",formik:q,children:[e.jsx("option",{value:"",children:"Select Occupancy Type"}),(X=(b=(d=A==null?void 0:A.data)==null?void 0:d.data)==null?void 0:b.occupancy_type)==null?void 0:X.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.occupancy_type},x==null?void 0:x.id))]})}),((F=q==null?void 0:q.values)==null?void 0:F.occupancyTypeId)==="2"&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{children:e.jsx(V,{type:"number",name:"rentAmount",label:"Rent Amount",formik:q})}),e.jsx("div",{children:e.jsx(V,{name:"rentAgreementDate",label:"Rent Agreement Date",formik:q,type:"date"})})]}),e.jsx("div",{children:e.jsxs(k,{name:"constructionTypeId",selectedText:"constructionTypeName",label:"Construction Type",formik:q,children:[e.jsx("option",{value:"",children:"Select Construction Type"}),(Oe=(a=(we=A==null?void 0:A.data)==null?void 0:we.data)==null?void 0:a.construction_type)==null?void 0:Oe.map(x=>e.jsx("option",{value:x==null?void 0:x.id,children:x==null?void 0:x.construction_type},x==null?void 0:x.id))]})}),e.jsx("div",{children:e.jsx(V,{type:"number",name:"builtUpArea",label:"Built Up Area",formik:q})}),e.jsx("div",{children:e.jsx(V,{name:"dateFrom",label:"Date From",formik:q,type:"date",max:(Fe=(Me=S==null?void 0:S.data)==null?void 0:Me.data)!=null&&Fe.application_date?(Ae=(Ve=S==null?void 0:S.data)==null?void 0:Ve.data)==null?void 0:Ae.application_date:""})}),e.jsx("div",{children:e.jsx(V,{name:"dateTo",label:"Date To",formik:q,type:"date",max:(N=(He=S==null?void 0:S.data)==null?void 0:He.data)!=null&&N.application_date?(Be=(Pe=S==null?void 0:S.data)==null?void 0:Pe.data)==null?void 0:Be.application_date:""})})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 gap-5",children:[e.jsx(w.Button,{type:"button",size:"sm",variant:"text",color:"red",onClick:O,className:"mr-1 bg-gray-300",children:e.jsx("span",{children:"Cancel"})}),e.jsx(w.Button,{type:"submit",size:"sm",children:e.jsx("span",{children:"Add"})})]})]})]})})})]})}const Ka=me().shape({zoneId:j().required("Required"),wardNo:j().required("Required"),propertyType:j().required("Required"),areaOfPlot:j().required("Required"),category:j().required("Required"),isHoardingBoard:j().required("Required").oneOf(["yes","no"]),hoardingArea:j().when("isHoardingBoard",{is:"yes",then:()=>j().required("Required")}),hoardingInstallationDate:j().when("isHoardingBoard",{is:"yes",then:()=>j().required("Required")}),isMobileTower:j().required("Required").oneOf(["yes","no"]),mobileTowerArea:j().when("isMobileTower",{is:"yes",then:()=>j().required("Required")}),mobileTowerInstallationDate:j().when("isMobileTower",{is:"yes",then:()=>j().required("Required")}),isPetrolPump:j().required("Required").oneOf(["yes","no"]),petrolPumpArea:j().when("isPetrolPump",{is:"yes",then:()=>j().required("Required")}),petrolPumpInstallationDate:j().when("isPetrolPump",{is:"yes",then:()=>j().required("Required")}),isRainWaterHarvesting:j().required("Required").oneOf(["yes","no"]),isFloorFromDB:Ra().required(),floorFromDB:Fa().when(["isFloorFromDB"],{is:B=>B==!0,then:()=>Fa().of(me().shape({floorNo:j().required("Required"),usageTypeId:j().required("Required"),constructionTypeId:j().required("Required"),occupancyTypeId:j().required("Required"),rentAmount:j().when("occupancyTypeId",{is:B=>B=="2",then:()=>j().required("Required")}),rentAgreementDate:j().when("occupancyTypeId",{is:B=>B=="2",then:()=>j().required("Required")}),builtUpArea:j().required("Required"),dateFrom:j().required("Required")}))})});function ud(){var Be,x,Ze,Ce,es,ss,as,ds,ls,rs,cs,ns,os,hs,us,ts,ps,xs,js,ys,bs,_s,gs,is,vs,fs,Ns,ws,Fs,Vs,As,Bs,Cs,ks,qs,Ss,Ts,$s,zs,Rs,Is,Ls,Ys,Ws,Es,Us,Ks,Qs,Gs,Js,Xs,Os,Ms,Hs,Ps,Zs,Ds,ms,ea,sa,aa,da,la,ra,ca,na,oa,ha,ua,ta,pa;const[B,Je]=Ge.useState("FORWARD"),p=Ba(),A=Sa(),{AutoFocusErrorField:S}=La(),[O,q]=Ge.useState([]),[Xe,Ne]=Ge.useState(!1),ve=Ca({}),{pathname:fe}=Ta(),{result:f}=Wa((x=(Be=fe==null?void 0:fe.split("/"))==null?void 0:Be.slice(0,-1))==null?void 0:x.join("/")),{id:Q}=$a(),d=De({api:Qe.staticSafDetailForVerification,config:{applicationId:Q},value:[Q],options:{enabled:!!Q}}),b=De({api:Qe.masterSaf,config:{},options:{enabled:!!Q}}),X=De({api:ka.workFlowInfo,config:{workflowId:(Ce=(Ze=d==null?void 0:d.data)==null?void 0:Ze.data)==null?void 0:Ce.workflow_id},value:[(ss=(es=d==null?void 0:d.data)==null?void 0:es.data)==null?void 0:ss.workflow_id],options:{enabled:!!((ds=(as=d==null?void 0:d.data)==null?void 0:as.data)!=null&&ds.workflow_id)}});Ge.useEffect(()=>{var l,y,v,_,n,o,T,$,z,R,I,L,Y,W,E,U,K,c,J,M,H,P,Z,D,m,ee,se,ae,de,le,re,ce,ne,oe,he,ue,te,pe,xe,je,ye,be,_e,s,h,u,t,ge,ie,ke,qe,Se,Te,$e,ze,Re,Ie,Le,Ye,We,Ee,Ue,Ke,r,g,i,xa,ja,ya,ba,_a,ga,ia,va,fa;(l=d==null?void 0:d.data)!=null&&l.data&&q([{id:1,title:"Zone",assessedLabel:"Self Assessed",selfAssessedValue:(_=F("zone",(v=(y=d==null?void 0:d.data)==null?void 0:y.data)==null?void 0:v.zone_mstr_id))==null?void 0:_.zone_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:(($=F("zone",(T=(o=(n=d==null?void 0:d.data)==null?void 0:n.data)==null?void 0:o.lastTcVerificationData)==null?void 0:T.zone_mstr_id))==null?void 0:$.zone_name)||"--",headerName:"basicDetail"},{id:2,title:"Ward No",assessedLabel:"Self Assessed",selfAssessedValue:(I=F("ward_master",(R=(z=d==null?void 0:d.data)==null?void 0:z.data)==null?void 0:R.ward_mstr_id))==null?void 0:I.ward_name,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((E=F("ward_master",(W=(Y=(L=d==null?void 0:d.data)==null?void 0:L.data)==null?void 0:Y.lastTcVerificationData)==null?void 0:W.ward_id))==null?void 0:E.ward_name)||"--",headerName:"basicDetail"},{id:3,title:"Property Type",assessedLabel:"Self Assessed",selfAssessedValue:(c=F("property_type",(K=(U=d==null?void 0:d.data)==null?void 0:U.data)==null?void 0:K.prop_type_mstr_id))==null?void 0:c.property_type,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((P=F("property_type",(H=(M=(J=d==null?void 0:d.data)==null?void 0:J.data)==null?void 0:M.lastTcVerificationData)==null?void 0:H.prop_type_id))==null?void 0:P.property_type)||"--",headerName:"basicDetail"},{id:4,title:"Area of plot(In decimal)",assessedLabel:"Self Assessed",selfAssessedValue:(D=(Z=d==null?void 0:d.data)==null?void 0:Z.data)==null?void 0:D.area_of_plot,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((se=(ee=(m=d==null?void 0:d.data)==null?void 0:m.data)==null?void 0:ee.lastTcVerificationData)==null?void 0:se.area_of_plot)||"--",headerName:"basicDetail"},{id:5,title:"Category",assessedLabel:"Self Assessed",selfAssessedValue:(le=F("categories",(de=(ae=d==null?void 0:d.data)==null?void 0:ae.data)==null?void 0:de.category_id))==null?void 0:le.category,tcVerifiedLabel:"TC Verified",tcVerifiedValue:((oe=F("categories",(ne=(ce=(re=d==null?void 0:d.data)==null?void 0:re.data)==null?void 0:ce.lastTcVerificationData)==null?void 0:ne.category_id))==null?void 0:oe.category)||"--",headerName:"basicDetail"},{id:6,title:"Hoarding Board(s)?",assessedLabel:"Self Assessed",selfAssessedValue:(ue=(he=d==null?void 0:d.data)==null?void 0:he.data)!=null&&ue.is_hoarding_board?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(xe=(pe=(te=d==null?void 0:d.data)==null?void 0:te.data)==null?void 0:pe.lastTcVerificationData)!=null&&xe.has_hoarding?"Yes":"No",area:((be=(ye=(je=d==null?void 0:d.data)==null?void 0:je.data)==null?void 0:ye.lastTcVerificationData)==null?void 0:be.hoarding_area)||"--",installationDate:(h=(s=(_e=d==null?void 0:d.data)==null?void 0:_e.data)==null?void 0:s.lastTcVerificationData)==null?void 0:h.hoarding_installation_date},{id:7,title:"Mobile Tower?",assessedLabel:"Self Assessed",selfAssessedValue:(t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_mobile_tower?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(ke=(ie=(ge=d==null?void 0:d.data)==null?void 0:ge.data)==null?void 0:ie.lastTcVerificationData)!=null&&ke.has_mobile_tower?"Yes":"No",area:((Te=(Se=(qe=d==null?void 0:d.data)==null?void 0:qe.data)==null?void 0:Se.lastTcVerificationData)==null?void 0:Te.tower_area)||"--",installationDate:(Re=(ze=($e=d==null?void 0:d.data)==null?void 0:$e.data)==null?void 0:ze.lastTcVerificationData)==null?void 0:Re.tower_installation_date},{id:8,title:"Petrol Pump?",assessedLabel:"Self Assessed",selfAssessedValue:(Le=(Ie=d==null?void 0:d.data)==null?void 0:Ie.data)!=null&&Le.is_petrol_pump?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(Ee=(We=(Ye=d==null?void 0:d.data)==null?void 0:Ye.data)==null?void 0:We.lastTcVerificationData)!=null&&Ee.has_petrol_pump?"Yes":"No",area:((r=(Ke=(Ue=d==null?void 0:d.data)==null?void 0:Ue.data)==null?void 0:Ke.lastTcVerificationData)==null?void 0:r.underground_area)||"--",installationDate:(xa=(i=(g=d==null?void 0:d.data)==null?void 0:g.data)==null?void 0:i.lastTcVerificationData)==null?void 0:xa.petrol_pump_completion_date},{id:9,title:"Rain Water Harvesting?",assessedLabel:"Self Assessed",selfAssessedValue:(ya=(ja=d==null?void 0:d.data)==null?void 0:ja.data)!=null&&ya.is_water_harvesting?"Yes":"No",headerName:"extraDetail",tcVerifiedLabel:"TC Verified",tcVerifiedValue:(ga=(_a=(ba=d==null?void 0:d.data)==null?void 0:ba.data)==null?void 0:_a.lastTcVerificationData)!=null&&ga.has_water_harvesting?"Yes":"No",installationDate:((fa=(va=(ia=d==null?void 0:d.data)==null?void 0:ia.data)==null?void 0:va.lastTcVerificationData)==null?void 0:fa.rwh_date_from)||""}])},[(ls=d==null?void 0:d.data)==null?void 0:ls.data,(rs=b==null?void 0:b.data)==null?void 0:rs.data]);const F=(l,y)=>{var v,_,n;return(n=(_=(v=b==null?void 0:b.data)==null?void 0:v.data)==null?void 0:_[l])==null?void 0:n.filter(o=>o.id==y)[0]},we=()=>{var l,y,v,_,n,o,T,$,z,R,I,L,Y,W,E,U;if(((y=(l=p==null?void 0:p.user)==null?void 0:l.roleWithId[0])==null?void 0:y.role_id)==5)return[...((n=(_=(v=d==null?void 0:d.data)==null?void 0:v.data)==null?void 0:_.floors)==null?void 0:n.length)>0?($=(T=(o=d==null?void 0:d.data)==null?void 0:o.data)==null?void 0:T.floors)==null?void 0:$.map(c=>{var J;return{floorId:(c==null?void 0:c.id)||"",checkFloorNo:"1",floorNo:(c==null?void 0:c.floor_mstr_id)||"",checkUsagesType:"1",usageTypeId:(c==null?void 0:c.usage_type_mstr_id)||"",checkConstructionTypeId:"1",constructionTypeId:(c==null?void 0:c.const_type_mstr_id)||"",checkOccupancyType:"1",occupancyTypeId:(c==null?void 0:c.occupancy_type_mstr_id)||"",rentAmount:((J=c==null?void 0:c.item)==null?void 0:J.rent_amount)||"",rentAgreementDate:(c==null?void 0:c.rent_agreement_date)||"",checkBuiltUpArea:"1",builtUpArea:(c==null?void 0:c.builtup_area)||"",checkDateFrom:"1",dateFrom:(c==null?void 0:c.date_from)||"",checkDateTo:"1",dateTo:(c==null?void 0:c.date_upto)||""}}):[]];if(((R=(z=p==null?void 0:p.user)==null?void 0:z.roleWithId[0])==null?void 0:R.role_id)==7)return[...((Y=(L=(I=d==null?void 0:d.data)==null?void 0:I.data)==null?void 0:L.lastTcFloorVerificationData)==null?void 0:Y.length)>0?(U=(E=(W=d==null?void 0:d.data)==null?void 0:W.data)==null?void 0:E.lastTcFloorVerificationData)==null?void 0:U.map(c=>({floorId:(c==null?void 0:c.id)||"",checkFloorNo:"1",floorNo:(c==null?void 0:c.floor_mstr_id)||"",checkUsagesType:"1",usageTypeId:(c==null?void 0:c.usage_type_id)||"",checkConstructionTypeId:"1",constructionTypeId:(c==null?void 0:c.const_type_mstr_id)||"",checkOccupancyType:"1",occupancyTypeId:(c==null?void 0:c.occupancy_type_id)||"",rentAmount:(c==null?void 0:c.rent_amount)||"",rentAgreementDate:(c==null?void 0:c.rent_agreement_date)||"",checkBuiltUpArea:"1",builtUpArea:(c==null?void 0:c.builtup_area)||"",checkDateFrom:"1",dateFrom:(c==null?void 0:c.date_from)||"",checkDateTo:"1",dateTo:(c==null?void 0:c.date_upto)||""})):[]]},a=Va({enableReinitialize:!0,initialValues:{isFloorFromDB:!1,zoneCheck:"1",zoneId:((ns=(cs=d==null?void 0:d.data)==null?void 0:cs.data)==null?void 0:ns.zone_mstr_id)||"",wardNoCheck:"1",wardNo:((hs=(os=d==null?void 0:d.data)==null?void 0:os.data)==null?void 0:hs.ward_mstr_id)||"",propertyTypeCheck:"1",propertyType:((ts=(us=d==null?void 0:d.data)==null?void 0:us.data)==null?void 0:ts.prop_type_mstr_id)||"",areaOfPlotCheck:"1",areaOfPlot:((xs=(ps=d==null?void 0:d.data)==null?void 0:ps.data)==null?void 0:xs.area_of_plot)||"",categoryCheck:"1",category:((ys=(js=d==null?void 0:d.data)==null?void 0:js.data)==null?void 0:ys.category_id)||"",isHoardingBoardCheck:"1",isHoardingBoard:(_s=(bs=d==null?void 0:d.data)==null?void 0:bs.data)!=null&&_s.is_hoarding_board?"yes":"no",hoardingArea:((is=(gs=d==null?void 0:d.data)==null?void 0:gs.data)==null?void 0:is.hoarding_area)||"",hoardingInstallationDate:((fs=(vs=d==null?void 0:d.data)==null?void 0:vs.data)==null?void 0:fs.hoarding_installation_date)||"",isMobileTowerCheck:"1",isMobileTower:(ws=(Ns=d==null?void 0:d.data)==null?void 0:Ns.data)!=null&&ws.is_mobile_tower?"yes":"no",mobileTowerArea:((Vs=(Fs=d==null?void 0:d.data)==null?void 0:Fs.data)==null?void 0:Vs.tower_area)||"",mobileTowerInstallationDate:((Bs=(As=d==null?void 0:d.data)==null?void 0:As.data)==null?void 0:Bs.tower_installation_date)||"",isPetrolPumpCheck:"1",isPetrolPump:(ks=(Cs=d==null?void 0:d.data)==null?void 0:Cs.data)!=null&&ks.is_petrol_pump?"yes":"no",petrolPumpArea:((Ss=(qs=d==null?void 0:d.data)==null?void 0:qs.data)==null?void 0:Ss.under_ground_area)||"",petrolPumpInstallationDate:(($s=(Ts=d==null?void 0:d.data)==null?void 0:Ts.data)==null?void 0:$s.petrol_pump_completion_date)||"",isRainWaterHarvestingCheck:"1",isRainWaterHarvesting:(Rs=(zs=d==null?void 0:d.data)==null?void 0:zs.data)!=null&&Rs.is_water_harvesting?"yes":"no",rainWaterHarvestingInstallationDate:((Ls=(Is=d==null?void 0:d.data)==null?void 0:Is.data)==null?void 0:Ls.rwh_date_from)||"",addFloor:[],floorFromDB:we(),remark:""},validationSchema:Ka,onSubmit:async l=>{if(B==="FORWARD"){Na.fire({title:"Are you sure?",text:"You are going to verify of this property ",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(y=>{y.isConfirmed&&Me(l)}).catch(y=>{var v,_;console.log(y),G.error((_=(v=y==null?void 0:y.response)==null?void 0:v.data)==null?void 0:_.message)});return}if(B==="BACKWARD"){if((l==null?void 0:l.remark)=="")return G.error("Please enter the remark for backward!");Na.fire({title:"Are you sure?",text:"You are going to backward of this application",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Proceed!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(y=>{y.isConfirmed&&Oe(l)}).catch(y=>{var v,_;console.log(y),G.error((_=(v=y==null?void 0:y.response)==null?void 0:v.data)==null?void 0:_.message)});return}}}),Oe=async l=>{var y,v,_;try{const n=await ve.mutateAsync({api:Qe.safLevel,data:{applicationId:Q,receiverRoleId1:"",action:"backward",comment:(l==null?void 0:l.comment)||"No Comment"}});(y=n==null?void 0:n.data)!=null&&y.status?(G.success((v=n==null?void 0:n.data)==null?void 0:v.message),A("/amc-app/property/saf-verification-list",{replace:!0})):G.error(((_=n==null?void 0:n.data)==null?void 0:_.message)||"Something went wrong, Please try again")}catch(n){G.error(n==null?void 0:n.message),console.log(n)}},Me=async l=>{var n,o,T,$,z,R,I,L,Y,W,E,U,K;if(console.log("submitData",l),((n=l==null?void 0:l.floorFromDB)==null?void 0:n.length)==0&&(l==null?void 0:l.addFloor.length)==0&&(l==null?void 0:l.propertyType)==4)return G.error("Please add floor details");const y=(o=l==null?void 0:l.floorFromDB)==null?void 0:o.map(c=>({floorId:(c==null?void 0:c.floorId)||0,floorNo:c==null?void 0:c.floorNo,useType:c==null?void 0:c.usageTypeId,constructionType:c==null?void 0:c.constructionTypeId,occupancyType:c==null?void 0:c.occupancyTypeId,rentAmount:c==null?void 0:c.rentAmount,rentAgreementDate:c==null?void 0:c.rentAgreementDate,buildupArea:c==null?void 0:c.builtUpArea,dateFrom:c==null?void 0:c.dateFrom,dateUpto:c==null?void 0:c.dateTo})),v=(T=l==null?void 0:l.addFloor)==null?void 0:T.map(c=>({floorId:0,floorNo:c==null?void 0:c.floorNo,useType:c==null?void 0:c.usagesTypeId,constructionType:c==null?void 0:c.constructionTypeId,occupancyType:c==null?void 0:c.occupancyTypeId,rentAmount:c==null?void 0:c.rentAmount,rentAgreementDate:c==null?void 0:c.rentAgreementDate,buildupArea:c==null?void 0:c.builtUpArea,dateFrom:c==null?void 0:c.dateFrom,dateUpto:c==null?void 0:c.dateTo})),_={safId:parseInt(Q),propertyType:parseInt(l==null?void 0:l.propertyType),category:parseInt(l==null?void 0:l.category),areaOfPlot:parseInt(l==null?void 0:l.areaOfPlot),wardId:parseInt(l==null?void 0:l.wardNo),isMobileTower:(l==null?void 0:l.isMobileTower)=="yes"?1:0,mobileTower:{area:parseInt(l==null?void 0:l.mobileTowerArea),dateFrom:l==null?void 0:l.mobileTowerInstallationDate},isPetrolPump:(l==null?void 0:l.isPetrolPump)=="yes"?1:0,petrolPump:{area:parseInt(l==null?void 0:l.petrolPumpArea),dateFrom:l==null?void 0:l.petrolPumpInstallationDate},isHoardingBoard:(l==null?void 0:l.isHoardingBoard)=="yes"?1:0,hoardingBoard:{area:parseInt(l==null?void 0:l.hoardingArea),dateFrom:l==null?void 0:l.hoardingInstallationDate},isWaterHarvesting:(l==null?void 0:l.isRainWaterHarvesting)=="yes"?1:0,rainWaterHarvestingInstallationDate:l==null?void 0:l.rainWaterHarvestingInstallationDate,zone:l==null?void 0:l.zoneId,floor:[...y,...v]};if(f!=null&&f.create||((z=($=p==null?void 0:p.user)==null?void 0:$.roleWithId[0])==null?void 0:z.role_id)==5)try{const c=await ve.mutateAsync({api:Qe.safSiteVerification,data:_});(R=c==null?void 0:c.data)!=null&&R.status?(A("/amc-app/property/geo-tagging/".concat(Q),{replace:!0}),G.success((I=c==null?void 0:c.data)==null?void 0:I.message)):G.error(((Y=(L=c==null?void 0:c.data)==null?void 0:L.message)==null?void 0:Y.response)||"Something went wrong, Please try again")}catch(c){G.error(c==null?void 0:c.message),console.log(c)}if(f!=null&&f.update||((E=(W=p==null?void 0:p.user)==null?void 0:W.roleWithId[0])==null?void 0:E.role_id)==7)try{const c=await ve.mutateAsync({api:Qe.safSiteVerification,data:_});(U=c==null?void 0:c.data)!=null&&U.status?A("/amc-app/property/naksha-verification/".concat(Q),{replace:!0}):G.error(((K=c==null?void 0:c.data)==null?void 0:K.message)||"Something went wrong, Please try again")}catch(c){G.error(c==null?void 0:c.message),console.log(c)}},{submitCount:Fe,isSubmitting:Ve,errors:Ae,isValid:He}=a,N=[{id:1,title:"Correct",value:"1"},{id:2,title:"Incorrect",value:"0"}],Pe=l=>{var y,v,_,n,o,T,$,z,R,I,L,Y,W,E,U,K,c,J,M,H,P,Z,D,m,ee,se,ae,de,le,re,ce,ne,oe,he,ue,te,pe,xe,je,ye,be,_e;if((l==null?void 0:l.id)===1)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"zoneCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.zoneCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t,ge,ie;a.setFieldValue("zoneId",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.zone_mstr_id),a.setFieldValue("zoneCheck",s==null?void 0:s.value),a.setFieldValue("wardNoCheck","1"),a.setFieldValue("wardNo",(ie=(ge=d==null?void 0:d.data)==null?void 0:ge.data)==null?void 0:ie.ward_mstr_id)}:()=>{a.setFieldValue("zoneId",""),a.setFieldValue("zoneCheck",s==null?void 0:s.value),a.setFieldValue("wardNoCheck","0"),a.setFieldValue("wardNo","")}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"zoneId",disabled:((y=a==null?void 0:a.values)==null?void 0:y.zoneCheck)=="1",formik:a,children:[e.jsx("option",{value:"",children:"Select"}),(n=(_=(v=b==null?void 0:b.data)==null?void 0:v.data)==null?void 0:_.zone)==null?void 0:n.map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.id,selected:((h=a==null?void 0:a.values)==null?void 0:h.zoneCheck)=="1"&&s.id==((t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.zone_mstr_id),children:s==null?void 0:s.zone_name},s==null?void 0:s.id)})]})]});if((l==null?void 0:l.id)===2)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"wardNoCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.wardNoCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("wardNo",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.ward_mstr_id),a.setFieldValue("wardNoCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("wardNo",""),a.setFieldValue("wardNoCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"wardNo",disabled:((o=a==null?void 0:a.values)==null?void 0:o.wardNoCheck)=="1",formik:a,children:[e.jsx("option",{value:"",children:"Select"}),(R=(z=($=(T=b==null?void 0:b.data)==null?void 0:T.data)==null?void 0:$.ward_master)==null?void 0:z.filter(s=>{var h;return(s==null?void 0:s.zone)==((h=a==null?void 0:a.values)==null?void 0:h.zoneId)}))==null?void 0:R.map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.id,selected:((h=a==null?void 0:a.values)==null?void 0:h.wardNoCheck)=="1"&&s.id==((t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.ward_mstr_id),children:s==null?void 0:s.ward_name},s==null?void 0:s.id)})]})]});if((l==null?void 0:l.id)===3)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"propertyTypeCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.propertyTypeCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("propertyType",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.prop_type_mstr_id),a.setFieldValue("propertyTypeCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("propertyType",""),a.setFieldValue("propertyTypeCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"propertyType",formik:a,disabled:((I=a==null?void 0:a.values)==null?void 0:I.propertyTypeCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(W=(Y=(L=b==null?void 0:b.data)==null?void 0:L.data)==null?void 0:Y.property_type)==null?void 0:W.map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.id,selected:((h=a==null?void 0:a.values)==null?void 0:h.propertyTypeCheck)=="1"&&s.id==((t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.prop_type_mstr_id),children:s==null?void 0:s.property_type},s==null?void 0:s.id)})]})]});if((l==null?void 0:l.id)===4)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"areaOfPlotCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.areaOfPlotCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("areaOfPlot",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.area_of_plot),a.setFieldValue("areaOfPlotCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("areaOfPlot",""),a.setFieldValue("areaOfPlotCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsx(V,{type:"number",name:"areaOfPlot",formik:a,disabled:((E=a==null?void 0:a.values)==null?void 0:E.areaOfPlotCheck)=="1"})]});if((l==null?void 0:l.id)===5)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"categoryCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.categoryCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("category",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.category_id),a.setFieldValue("categoryCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("category",""),a.setFieldValue("categoryCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"category",formik:a,disabled:((U=a==null?void 0:a.values)==null?void 0:U.categoryCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(J=(c=(K=b==null?void 0:b.data)==null?void 0:K.data)==null?void 0:c.categories)==null?void 0:J.map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.id,selected:((h=a==null?void 0:a.values)==null?void 0:h.categoryCheck)=="1"&&s.id==((t=(u=d==null?void 0:d.data)==null?void 0:u.data)==null?void 0:t.category_id),children:s==null?void 0:s.category},s==null?void 0:s.id)})]})]});if((l==null?void 0:l.id)===6)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"isHoardingBoardCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.isHoardingBoardCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("isHoardingBoard",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_hoarding_board?"yes":"no"),a.setFieldValue("isHoardingBoardCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isHoardingBoard",""),a.setFieldValue("isHoardingBoardCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"isHoardingBoard",formik:a,disabled:((M=a==null?void 0:a.values)==null?void 0:M.isHoardingBoardCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.value,selected:((h=a==null?void 0:a.values)==null?void 0:h.isHoardingBoardCheck)=="1"&&((t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_hoarding_board?"yes":s.value=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((H=a==null?void 0:a.values)==null?void 0:H.isHoardingBoard)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(V,{type:"number",label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"hoardingArea",formik:a}),e.jsx(V,{type:"date",max:(Z=(P=d==null?void 0:d.data)==null?void 0:P.data)!=null&&Z.application_date?(m=(D=d==null?void 0:d.data)==null?void 0:D.data)==null?void 0:m.application_date:"",label:"Hoarding Installation Date",name:"hoardingInstallationDate",formik:a})]})]});if((l==null?void 0:l.id)===7)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N==null?void 0:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"isMobileTowerCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.isMobileTowerCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("isMobileTower",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_mobile_tower?"yes":"no"),a.setFieldValue("isMobileTowerCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isMobileTower",""),a.setFieldValue("isMobileTowerCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"isMobileTower",formik:a,disabled:((ee=a==null?void 0:a.values)==null?void 0:ee.isMobileTowerCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.value,selected:((h=a==null?void 0:a.values)==null?void 0:h.isMobileTowerCheck)=="1"&&((t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_mobile_tower?"yes":(s==null?void 0:s.value)=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((se=a==null?void 0:a.values)==null?void 0:se.isMobileTower)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(V,{type:"number",label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"mobileTowerArea",formik:a}),e.jsx(V,{type:"date",label:"Installation Date",name:"mobileTowerInstallationDate",formik:a,max:(de=(ae=d==null?void 0:d.data)==null?void 0:ae.data)!=null&&de.application_date?(re=(le=d==null?void 0:d.data)==null?void 0:le.data)==null?void 0:re.application_date:""})]})]});if((l==null?void 0:l.id)===8)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"isPetrolPumpCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.isPetrolPumpCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("isPetrolPump",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_petrol_pump?"yes":"no"),a.setFieldValue("isPetrolPumpCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isPetrolPump",""),a.setFieldValue("isPetrolPumpCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"isPetrolPump",formik:a,disabled:((ce=a==null?void 0:a.values)==null?void 0:ce.isPetrolPumpCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.value,selected:((h=a==null?void 0:a.values)==null?void 0:h.isPetrolPumpCheck)=="1"&&((t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_petrol_pump?"yes":(s==null?void 0:s.value)=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((ne=a==null?void 0:a.values)==null?void 0:ne.isPetrolPump)=="yes"&&e.jsxs("div",{className:"mt-5",children:[e.jsx(V,{type:"number",label:"Total Area(in Sq.Ft)",placeholder:"Total Area",name:"petrolPumpArea",formik:a}),e.jsx(V,{type:"date",label:"Installation Date",name:"petrolPumpInstallationDate",formik:a,max:(he=(oe=d==null?void 0:d.data)==null?void 0:oe.data)!=null&&he.application_date?(te=(ue=d==null?void 0:d.data)==null?void 0:ue.data)==null?void 0:te.application_date:""})]})]});if((l==null?void 0:l.id)===9)return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N==null?void 0:N.map(s=>{var h;return e.jsx(C,{formik:a,name:"isRainWaterHarvestingCheck",label:s==null?void 0:s.title,value:s==null?void 0:s.value,checked:((h=a==null?void 0:a.values)==null?void 0:h.isRainWaterHarvestingCheck)==(s==null?void 0:s.value),onChange:(s==null?void 0:s.value)=="1"?()=>{var u,t;a.setFieldValue("isRainWaterHarvesting",(t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_water_harvesting?"yes":"no"),a.setFieldValue("isRainWaterHarvestingCheck",s==null?void 0:s.value)}:()=>{a.setFieldValue("isRainWaterHarvesting",""),a.setFieldValue("isRainWaterHarvestingCheck",s==null?void 0:s.value)}},s==null?void 0:s.id)})}),e.jsxs(k,{name:"isRainWaterHarvesting",formik:a,disabled:((pe=a==null?void 0:a.values)==null?void 0:pe.isRainWaterHarvestingCheck)=="1",children:[e.jsx("option",{value:"",children:"Select"}),[{title:"Yes",value:"yes"},{title:"No",value:"no"}].map(s=>{var h,u,t;return e.jsx("option",{value:s==null?void 0:s.value,selected:((h=a==null?void 0:a.values)==null?void 0:h.isRainWaterHarvestingCheck)=="1"&&((t=(u=d==null?void 0:d.data)==null?void 0:u.data)!=null&&t.is_water_harvesting?"yes":s.value=="no"),children:s==null?void 0:s.title},s==null?void 0:s.value)})]}),((xe=a==null?void 0:a.values)==null?void 0:xe.isRainWaterHarvesting)=="yes"&&e.jsx("div",{className:"mt-5",children:e.jsx(V,{type:"date",label:"Installation Date",name:"rainWaterHarvestingInstallationDate",formik:a,max:(ye=(je=d==null?void 0:d.data)==null?void 0:je.data)!=null&&ye.application_date?(_e=(be=d==null?void 0:d.data)==null?void 0:be.data)==null?void 0:_e.application_date:""})})]})};return wa.useEffect(()=>{var l,y,v,_;(y=(l=d==null?void 0:d.data)==null?void 0:l.data)!=null&&y.is_agency_verified&&(f!=null&&f.create||((_=(v=p==null?void 0:p.user)==null?void 0:v.roleWithId[0])==null?void 0:_.role_id)==5)&&A("/amc-app/property/geo-tagging/".concat(Q),{replace:!0})},[(Ws=(Ys=d==null?void 0:d.data)==null?void 0:Ys.data)==null?void 0:Ws.is_agency_verified]),wa.useEffect(()=>{var l;((l=a.values)==null?void 0:l.propertyType)==4?(a.setFieldValue("floorFromDB",[]),a.setFieldValue("isFloorFromDB",!1)):(a.setFieldValue("floorFromDB",we()),a.setFieldValue("isFloorFromDB",!0))},[(Es=a.values)==null?void 0:Es.propertyType,(Ks=(Us=d==null?void 0:d.data)==null?void 0:Us.data)==null?void 0:Ks.floors]),Ge.useEffect(()=>{S({submitCount:Fe,isSubmitting:Ve,errors:Ae,isValid:He})},[Ae,Fe,Ve]),d!=null&&d.isLoading||b!=null&&b.isLoading?e.jsx(qa,{}):e.jsxs(Ia,{title:"Saf Site Verification",children:[ve.isLoading&&e.jsx(Ya,{}),e.jsx(Ua,{open:Xe,setOpen:Ne,addFloorData:a,safData:d,masterData:b}),e.jsxs("div",{className:"p-4 ",children:[e.jsx(w.Card,{className:"w-full",children:e.jsxs(w.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-base font-semibold",children:"Details"})}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("h1",{className:"font-semibold text-sm",children:"Application No : "}),e.jsx("h1",{className:"text-sm",children:(Gs=(Qs=d==null?void 0:d.data)==null?void 0:Qs.data)==null?void 0:Gs.saf_no}),e.jsx("h1",{className:"font-semibold text-sm",children:"Application Type : "}),e.jsx("h1",{className:"text-sm",children:(Xs=(Js=d==null?void 0:d.data)==null?void 0:Js.data)==null?void 0:Xs.assessment_type}),e.jsx("h1",{className:"font-semibold text-sm",children:"Apply Date : "}),e.jsx("h1",{className:"text-sm",children:(Ms=(Os=d==null?void 0:d.data)==null?void 0:Os.data)==null?void 0:Ms.application_date}),e.jsx("h1",{className:"font-semibold text-sm",children:"Owner Name : "}),e.jsx("h1",{className:"text-sm",children:(Ps=(Hs=d==null?void 0:d.data)==null?void 0:Hs.data)==null?void 0:Ps.applicant_name}),e.jsx("h1",{className:"font-semibold text-sm",children:"Mobile No : "}),e.jsx("div",{className:"w-20 truncate",children:e.jsx("h1",{className:"text-sm",children:(ms=(Ds=(Zs=d==null?void 0:d.data)==null?void 0:Zs.data)==null?void 0:Ds.owners)==null?void 0:ms.map(l=>l==null?void 0:l.mobile_no).join(", ")})})]})]})}),e.jsxs(Aa,{formik:a,children:[e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:O==null?void 0:O.map((l,y)=>{var v,_;return e.jsxs(w.Card,{className:"w-full",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:l==null?void 0:l.title})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.selfAssessedValue})]}),((f==null?void 0:f.update)||((_=(v=p==null?void 0:p.user)==null?void 0:v.roleWithId[0])==null?void 0:_.role_id)==7)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Tc Verified :"," "]}),e.jsx("h1",{className:"text-sm mt-2",children:l==null?void 0:l.tcVerifiedValue})]}),(l==null?void 0:l.area)&&e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Area ",e.jsx("small",{children:"(Tc Verified)"})," -:"]}),e.jsx("h1",{className:"text-sm mt-2",children:l==null?void 0:l.area})]}),(l==null?void 0:l.installationDate)&&e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold mt-2",children:["Date ",e.jsx("small",{children:"(Tc Verified)"})," -:"]}),e.jsx("h1",{className:"text-sm mt-2",children:l==null?void 0:l.installationDate})]}),l!=null&&l.has_hoarding||l!=null&&l.has_mobile_tower||l!=null&&l.has_petrol_pump||l!=null&&l.has_water_harvesting?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Area-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.area})]}),e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsx("h1",{className:"text-sm",children:"Date-: "}),e.jsx("h1",{className:"text-sm",children:l==null?void 0:l.installationDate})]})]}):null]}),Pe(l)]})]},y)})}),e.jsx("div",{className:"border border-gray-300 w-full my-5"}),((ea=a==null?void 0:a.values)==null?void 0:ea.propertyType)!=4?e.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[e.jsx("h1",{className:"text-sm font-semibold text-center",children:"Floor Details"}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx(za,{name:"floorFromDB",children:l=>{var y,v,_;return e.jsx(e.Fragment,{children:(_=(v=(y=d==null?void 0:d.data)==null?void 0:y.data)==null?void 0:v.floors)==null?void 0:_.map((n,o)=>{var T,$,z,R,I,L,Y,W,E,U,K,c,J,M,H,P,Z,D,m,ee,se,ae,de,le,re,ce,ne,oe,he,ue,te,pe,xe,je,ye,be,_e,s,h,u,t,ge,ie,ke,qe,Se,Te,$e,ze,Re,Ie,Le,Ye,We,Ee,Ue,Ke;return e.jsx("div",{className:"py-3",children:e.jsxs(w.Card,{className:"w-full ",children:[e.jsxs("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:[e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:(T=F("floor_type",n==null?void 0:n.floor_mstr_id))==null?void 0:T.floor_name}),(n==null?void 0:n.id)==0&&e.jsxs("div",{className:"relative grid items-center px-2 py-1 font-sans text-xs font-bold text-gray-200  rounded-md select-none whitespace-nowrap bg-blue-900/50",children:[e.jsx("div",{className:"absolute w-4 h-4 top-2/4 left-1 -translate-y-2/4",children:e.jsx("span",{className:"mx-auto mt-1 block h-2 w-2 rounded-full bg-blue-900 content-['']"})}),e.jsx("span",{className:"ml-4",children:"Add new floor by TC"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs(w.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Floor"})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:($=F("floor_type",n==null?void 0:n.floor_mstr_id))==null?void 0:$.floor_name})]}),((f==null?void 0:f.update)||((R=(z=p==null?void 0:p.user)==null?void 0:z.roleWithId[0])==null?void 0:R.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-3 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-xs",children:(I=F("floor_type",n==null?void 0:n.tc_verified_floor_mstr_id))==null?void 0:I.floor_name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(r=>{var g,i;return e.jsx(C,{formik:a,name:"floorFromDB[".concat(o,"].checkFloorNo"),label:r==null?void 0:r.title,value:r==null?void 0:r.value,checked:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkFloorNo)==(r==null?void 0:r.value),onChange:(r==null?void 0:r.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkFloorNo"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].floorNo"),n==null?void 0:n.floor_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkFloorNo"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].floorNo"),"")}},r==null?void 0:r.id)})}),e.jsxs(k,{isDynamic:!0,name:"floorFromDB.".concat(o,".floorNo"),formik:a,disabled:((Y=(L=a==null?void 0:a.values)==null?void 0:L.floorFromDB[o])==null?void 0:Y.checkFloorNo)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(U=(E=(W=b==null?void 0:b.data)==null?void 0:W.data)==null?void 0:E.floor_type)==null?void 0:U.map(r=>{var g,i;return e.jsx("option",{value:r==null?void 0:r.id,selected:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkFloorNo)=="1"&&(r==null?void 0:r.id)==(n==null?void 0:n.floor_mstr_id),children:r==null?void 0:r.floor_name},r==null?void 0:r.id)})]})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(w.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Usages Type"})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(K=F("usage_type",n==null?void 0:n.usage_type_mstr_id))==null?void 0:K.usage_type})]}),((f==null?void 0:f.update)||((J=(c=p==null?void 0:p.user)==null?void 0:c.roleWithId[0])==null?void 0:J.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(M=F("usage_type",n==null?void 0:n.tc_verified_usage_type_mstr_id))==null?void 0:M.usage_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N==null?void 0:N.map(r=>{var g,i;return e.jsx(C,{formik:a,name:"floorFromDB[".concat(o,"].checkUsagesType"),label:r==null?void 0:r.title,value:r==null?void 0:r.value,checked:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkUsagesType)==(r==null?void 0:r.value),onChange:(r==null?void 0:r.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkUsagesType"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].usageTypeId"),n==null?void 0:n.usage_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkUsagesType"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].usageTypeId"),"")}},r==null?void 0:r.id)})}),e.jsxs(k,{isDynamic:!0,name:"floorFromDB.".concat(o,".usageTypeId"),formik:a,disabled:((P=(H=a==null?void 0:a.values)==null?void 0:H.floorFromDB[o])==null?void 0:P.checkUsagesType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(m=(D=(Z=b==null?void 0:b.data)==null?void 0:Z.data)==null?void 0:D.usage_type)==null?void 0:m.map(r=>{var g,i;return e.jsx("option",{value:r==null?void 0:r.id,selected:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkUsagesType)=="1"&&(r==null?void 0:r.id)==(n==null?void 0:n.usage_type_mstr_id),children:r==null?void 0:r.usage_type},r==null?void 0:r.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(w.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Occupancy Type"})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(ee=F("occupancy_type",n==null?void 0:n.occupancy_type_mstr_id))==null?void 0:ee.occupancy_type})]}),((f==null?void 0:f.update)||((ae=(se=p==null?void 0:p.user)==null?void 0:se.roleWithId[0])==null?void 0:ae.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(de=F("occupancy_type",n==null?void 0:n.tc_verified_occupancy_type_mstr_id))==null?void 0:de.occupancy_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(r=>{var g,i;return e.jsx(C,{formik:a,name:"floorFromDB[".concat(o,"].checkOccupancyType"),label:r==null?void 0:r.title,value:r==null?void 0:r.value,checked:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkOccupancyType)==(r==null?void 0:r.value),onChange:(r==null?void 0:r.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkOccupancyType"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].occupancyTypeId"),n==null?void 0:n.occupancy_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkOccupancyType"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].occupancyTypeId"),"")}},r==null?void 0:r.id)})}),e.jsx("div",{children:e.jsxs(k,{isDynamic:!0,name:"floorFromDB.".concat(o,".occupancyTypeId"),formik:a,disabled:((re=(le=a==null?void 0:a.values)==null?void 0:le.floorFromDB[o])==null?void 0:re.checkOccupancyType)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(oe=(ne=(ce=b==null?void 0:b.data)==null?void 0:ce.data)==null?void 0:ne.occupancy_type)==null?void 0:oe.map(r=>{var g,i;return e.jsx("option",{value:r==null?void 0:r.id,selected:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkOccupancyType)=="1"&&(r==null?void 0:r.id)==(n==null?void 0:n.occupancy_type_mstr_id),children:r==null?void 0:r.occupancy_type},r==null?void 0:r.id)})]})}),((ue=(he=a==null?void 0:a.values)==null?void 0:he.floorFromDB[o])==null?void 0:ue.occupancyTypeId)==2&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{children:e.jsx(V,{type:"number",label:"Rent amount",placeholder:"Rent amount",name:"floorFromDB[".concat(o,"].rentAmount"),formik:a})}),e.jsx("div",{children:e.jsx(V,{type:"date",max:new Date().toISOString().split("T")[0],label:"Rent Agreement Date",placeholder:"Rent Agreement Date",name:"floorFromDB[".concat(o,"].rentAgreementDate"),formik:a})})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(w.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-base font-semibold text-gray-100",children:"Construction Type"})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:(te=F("construction_type",n==null?void 0:n.const_type_mstr_id))==null?void 0:te.construction_type})]}),((f==null?void 0:f.update)||((xe=(pe=p==null?void 0:p.user)==null?void 0:pe.roleWithId[0])==null?void 0:xe.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:(je=F("construction_type",n==null?void 0:n.tc_verified_const_type_mstr_id))==null?void 0:je.construction_type})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N==null?void 0:N.map(r=>{var g,i;return e.jsx(C,{formik:a,name:"floorFromDB[".concat(o,"].checkConstructionTypeId"),label:r==null?void 0:r.title,value:r==null?void 0:r.value,checked:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkConstructionTypeId)==(r==null?void 0:r.value),onChange:(r==null?void 0:r.value)=="1"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkConstructionTypeId"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].constructionTypeId"),n==null?void 0:n.const_type_mstr_id)}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkConstructionTypeId"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].constructionTypeId"),"")}},r==null?void 0:r.id)})}),e.jsxs(k,{isDynamic:!0,name:"floorFromDB.".concat(o,".constructionTypeId"),formik:a,disabled:((be=(ye=a==null?void 0:a.values)==null?void 0:ye.floorFromDB[o])==null?void 0:be.checkConstructionTypeId)=="1",children:[e.jsx("option",{value:"",children:"Select"}),(h=(s=(_e=b==null?void 0:b.data)==null?void 0:_e.data)==null?void 0:s.construction_type)==null?void 0:h.map(r=>{var g,i;return e.jsx("option",{value:r==null?void 0:r.id,selected:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkConstructionTypeId)=="1"&&(r==null?void 0:r.id)==(n==null?void 0:n.const_type_mstr_id),children:r==null?void 0:r.construction_type},r==null?void 0:r.id)})]})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(w.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Build Up Area (in Sq.Ft)"})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.builtup_area})]}),((f==null?void 0:f.update)||((t=(u=p==null?void 0:p.user)==null?void 0:u.roleWithId[0])==null?void 0:t.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.tc_verified_builtup_area})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(r=>{var g,i;return e.jsx(C,{formik:a,name:"floorFromDB[".concat(o,"].checkBuiltUpArea"),label:r==null?void 0:r.title,value:r==null?void 0:r.value,checked:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkBuiltUpArea)==(r==null?void 0:r.value),onChange:(r==null?void 0:r.value)=="0"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkBuiltUpArea"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].builtUpArea"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkBuiltUpArea"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].builtUpArea"),n==null?void 0:n.builtup_area)}},r==null?void 0:r.id)})}),e.jsx(V,{isDynamic:!0,type:"number",name:"floorFromDB.".concat(o,".builtUpArea"),formik:a,disabled:((ie=(ge=a==null?void 0:a.values)==null?void 0:ge.floorFromDB[o])==null?void 0:ie.checkBuiltUpArea)=="1"})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(w.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date From"})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.date_from})]}),((f==null?void 0:f.update)||((qe=(ke=p==null?void 0:p.user)==null?void 0:ke.roleWithId[0])==null?void 0:qe.role_id)==7)&&e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.tc_verified_date_from})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N.map(r=>{var g,i;return e.jsx(C,{formik:a,name:"floorFromDB[".concat(o,"].checkDateFrom"),label:r==null?void 0:r.title,value:r==null?void 0:r.value,checked:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkDateFrom)==(r==null?void 0:r.value),onChange:(r==null?void 0:r.value)=="0"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateFrom"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].dateFrom"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateFrom"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].dateFrom"),n==null?void 0:n.date_from)}},r==null?void 0:r.id)})}),e.jsx(V,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(o,".dateFrom"),formik:a,disabled:((Te=(Se=a==null?void 0:a.values)==null?void 0:Se.floorFromDB[o])==null?void 0:Te.checkDateFrom)=="1",max:(ze=($e=d==null?void 0:d.data)==null?void 0:$e.data)!=null&&ze.application_date?(Ie=(Re=d==null?void 0:d.data)==null?void 0:Re.data)==null?void 0:Ie.application_date:""})]})]}),e.jsx("div",{className:"border border-gray-300 w-full my-4"}),e.jsxs(w.Card,{className:"w-full ",children:[e.jsx("div",{className:"flex justify-between items-center px-5 bg-blue-gray-400 py-2 rounded-tl-lg rounded-tr-lg",children:e.jsx("h1",{className:"text-sm font-semibold text-gray-100",children:"Date Upto"})}),e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-start items-center gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Self Assessed :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.date_upto})]}),e.jsxs("div",{className:"flex justify-start items-center mt-2 gap-5",children:[e.jsxs("h1",{className:"text-sm font-semibold",children:["Verified by TC :"," "]}),e.jsx("h1",{className:"text-sm",children:n==null?void 0:n.tc_verified_date_upto})]}),e.jsx("div",{className:"flex justify-between items-center gap-2 mb-5 mt-5",children:N==null?void 0:N.map(r=>{var g,i;return e.jsx(C,{formik:a,name:"floorFromDB[".concat(o,"].checkDateTo"),label:r==null?void 0:r.title,value:r==null?void 0:r.value,checked:((i=(g=a==null?void 0:a.values)==null?void 0:g.floorFromDB[o])==null?void 0:i.checkDateTo)==(r==null?void 0:r.value),onChange:(r==null?void 0:r.value)=="0"?()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateTo"),"0"),a.setFieldValue("floorFromDB[".concat(o,"].dateTo"),"")}:()=>{a.setFieldValue("floorFromDB[".concat(o,"].checkDateTo"),"1"),a.setFieldValue("floorFromDB[".concat(o,"].dateTo"),n==null?void 0:n.date_upto)}},r==null?void 0:r.id)})}),e.jsx(V,{isDynamic:!0,type:"date",name:"floorFromDB.".concat(o,".dateTo"),formik:a,disabled:((Ye=(Le=a==null?void 0:a.values)==null?void 0:Le.floorFromDB[o])==null?void 0:Ye.checkDateTo)=="1",max:(Ee=(We=d==null?void 0:d.data)==null?void 0:We.data)!=null&&Ee.application_date?(Ke=(Ue=d==null?void 0:d.data)==null?void 0:Ue.data)==null?void 0:Ke.application_date:""})]})]})]})]})},o)})})}}),e.jsx(w.Card,{className:"w-full",children:e.jsxs(w.CardBody,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-sm font-semibold",children:"Add Floor"}),e.jsx(w.Button,{size:"sm",onClick:()=>Ne(!0),children:"Add Floor"})]}),e.jsx("div",{className:"border border-gray-300 w-full my-2"}),e.jsx("div",{className:"relative overflow-x-auto  sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left  border-slate-400 border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm",children:[e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Floor No"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Usage Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Occupancy Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Construction Type"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Build Up Area"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date From"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Date Upto"}),e.jsx("th",{className:"text-xs font-semibold p-4 border border-slate-300",children:"Action"})]})}),e.jsx("tbody",{children:(aa=(sa=a==null?void 0:a.values)==null?void 0:sa.addFloor)==null?void 0:aa.map((l,y)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.floorName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.usagesTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.occupancyTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.constructionTypeName}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.builtUpArea}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateFrom}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:l==null?void 0:l.dateTo}),e.jsx("td",{className:"text-xs font-semibold p-4 border border-slate-300",children:e.jsx("button",{onClick:()=>{var v,_;a.setFieldValue("addFloor",(_=(v=a==null?void 0:a.values)==null?void 0:v.addFloor)==null?void 0:_.filter((n,o)=>o!==y))},type:"button",className:"text-xs font-semibold p-1 border border-slate-300 rounded-md bg-red-600 text-white",children:"Remove"})})]},y))})]})})]})})]}):null,e.jsx("div",{className:"border border-gray-300 w-full my-5"}),e.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:e.jsx(w.Card,{className:"w-full",children:e.jsxs(w.CardBody,{children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{children:e.jsx("div",{className:"flex justify-start items-center gap-2 mb-1",children:e.jsx("h1",{className:"text-sm font-semibold",children:"Remark"})})})}),e.jsx(V,{name:"remark",formik:a,placeholder:"Remark"})]})})}),e.jsx("div",{className:"border border-gray-300 w-full mt-5"}),e.jsxs("div",{className:"flex justify-center items-center py-5 gap-2",children:[((ra=(la=(da=X==null?void 0:X.data)==null?void 0:da.data)==null?void 0:la.permissions)==null?void 0:ra.can_backward)&&e.jsx(w.Button,{size:"sm",type:"submit",className:"bg-red-500 text-white px-4 py-2 rounded-md mt-4",onClick:()=>Je("BACKWARD"),children:((na=(ca=p==null?void 0:p.user)==null?void 0:ca.roleWithId[0])==null?void 0:na.role_id)==7?e.jsx("small",{children:" Back To Agency Engineer"}):((ha=(oa=p==null?void 0:p.user)==null?void 0:oa.roleWithId[0])==null?void 0:ha.role_id)==5?e.jsx("small",{children:"Back To Back Office"}):e.jsx("small",{children:"Backward"})}),((pa=(ta=(ua=X==null?void 0:X.data)==null?void 0:ua.data)==null?void 0:ta.permissions)==null?void 0:pa.can_forward)&&e.jsx(w.Button,{size:"sm",type:"submit",onClick:()=>Je("FORWARD"),className:"bg-blue-500 text-white px-4 py-2 rounded-md mt-4 ",children:e.jsx("small",{children:"Save & Next"})})]})]})]})]})}export{ud as default};
